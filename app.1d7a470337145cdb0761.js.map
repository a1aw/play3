{"version":3,"sources":["webpack:///./src/js/lib/games/bigtwo/sizes.js","webpack:///./src/js/lib/games/bigtwo/findCombinations.js","webpack:///./src/js/lib/games/bigtwo/makeCombination.js","webpack:///./src/js/lib/games/bigtwo/card.js","webpack:///./src/img/playingcards/back.svg","webpack:///./src/js/lib/games/bigtwo/combination.js","webpack:///./src/css/bigtwo.css?7439","webpack:///./src/css/bigtwo.css","webpack:///./src/img/playingcards sync nonrecursive \\.svg$","webpack:///./src/img/playingcards/10_of_clubs.svg","webpack:///./src/img/playingcards/10_of_diamonds.svg","webpack:///./src/img/playingcards/10_of_hearts.svg","webpack:///./src/img/playingcards/10_of_spades.svg","webpack:///./src/img/playingcards/2_of_clubs.svg","webpack:///./src/img/playingcards/2_of_diamonds.svg","webpack:///./src/img/playingcards/2_of_hearts.svg","webpack:///./src/img/playingcards/2_of_spades.svg","webpack:///./src/img/playingcards/3_of_clubs.svg","webpack:///./src/img/playingcards/3_of_diamonds.svg","webpack:///./src/img/playingcards/3_of_hearts.svg","webpack:///./src/img/playingcards/3_of_spades.svg","webpack:///./src/img/playingcards/4_of_clubs.svg","webpack:///./src/img/playingcards/4_of_diamonds.svg","webpack:///./src/img/playingcards/4_of_hearts.svg","webpack:///./src/img/playingcards/4_of_spades.svg","webpack:///./src/img/playingcards/5_of_clubs.svg","webpack:///./src/img/playingcards/5_of_diamonds.svg","webpack:///./src/img/playingcards/5_of_hearts.svg","webpack:///./src/img/playingcards/5_of_spades.svg","webpack:///./src/img/playingcards/6_of_clubs.svg","webpack:///./src/img/playingcards/6_of_diamonds.svg","webpack:///./src/img/playingcards/6_of_hearts.svg","webpack:///./src/img/playingcards/6_of_spades.svg","webpack:///./src/img/playingcards/7_of_clubs.svg","webpack:///./src/img/playingcards/7_of_diamonds.svg","webpack:///./src/img/playingcards/7_of_hearts.svg","webpack:///./src/img/playingcards/7_of_spades.svg","webpack:///./src/img/playingcards/8_of_clubs.svg","webpack:///./src/img/playingcards/8_of_diamonds.svg","webpack:///./src/img/playingcards/8_of_hearts.svg","webpack:///./src/img/playingcards/8_of_spades.svg","webpack:///./src/img/playingcards/9_of_clubs.svg","webpack:///./src/img/playingcards/9_of_diamonds.svg","webpack:///./src/img/playingcards/9_of_hearts.svg","webpack:///./src/img/playingcards/9_of_spades.svg","webpack:///./src/img/playingcards/ace_of_clubs.svg","webpack:///./src/img/playingcards/ace_of_diamonds.svg","webpack:///./src/img/playingcards/ace_of_hearts.svg","webpack:///./src/img/playingcards/ace_of_spades.svg","webpack:///./src/img/playingcards/ace_of_spades2.svg","webpack:///./src/img/playingcards/black_joker.svg","webpack:///./src/img/playingcards/jack_of_clubs.svg","webpack:///./src/img/playingcards/jack_of_clubs3.svg","webpack:///./src/img/playingcards/jack_of_diamonds.svg","webpack:///./src/img/playingcards/jack_of_diamonds3.svg","webpack:///./src/img/playingcards/jack_of_hearts.svg","webpack:///./src/img/playingcards/jack_of_hearts3.svg","webpack:///./src/img/playingcards/jack_of_spades.svg","webpack:///./src/img/playingcards/jack_of_spades3.svg","webpack:///./src/img/playingcards/king_of_clubs.svg","webpack:///./src/img/playingcards/king_of_clubs3.svg","webpack:///./src/img/playingcards/king_of_diamonds.svg","webpack:///./src/img/playingcards/king_of_diamonds3.svg","webpack:///./src/img/playingcards/king_of_hearts.svg","webpack:///./src/img/playingcards/king_of_hearts3.svg","webpack:///./src/img/playingcards/king_of_spades.svg","webpack:///./src/img/playingcards/king_of_spades3.svg","webpack:///./src/img/playingcards/queen_of_clubs.svg","webpack:///./src/img/playingcards/queen_of_clubs3.svg","webpack:///./src/img/playingcards/queen_of_diamonds.svg","webpack:///./src/img/playingcards/queen_of_diamonds3.svg","webpack:///./src/img/playingcards/queen_of_hearts.svg","webpack:///./src/img/playingcards/queen_of_hearts3.svg","webpack:///./src/img/playingcards/queen_of_spades.svg","webpack:///./src/img/playingcards/queen_of_spades3.svg","webpack:///./src/img/playingcards/red_joker.svg","webpack:///./src/css/guessnum.css?7c31","webpack:///./src/css/guessnum.css","webpack:///./src/css/style.css?a787","webpack:///./src/css/style.css","webpack:///./src/js/components/SetupLocalPlayersModal.js","webpack:///./src/js/components/PassToPlayerModal.js","webpack:///./src/js/components/SelectKeypadKeyboardModal.js","webpack:///./src/js/components/Playground.js","webpack:///./src/js/components/BigTwoGameOverModal.js","webpack:///./src/js/playgrounds/BigTwoPlayground.js","webpack:///./src/js/components/NumericKeypad.js","webpack:///./src/js/playgrounds/GuessNumberPlayground.js","webpack:///./src/js/components/Games.js","webpack:///./src/js/components/GameModal.js","webpack:///./src/js/components/PartyModal.js","webpack:///./src/js/components/JoinNicknameModal.js","webpack:///./src/js/components/JoiningPartyModal.js","webpack:///./src/js/components/ConnectingModal.js","webpack:///./src/js/lib/client.js","webpack:///./src/js/App.js"],"names":["module","exports","SUIT","RANK","COMBINATIONS","FIVE_CARD_HANDS","ALL_COMBINATIONS","Card","require","FindCombinations","_classCallCheck","key","value","deck","out","pair","threeOfAKind","straight","flush","fullHouse","fourOfAKind","straightFlush","length","cards","this","deckToCards","findPair","findThreeOfAKind","findStraight","findFlush","findFullHouse","findFourOfAKind","findStraightFlush","byRankSame","byRankConsecutive","bySuitSame","_this","byRankSameWithExternal","array","consec","comb","x","pairs","slice","concat","push","len","externalFunc","i","y","card","equals","splice","count","straights","suit","sameCombinations","sizeFuncName","startPos","sort","a","b","aSize","bSize","getRankSize","sortDeckSuits","sortDeckRanks","getSuitSize","index","json","rank","Sizes","Combination","combinationName","fc","fiveCardName","result","findAll","found","indexOf","myRankIndex","cardRankIndex","mySuitIndex","cardSuitIndex","size","combination","Error","thisIndex","combinationIndex","thisRankSize","combinationRankSize","thisSuitSize","combinationSuitSize","api","content","__esModule","default","options","locals","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_REPLACEMENT_0___","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","code","keys","Object","resolve","props","_React$useState2","_slicedToArray","React","useState","players","setPlayers","items","min","max","createElement","nameFields","InputGroup","className","Prepend","Text","FormControl","placeholder","aria-label","aria-describedby","Modal","show","animation","backdrop","Header","Title","Body","Form","Group","Label","Control","as","onChange","p","document","getElementById","Button","variant","block","onClick","val","onComplete","Footer","playerName","onContinue","Playground","_React$Component","gameId","_callSuper","state","turnPlayer","loading","loadingMsg","keypad","client","on","partyEventListener","data","event","startGame","setState","player","myTurn","gameEventListener","response","chatEventListener","console","log","chatList","el","innerHTML","name","msg","classList","add","prepend","selfAiMode","onAiModeClicked","bind","onChatClicked","_inherits","onBootDone","aiMode","prompt","sendMessage","gameRequest","resp","onResponse","warn","off","enable","disable","unregisterEventListener","minPlayers","maxPlayers","setupLocalPlayers","onDisable","alert","window","location","reload","_this2","myPlayerId","partyPlayers","party","playersList","online","Spinner","isSetupComplete","renderPlayground","selectKeypadKeyboard","SelectKeypadKeyboardModal","SetupLocalPlayersModal","waitPlayer","PassToPlayerModal","nextTurn","style","opacity","Component","getPlayerById","ranking","rankList","onHide","closeButton","winner","Table","BigTwoPlayground","_Playground","onPassBtnClicked","onHintBtnClicked","onSubmitBtnClicked","addEventListener","resizeEventListener","resizeBoard","orientationChangeEventListener","spreadCardsDone","preloadAllImages","_step","_this3","context","proms","_iterator","_createForOfIteratorHelper","s","n","done","Promise","reject","img","Image","src","onload","err","f","all","then","bootDone","removeEventListener","clearTimeout","timeout","clearInterval","playerTimer","calc","innerWidth","transform","getTurnPlayer","loc","playerCardsMap","_this4","setInterval","remain","Math","round","targetPlayerTimeout","Date","now","displayTurnButtons","remainTime","_this5","jsonToDeck","updateAvailableCombinations","spreadCards","myTurnCards","updateDeck","numberOfCards","updateNumberOfCards","moveTimer","displayWaitingPlayers","isMyTurn","removePlayerLastCards","displayBottomPlayerPassed","serverTimeDiff","serverTime","passBtnDisabled","lastPlayer","setPassed","lastCombination","makeCombination","showPlayerLastCards","sendGameReady","hint","unselectAllCards","selectCards","confirm","sendPass","decks","playerDecks","displayTimer","setTimeout","displayWinner","endGame","endsWith","playerId","_step2","_iterator2","passed","displayLeftPlayerPassed","displayRightPlayerPassed","displayTopPlayerPassed","elements","getElementsByClassName","indexes","newDeck","includes","cardIndex","halfLength","c","toRemove","parseInt","getAttribute","backgroundImage","setAttribute","transition","toRemoveHalfLength","request","startTimer","CARDS_LOCATION","playerInfoMap","obj","myIndex","_step3","parent","_iterator3","contains","removeChild","lastCards","replaceExistingCards","arguments","undefined","els","height","_this6","zIndex","tf","element","evt","stopImmediatePropagation","target","split","unselectCardElement","selectCardElement","displayNumberOfCards","displayCombinationButtons","availableCombinations","combName","lastSelectCombinationName","lastSelectCombinationCount","matches","match","cardEl","_step4","_iterator4","matchCard","findCardElement","_step5","_iterator5","_step6","_iterator6","getSelectedCards","cardsToDeck","_step7","d3Found","_iterator7","compare","sendTurn","_step8","_iterator8","_this7","results","_step9","_iterator9","BigTwoGameOverModal","Fragment","playerInfo1","playerInfo2","playerInfo3","ButtonGroup","disabled","selectCombination","hori","j","enabled","verti","numbers","onNumberClick","Container","fluid","display","vertical","doneEnabled","onDoneClick","backspaceEnabled","onBackspaceClick","Def","instance","icon","GuessNumberPlayground","maximum","randCount","guess","_defineProperty","homeScreen","gameScreen","keypadDisplay","funcKeyEnable","text","numberMin","numberMax","enabledKeys","interval","getElementsByTagName","remove","lastGuess","number","success","countDone","countUpDownTo","awaitNumbers","disableInput","fakeRandom","rand","floor","random","enableInput","to","from","resultScreen","cl","shift","focus","guessStr","error","isNaN","type","onKeyPress","Append","NumericKeypad","preventDefault","makeGameButton","onClickFunc","VERSION","joinGame","startGameFunc","gameKey","Games","Check","label","checked","playersFalseInList","list","admin","playerList","gameInitReadyList","playerReadyList","role","data-player-id","kickPlayer","startBtnVariant","startBtnDisabled","startBtnText","startBtnClickFunc","gameMinPlayers","gameMaxPlayers","notReady","playerUnready","playerReady","playgroundBootDone","partyId","readOnly","url","navigator","share","addAi","onSendMsg","onJoin","joinCreate","create","Client","endPoint","token","ready","versionMatch","serverVersion","listeners","pendingRequests","initializeSocket","socket","io","version","askRefreshPage","forceSocketEmit","dispatch","gameInitReady","oldPlayer","listener","origin","emit","socketEmit","nickName","kickPlayerId","App","savedEndPoint","localStorage","getItem","connectingModalShow","gameModalShow","partyModalShow","playground","onJoinNicknameClicked","listen","joinParty","joinPartyId","joinNicknameModalShow","joiningPartyModalShow","creatingParty","search","substring","awaitChangeGame","updatePlayground","createParty","ConnectingModal","GameModal","JoiningPartyModal","JoinNicknameModal","PartyModal","ReactDOM","render"],"mappings":"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","file":"app.1d7a470337145cdb0761.js","sourcesContent":["module.exports = {\r\n    SUIT: [\"diamonds\", \"clubs\", \"hearts\", \"spades\"],\r\n    RANK: [\"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"jack\", \"queen\", \"king\", \"ace\", \"2\"],\r\n    COMBINATIONS: [\"pair\", \"threeOfAKind\", \"fiveCardHands\"],\r\n    FIVE_CARD_HANDS: [\"straight\", \"flush\", \"fullHouse\", \"fourOfAKind\", \"straightFlush\"],\r\n    ALL_COMBINATIONS: [\"pair\", \"threeOfAKind\", \"straight\", \"flush\", \"fullHouse\", \"fourOfAKind\", \"straightFlush\"]\r\n};","var Card = require(\"./card\");\r\n\r\nclass FindCombinations {\r\n\r\n    findAll(deck) {\r\n        var out = {\r\n            pair: [],\r\n            threeOfAKind: [],\r\n            straight: [],\r\n            flush: [],\r\n            fullHouse: [],\r\n            fourOfAKind: [],\r\n            straightFlush: []\r\n        };\r\n\r\n        if (deck.length < 2) {\r\n            return out;\r\n        }\r\n\r\n        var cards = this.deckToCards(deck);\r\n\r\n        out.pair = this.findPair(cards);\r\n        out.threeOfAKind = this.findThreeOfAKind(cards);\r\n        out.straight = this.findStraight(cards);\r\n        out.flush = this.findFlush(cards);\r\n        out.fullHouse = this.findFullHouse(cards);\r\n        out.fourOfAKind = this.findFourOfAKind(cards);\r\n        out.straightFlush = this.findStraightFlush(cards);\r\n\r\n        return out;\r\n    }\r\n\r\n    findPair(cards) {\r\n        return this.byRankSame(cards, 2);\r\n    }\r\n\r\n    findThreeOfAKind(cards) {\r\n        return this.byRankSame(cards, 3);\r\n    }\r\n\r\n    findStraight(cards) {\r\n        return this.byRankConsecutive(cards, 5);\r\n    }\r\n\r\n    findFlush(cards) {\r\n        return this.bySuitSame(cards, 5);\r\n    }\r\n\r\n    findFullHouse(cards) {\r\n        return this.byRankSameWithExternal(cards, 3, (out, array, consec) => {\r\n            var pairs = this.findPair(array);\r\n\r\n            var comb;\r\n            var x;\r\n            for (x = 0; x < pairs.length; x++) {\r\n                comb = consec.slice();\r\n                comb = comb.concat(pairs[x]);\r\n                out.push(comb);\r\n            }\r\n        });\r\n    }\r\n\r\n    findFourOfAKind(cards) {\r\n        return this.byRankSameWithExternal(cards, 4, (out, array, consec) => {\r\n            var comb;\r\n            var x;\r\n            for (x = 0; x < array.length; x++) {\r\n                comb = consec.slice();\r\n                comb.push(array[x]);\r\n                out.push(comb);\r\n            }\r\n        });\r\n    }\r\n\r\n    byRankSameWithExternal(cards, len, externalFunc) {\r\n        var out = [];\r\n\r\n        var consec = this.byRankSame(cards, len);\r\n        var array;\r\n        var i;\r\n        var x;\r\n        var y;\r\n        for (i = 0; i < consec.length; i++) {\r\n            array = cards.slice();\r\n            for (x = 0; x < consec[i].length; x++) {\r\n                for (y = 0; y < array.length; y++) {\r\n                    if (array[y].card.equals(consec[i][x].card)) {\r\n                        array.splice(y, 1);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            externalFunc(out, array, consec[i]);\r\n        }\r\n\r\n        return out;\r\n    }\r\n\r\n    findStraightFlush(cards) {\r\n        var straights = this.findStraight(cards);\r\n\r\n        var out = [];\r\n        var i;\r\n        var x;\r\n        var count;\r\n        for (i = 0; i < straights.length; i++) {\r\n            count = 0;\r\n            for (x = 1; x < straights[i].length; x++) {\r\n                if (straights[i][x].card.suit === straights[i][x - 1].card.suit) {\r\n                    count++;\r\n                } else {\r\n                    break;\r\n                }\r\n\r\n                if (count === 4) {\r\n                    out.push(straights[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return out;\r\n    }\r\n\r\n    byRankSame(cards, len) {\r\n        return this.sameCombinations(cards, len, \"getRankSize\");\r\n    }\r\n\r\n    bySuitSame(cards, len) {\r\n        return this.sameCombinations(cards, len, \"getSuitSize\");\r\n    }\r\n\r\n    sameCombinations(cards, len, sizeFuncName) {\r\n        var out = [];\r\n\r\n        cards.sort((a, b) => {\r\n            var aSize = a.card[sizeFuncName]();\r\n            var bSize = b.card[sizeFuncName]();\r\n            if (aSize < bSize) {\r\n                return -1;\r\n            } else if (aSize > bSize) {\r\n                return 1;\r\n            } else {\r\n                return 0;\r\n            }\r\n        });\r\n\r\n        var startPos;\r\n        var i;\r\n        var x;\r\n        var count;\r\n        var comb;\r\n        for (startPos = 0; startPos < cards.length - (len - 1); startPos++) {\r\n            count = 0;\r\n            for (i = startPos + 1; i < cards.length; i++) {\r\n                if (cards[i - 1].card[sizeFuncName]() === cards[i].card[sizeFuncName]()) {\r\n                    count++;\r\n                } else {\r\n                    break;\r\n                }\r\n\r\n                if (count === len - 1) {\r\n                    comb = [];\r\n                    for (x = startPos; x < startPos + len; x++) {\r\n                        comb.push(cards[x]);\r\n                    }\r\n                    out.push(comb);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return out;\r\n    }\r\n\r\n    byRankConsecutive(cards, len) {\r\n        var out = [];\r\n\r\n        cards.sort((a, b) => {\r\n            var aSize = a.card.getRankSize();\r\n            var bSize = b.card.getRankSize();\r\n            if (aSize < bSize) {\r\n                return -1;\r\n            } else if (aSize > bSize) {\r\n                return 1;\r\n            } else {\r\n                return 0;\r\n            }\r\n        });\r\n\r\n        var startPos;\r\n        var i;\r\n        var x;\r\n        var count;\r\n        var comb;\r\n        for (startPos = 0; startPos < cards.length - (len - 1); startPos++) {\r\n            count = 0;\r\n            for (i = startPos + 1; i < cards.length; i++) {\r\n                if (cards[i - 1].card.getRankSize() === cards[i].card.getRankSize() - 1) {\r\n                    count++;\r\n                } else {\r\n                    break;\r\n                }\r\n\r\n                if (count === len - 1) {\r\n                    comb = [];\r\n                    for (x = startPos; x < startPos + len; x++) {\r\n                        comb.push(cards[x]);\r\n                    }\r\n                    out.push(comb);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return out;\r\n    }\r\n\r\n    sortByRank(deck) {\r\n        this.sortDeckSuits(deck);\r\n        this.sortDeckRanks(deck);\r\n    }\r\n\r\n    sortBySuit(deck) {\r\n        this.sortDeckRanks(deck);\r\n        this.sortDeckSuits(deck);\r\n    }\r\n\r\n    sortDeckRanks(deck) {\r\n        deck.sort((a, b) => {\r\n            var aSize = a.getRankSize();\r\n            var bSize = b.getRankSize();\r\n            if (aSize < bSize) {\r\n                return -1;\r\n            } else if (aSize > bSize) {\r\n                return 1;\r\n            } else {\r\n                return 0;\r\n            }\r\n        });\r\n    }\r\n\r\n    sortDeckSuits(deck) {\r\n        deck.sort((a, b) => {\r\n            var aSize = a.getSuitSize();\r\n            var bSize = b.getSuitSize();\r\n            if (aSize < bSize) {\r\n                return -1;\r\n            } else if (aSize > bSize) {\r\n                return 1;\r\n            } else {\r\n                return 0;\r\n            }\r\n        });\r\n    }\r\n\r\n    deckToCards(deck) {\r\n        var cards = [];\r\n        var i;\r\n        for (i = 0; i < deck.length; i++) {\r\n            cards.push({\r\n                index: i,\r\n                card: deck[i]\r\n            });\r\n        }\r\n        return cards;\r\n    }\r\n\r\n    cardsToDeck(cards) {\r\n        var deck = [];\r\n        var i;\r\n        for (i = 0; i < cards.length; i++) {\r\n            deck.push(cards[i].card);\r\n        }\r\n        return deck;\r\n    }\r\n    \r\n    jsonToDeck(json) {\r\n        var out = [];\r\n        var i;\r\n        for (i = 0; i < json.length; i++) {\r\n            out.push(new Card(json[i].suit, json[i].rank))\r\n        }\r\n        return out;\r\n    }\r\n\r\n    jsonToCards(json) {\r\n        var out = [];\r\n        var i;\r\n        for (i = 0; i < json.length; i++) {\r\n            out.push({\r\n                index: json[i].index,\r\n                card: new Card(json[i].card.suit, json[i].card.rank)\r\n            })\r\n        }\r\n        return out;\r\n    }\r\n}\r\n\r\nmodule.exports = FindCombinations;","var FindCombinations = require(\"./findCombinations\");\r\nvar Sizes = require(\"./sizes\");\r\nvar Combination = require(\"./combination\");\r\n\r\nmodule.exports = function (cards) {\r\n    var fc = new FindCombinations();\r\n\r\n    var combinationName;\r\n    var fiveCardName = false;\r\n    if(cards.length === 1) {\r\n        combinationName = \"single\";\r\n    } else {\r\n        var result = fc.findAll(cards);\r\n\r\n        var i;\r\n        var key;\r\n        combinationName = false;\r\n\r\n        if (cards.length === 5) {\r\n            var found = false;\r\n            for (i = Sizes.FIVE_CARD_HANDS.length - 1; i >= 0; i--) {\r\n                key = Sizes.FIVE_CARD_HANDS[i];\r\n                if (result[key].length > 0) {\r\n                    fiveCardName = key;\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (found) {\r\n                combinationName = \"fiveCardHands\";\r\n            }\r\n        } else if(cards.length === 3) {\r\n            if (result[\"threeOfAKind\"].length > 0) {\r\n                combinationName = \"threeOfAKind\";\r\n            }\r\n        } else if(cards.length === 2) {\r\n            if (result[\"pair\"].length > 0) {\r\n                combinationName = \"pair\";\r\n            }\r\n        }\r\n\r\n        if (!combinationName) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return new Combination(combinationName, cards, fiveCardName);\r\n};","var Sizes = require(\"./sizes\");\r\n\r\nclass Card {\r\n\r\n    constructor(suit, rank) {\r\n        this.suit = suit;\r\n        this.rank = rank;\r\n    }\r\n\r\n    getSuitSize() {\r\n        return Sizes.SUIT.indexOf(this.suit);\r\n    }\r\n\r\n    getRankSize() {\r\n        return Sizes.RANK.indexOf(this.rank);\r\n    }\r\n\r\n    /*\r\n    getSize() {\r\n        var suitSize = this.getSuitSize();\r\n        var rankSize = this.getRankSize();\r\n        return (suitSize + 1) * (rankSize + 1);\r\n    }\r\n    */\r\n\r\n    compare(card) {\r\n        var myRankIndex = Sizes.RANK.indexOf(this.rank);\r\n        var cardRankIndex = Sizes.RANK.indexOf(card.rank);\r\n\r\n        if (myRankIndex < cardRankIndex) {\r\n            return -1;\r\n        } else if (myRankIndex > cardRankIndex) {\r\n            return 1;\r\n        }\r\n\r\n        var mySuitIndex = Sizes.SUIT.indexOf(this.suit);\r\n        var cardSuitIndex = Sizes.SUIT.indexOf(card.suit);\r\n\r\n        if (mySuitIndex < cardSuitIndex) {\r\n            return -1;\r\n        } else if (mySuitIndex > cardSuitIndex) {\r\n            return 1;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    equals(card) {\r\n        return this.suit === card.suit && this.rank === card.rank;\r\n    }\r\n\r\n}\r\n\r\nmodule.exports = Card;","export default __webpack_public_path__ + \"2279814ea4461f579a7c7ac082654cf6.svg\";","var Sizes = require(\"./sizes\");\r\nvar FindCombinations = require(\"./findCombinations\");\r\n\r\nclass Combination {\r\n\r\n    constructor(combinationName, cards, fiveCardName) {\r\n        this.cards = cards;\r\n        this.combinationName = combinationName;\r\n        this.fiveCardName = fiveCardName;\r\n    }\r\n\r\n    getRankSize() {\r\n        var size = 0;\r\n        var i;\r\n        for (i = 0; i < this.cards.length; i++) {\r\n            size += this.cards[i].getRankSize();\r\n        }\r\n        return size;\r\n    }\r\n\r\n    getSuitSize() {\r\n        var size = 0;\r\n        var i;\r\n        for (i = 0; i < this.cards.length; i++) {\r\n            size += this.cards[i].getSuitSize();\r\n        }\r\n        return size;\r\n    }\r\n\r\n    compare(combination) {\r\n        //Cannot compare combinations that are not the same length\r\n        if (this.cards.length !== combination.cards.length || this.combinationName !== combination.combinationName) {\r\n            throw new Error(\"The two combinations' length/types are not the same. They cannot be compared.\");\r\n            //return false;\r\n        }\r\n        \r\n        if (this.combinationName === \"fiveCardHands\" && this.cards.length === 5) {\r\n            var thisIndex = Sizes.FIVE_CARD_HANDS.indexOf(this.fiveCardName);\r\n            var combinationIndex = Sizes.FIVE_CARD_HANDS.indexOf(combination.fiveCardName);\r\n\r\n            if (thisIndex < combinationIndex) {\r\n                return -1;\r\n            } else if (thisIndex > combinationIndex) {\r\n                return 1;\r\n            }\r\n\r\n            //Compare size if the same combination type\r\n        }\r\n\r\n        var thisRankSize = this.getRankSize();\r\n        var combinationRankSize = combination.getRankSize();\r\n\r\n        if (thisRankSize < combinationRankSize) {\r\n            return -1;\r\n        } else if (thisRankSize > combinationRankSize) {\r\n            return 1;\r\n        }\r\n\r\n        var thisSuitSize = this.getSuitSize();\r\n        var combinationSuitSize = combination.getSuitSize();\r\n\r\n        if (thisSuitSize < combinationSuitSize) {\r\n            return -1;\r\n        } else if (thisSuitSize > combinationSuitSize) {\r\n            return 1;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n}\r\n\r\nmodule.exports = Combination;","var api = require(\"!../../node_modules/.pnpm/style-loader@1.3.0_webpack@4.47.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/cjs.js!./bigtwo.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../img/playingcards/back.svg\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \".board {\\r\\n    position: fixed;\\r\\n    left: calc(50% - 50em);\\r\\n    top: calc(50% - 28.125em);\\r\\n    width: 100em;\\r\\n    height: 56.25em;\\r\\n}\\r\\n\\r\\n.board .playingcards {\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n}\\r\\n\\r\\n.board .playingcards .playingcard {\\r\\n    position: absolute;\\r\\n    width: 6.25em;\\r\\n    height: 9.08em;\\r\\n    top: -4.54em;\\r\\n    left: -3.125em;\\r\\n    background-size: cover;\\r\\n    background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\r\\n    transition: all 0.5s ease-in-out;\\r\\n    -webkit-transform-origin: 50% 50%;\\r\\n    -moz-transform-origin: 50% 50%;\\r\\n    -o-transform-origin: 50% 50%;\\r\\n    -ms-transform-origin: 50% 50%;\\r\\n\\ttransform-origin: 50% 50%;\\r\\n}\\r\\n\\r\\n.combination-buttons {\\r\\n    position: absolute;\\r\\n    left: -24em;\\r\\n    top: 6em;\\r\\n    z-index: 53;\\r\\n}\\r\\n\\r\\n.combination-buttons button {\\r\\n    padding: .75rem 1.5rem;\\r\\n    font-size: 1.5rem;\\r\\n    line-height: 1;\\r\\n    border-radius: .45rem;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.turn-buttons {\\r\\n    position: absolute;\\r\\n    left: -12em;\\r\\n    top: 2em;\\r\\n    z-index: 53;\\r\\n}\\r\\n\\r\\n.turn-buttons button {\\r\\n    padding: .75rem 1.5rem;\\r\\n    font-size: 1.5rem;\\r\\n    line-height: 1;\\r\\n    border-radius: .45rem;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.player1 {\\r\\n    position: absolute;\\r\\n    left: -31em;\\r\\n    top: -5.5em;\\r\\n    font-size: 1.5rem;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.player2 {\\r\\n    position: absolute;\\r\\n    left: 3em;\\r\\n    top: -13em;\\r\\n    font-size: 1.5rem;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.player3 {\\r\\n    position: absolute;\\r\\n    left: 27em;\\r\\n    top: -5.5em;\\r\\n    font-size: 1.5rem;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.waiting-players {\\r\\n    position: absolute;\\r\\n    left: -4.5em;\\r\\n    top: -1em;\\r\\n    font-size: 2.5rem;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n#player-timer {\\r\\n    position: absolute;\\r\\n    left: -0.25em;\\r\\n    top: 0.5em;\\r\\n    padding: 0.25em;\\r\\n    font-size: 3rem;\\r\\n    z-index: 54;\\r\\n    white-space: nowrap;\\r\\n    background-color: rgba(255, 255, 255, 0.7);\\r\\n    transition: all 0.5s ease-in-out;\\r\\n    transform: translate(-0.5em, -2em)\\r\\n}\\r\\n\\r\\n.left-player-passed {\\r\\n    position: absolute;\\r\\n    left: -12em;\\r\\n    top: -1em;\\r\\n    font-size: 3rem;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.right-player-passed {\\r\\n    position: absolute;\\r\\n    left: 9em;\\r\\n    top: -1em;\\r\\n    font-size: 3rem;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.top-player-passed {\\r\\n    position: absolute;\\r\\n    left: -1.5em;\\r\\n    top: -3em;\\r\\n    font-size: 3rem;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.bottom-player-passed {\\r\\n    position: absolute;\\r\\n    left: -1.5em;\\r\\n    top: 0.5em;\\r\\n    font-size: 3rem;\\r\\n    white-space: nowrap;\\r\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var map = {\n\t\"./10_of_clubs.svg\": 85,\n\t\"./10_of_diamonds.svg\": 86,\n\t\"./10_of_hearts.svg\": 87,\n\t\"./10_of_spades.svg\": 88,\n\t\"./2_of_clubs.svg\": 89,\n\t\"./2_of_diamonds.svg\": 90,\n\t\"./2_of_hearts.svg\": 91,\n\t\"./2_of_spades.svg\": 92,\n\t\"./3_of_clubs.svg\": 93,\n\t\"./3_of_diamonds.svg\": 94,\n\t\"./3_of_hearts.svg\": 95,\n\t\"./3_of_spades.svg\": 96,\n\t\"./4_of_clubs.svg\": 97,\n\t\"./4_of_diamonds.svg\": 98,\n\t\"./4_of_hearts.svg\": 99,\n\t\"./4_of_spades.svg\": 100,\n\t\"./5_of_clubs.svg\": 101,\n\t\"./5_of_diamonds.svg\": 102,\n\t\"./5_of_hearts.svg\": 103,\n\t\"./5_of_spades.svg\": 104,\n\t\"./6_of_clubs.svg\": 105,\n\t\"./6_of_diamonds.svg\": 106,\n\t\"./6_of_hearts.svg\": 107,\n\t\"./6_of_spades.svg\": 108,\n\t\"./7_of_clubs.svg\": 109,\n\t\"./7_of_diamonds.svg\": 110,\n\t\"./7_of_hearts.svg\": 111,\n\t\"./7_of_spades.svg\": 112,\n\t\"./8_of_clubs.svg\": 113,\n\t\"./8_of_diamonds.svg\": 114,\n\t\"./8_of_hearts.svg\": 115,\n\t\"./8_of_spades.svg\": 116,\n\t\"./9_of_clubs.svg\": 117,\n\t\"./9_of_diamonds.svg\": 118,\n\t\"./9_of_hearts.svg\": 119,\n\t\"./9_of_spades.svg\": 120,\n\t\"./ace_of_clubs.svg\": 121,\n\t\"./ace_of_diamonds.svg\": 122,\n\t\"./ace_of_hearts.svg\": 123,\n\t\"./ace_of_spades.svg\": 124,\n\t\"./ace_of_spades2.svg\": 125,\n\t\"./back.svg\": 48,\n\t\"./black_joker.svg\": 126,\n\t\"./jack_of_clubs.svg\": 127,\n\t\"./jack_of_clubs3.svg\": 128,\n\t\"./jack_of_diamonds.svg\": 129,\n\t\"./jack_of_diamonds3.svg\": 130,\n\t\"./jack_of_hearts.svg\": 131,\n\t\"./jack_of_hearts3.svg\": 132,\n\t\"./jack_of_spades.svg\": 133,\n\t\"./jack_of_spades3.svg\": 134,\n\t\"./king_of_clubs.svg\": 135,\n\t\"./king_of_clubs3.svg\": 136,\n\t\"./king_of_diamonds.svg\": 137,\n\t\"./king_of_diamonds3.svg\": 138,\n\t\"./king_of_hearts.svg\": 139,\n\t\"./king_of_hearts3.svg\": 140,\n\t\"./king_of_spades.svg\": 141,\n\t\"./king_of_spades3.svg\": 142,\n\t\"./queen_of_clubs.svg\": 143,\n\t\"./queen_of_clubs3.svg\": 144,\n\t\"./queen_of_diamonds.svg\": 145,\n\t\"./queen_of_diamonds3.svg\": 146,\n\t\"./queen_of_hearts.svg\": 147,\n\t\"./queen_of_hearts3.svg\": 148,\n\t\"./queen_of_spades.svg\": 149,\n\t\"./queen_of_spades3.svg\": 150,\n\t\"./red_joker.svg\": 151\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 84;","export default __webpack_public_path__ + \"f2166e849feb6646ff6c7ff0177e4f4d.svg\";","export default __webpack_public_path__ + \"6b6e6968b2a627b6267660ff0fce2e4e.svg\";","export default __webpack_public_path__ + \"fe97fe8e754abb7e21940d142263f68f.svg\";","export default __webpack_public_path__ + \"655e6febd3abc1917b5fc4d1efa902d8.svg\";","export default __webpack_public_path__ + \"63396d1e053b677f16344eda6aa647ab.svg\";","export default __webpack_public_path__ + \"3c35d7f21a010d69a44a91c5bbd2e0f3.svg\";","export default __webpack_public_path__ + \"8e3344c3a2ab68961a2ff4e2ecc4fc1e.svg\";","export default __webpack_public_path__ + \"f59201ff03f10f1e6766021505045eab.svg\";","export default __webpack_public_path__ + \"9d48ec567b8d210bb27807fe9bd510bb.svg\";","export default __webpack_public_path__ + \"dfc0962cdafff120aaf82441005ab5bb.svg\";","export default __webpack_public_path__ + \"31e5edcdcfe44190d1756a6229eef5d3.svg\";","export default __webpack_public_path__ + \"e8f2835f607a1a7a7f38781a14db2ea8.svg\";","export default __webpack_public_path__ + \"e7556d7e4e9eb51b01e58c638d7ab325.svg\";","export default __webpack_public_path__ + \"31df3902c87776e74ce81f7714845a99.svg\";","export default __webpack_public_path__ + \"cbaa32930ac06df82d57080d20fa2df7.svg\";","export default __webpack_public_path__ + \"e622faf6b6eb34f5a3d34caf3a506eda.svg\";","export default __webpack_public_path__ + \"e04cff3a02a62422dfa0e01f011aa5fa.svg\";","export default __webpack_public_path__ + \"693b46d92b907bd8b31f58b54377e0cc.svg\";","export default __webpack_public_path__ + \"8a2c470a6f7ee371c1fff7771d45f58c.svg\";","export default __webpack_public_path__ + \"8375a379f8cc326ce583e8d7c5723b9c.svg\";","export default __webpack_public_path__ + \"8dae940d5536ddbdb744221adaccf9e5.svg\";","export default __webpack_public_path__ + \"4fccce3b29972e645a9c4b1e20b626b8.svg\";","export default __webpack_public_path__ + \"1f0b8e84b07a0f5ee8d07ad839978511.svg\";","export default __webpack_public_path__ + \"019419732c0e4bbf0aa9e809db157876.svg\";","export default __webpack_public_path__ + \"f6771e26cca8fd3eaf82f8e03cdf21bf.svg\";","export default __webpack_public_path__ + \"94d693dbba8bff40fc13de3a237e8ad9.svg\";","export default __webpack_public_path__ + \"675c2d405949b7b62a85b1ad54a575cf.svg\";","export default __webpack_public_path__ + \"1bc561cad7381e8453c2415ecccf9b3d.svg\";","export default __webpack_public_path__ + \"3ee05250349b8b07c98672fec2417f89.svg\";","export default __webpack_public_path__ + \"bc084657c941728e9e38fe86f693e8cd.svg\";","export default __webpack_public_path__ + \"ccfa83aec2bf238fc167674dd7ebb3e8.svg\";","export default __webpack_public_path__ + \"acd317c9a8283a9d482c94f3ee4c496c.svg\";","export default __webpack_public_path__ + \"c0caca27528c3bb27cf8972e89f622b2.svg\";","export default __webpack_public_path__ + \"14b8fb7833578eb378b2c532541f8cad.svg\";","export default __webpack_public_path__ + \"23352c0a8873ee8d6ec71db3ca899643.svg\";","export default __webpack_public_path__ + \"7e54fe210c897419a6da78f03fbeede7.svg\";","export default __webpack_public_path__ + \"faa0548a573a38d689a383c6ae92d8a6.svg\";","export default __webpack_public_path__ + \"e28ed12349f8ee3b3b05cfb8369bfb70.svg\";","export default __webpack_public_path__ + \"e9aeeb2e00d8c1f0bbe42b01dadef503.svg\";","export default __webpack_public_path__ + \"8374f159bffa5ff40f10ccedc76a6860.svg\";","export default __webpack_public_path__ + \"222c1887d0acb4f4166eef9416bf224b.svg\";","export default __webpack_public_path__ + \"0e707b1133b3dc5777d949f10f38e659.svg\";","export default __webpack_public_path__ + \"7f36b1d8c78ffcade0c82317cd03741f.svg\";","export default __webpack_public_path__ + \"79daf9e92261c0b8a98a6694188bf0c5.svg\";","export default __webpack_public_path__ + \"848bb9ce9f1d6dc751f752035bfa059e.svg\";","export default __webpack_public_path__ + \"e02700d2c997c08cb48ba92eb6e917c5.svg\";","export default __webpack_public_path__ + \"4057d9e040e5098cd857f4e46d3c4c2c.svg\";","export default __webpack_public_path__ + \"3ab73ee7b2393189d80a423f91d614a2.svg\";","export default __webpack_public_path__ + \"f8781b76880a36e8eeb0b783f9108ce5.svg\";","export default __webpack_public_path__ + \"986d64fb1d0b7be2bac456bfb4383095.svg\";","export default __webpack_public_path__ + \"8b6615e521c17a743083e215597a39ef.svg\";","export default __webpack_public_path__ + \"a315bab2b4283bd7e791fd87fceac7fc.svg\";","export default __webpack_public_path__ + \"9c03dcb69e553c245849203cd144e5a9.svg\";","export default __webpack_public_path__ + \"f6d0a9ebaff2d62dd4babac9a7254513.svg\";","export default __webpack_public_path__ + \"7ca962820137d7b4083c3bbdd30e61d9.svg\";","export default __webpack_public_path__ + \"3820040dc7ba92b7cae213380189eee8.svg\";","export default __webpack_public_path__ + \"cab9377cc3af68a9e3628d3020d2befb.svg\";","export default __webpack_public_path__ + \"30896cd6e8b51ba2755da8a0664de901.svg\";","export default __webpack_public_path__ + \"fac460435939d4ca4aa32141721705b7.svg\";","export default __webpack_public_path__ + \"641d84db794fd62dd5ad88de1120016b.svg\";","export default __webpack_public_path__ + \"43a4a85609d7667ea723dbc111c5bc10.svg\";","export default __webpack_public_path__ + \"1a3675be75b3f5ba124fdf902c84f309.svg\";","export default __webpack_public_path__ + \"f9ac2774c9cb4cf41e6358c19f6d8e8d.svg\";","export default __webpack_public_path__ + \"4dda125132dc5d60ebb4d9fdb2465e93.svg\";","export default __webpack_public_path__ + \"2b6c5311a106fdb219a14f6c3926984f.svg\";","export default __webpack_public_path__ + \"5db1206930c28e27e548a645226b0d85.svg\";","export default __webpack_public_path__ + \"d58737009cee124a94829442cddf9437.svg\";","var api = require(\"!../../node_modules/.pnpm/style-loader@1.3.0_webpack@4.47.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/cjs.js!./guessnum.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".guessnum-home-screen {\\r\\n    height: 90vh;\\r\\n}\\r\\n\\r\\nbody.guessnum-correct {\\r\\n    background-color: rgb(166, 255, 168)\\r\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../node_modules/.pnpm/style-loader@1.3.0_webpack@4.47.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/cjs.js!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.47.0/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body {\\r\\n    width: 100%;\\r\\n    height: 100vh;\\r\\n    position: absolute;\\r\\n    background-color: rgb(229, 229, 229)\\r\\n}\\r\\n\\r\\n.chat-btn {\\r\\n    margin: 4px;\\r\\n    position: fixed;\\r\\n    bottom: 4px;\\r\\n    right: 4px;\\r\\n    opacity: 0.4;\\r\\n}\\r\\n\\r\\n.chat-btn:hover {\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.ai-mode-btn {\\r\\n    margin: 4px;\\r\\n    position: fixed;\\r\\n    bottom: 4px;\\r\\n    left: 4px;\\r\\n    opacity: 0.4;\\r\\n}\\r\\n\\r\\n.ai-mode-btn:hover {\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.party-list {\\r\\n    margin: 4px;\\r\\n    position: fixed;\\r\\n    top: 4px;\\r\\n    right: 4px;\\r\\n    text-align: right;\\r\\n    opacity: 0.4;\\r\\n}\\r\\n\\r\\n.party-list:hover {\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n#party-modal-chat {\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\n#chat-list {\\r\\n    margin: 4px;\\r\\n    position: fixed;\\r\\n    top: 4px;\\r\\n    left: 4px;\\r\\n    text-align: left;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.chat-message {\\r\\n    opacity: 1;\\r\\n    animation-name: chat-message-display;\\r\\n    animation-delay: 5s;\\r\\n    animation-duration: 5s;\\r\\n    animation-fill-mode: forwards;\\r\\n    margin-bottom: 0px;\\r\\n}\\r\\n\\r\\n.chat-message:hover {\\r\\n    animation-name: unset;\\r\\n}\\r\\n\\r\\n@keyframes chat-message-display {\\r\\n    from { opacity: 1 }\\r\\n    to {\\r\\n        opacity: 0;\\r\\n        visibility: hidden;\\r\\n        height: 0;\\r\\n    }\\r\\n}\\r\\n\\r\\n.hori-scroll {\\r\\n    margin: 4px;\\r\\n    overflow: auto;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.hori-scroll button {\\r\\n    margin: 4px;\\r\\n}\\r\\n\\r\\n.playground {\\r\\n    padding: 8px;\\r\\n}\\r\\n\\r\\n.loading {\\r\\n    margin-top: 1rem;\\r\\n}\\r\\n\\r\\n@media only screen and (max-width: 768px) {\\r\\n    .party-list {\\r\\n        margin-top: env(safe-area-inset-top);\\r\\n    }\\r\\n\\r\\n    .modal {\\r\\n        padding-top: env(safe-area-inset-top);\\r\\n        padding-bottom: env(safe-area-inset-bottom);\\r\\n    }\\r\\n\\r\\n    .playground {\\r\\n        padding-top: env(safe-area-inset-top);\\r\\n        padding-bottom: env(safe-area-inset-bottom);\\r\\n    }\\r\\n}\\r\\n\\r\\n/* Touch Keypad */\\r\\n\\r\\n.touch-keypad {\\r\\n    position: fixed;\\r\\n    left: 0;\\r\\n    bottom: 0;\\r\\n    width: 100%;\\r\\n    margin: 0px;\\r\\n    padding: 0px;\\r\\n    z-index: 2;\\r\\n    background: rgba(255, 255, 255, 0.4);\\r\\n    padding-bottom: env(safe-area-inset-bottom);\\r\\n}\\r\\n\\r\\n.touch-keypad .btn-group-vertical {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.touch-keypad .numeric-keypad {\\r\\n    width: 75%;\\r\\n}\\r\\n\\r\\n.touch-keypad-key {\\r\\n    min-height: 58px;\\r\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import React from 'react';\r\nimport { Modal, Button, ButtonGroup, InputGroup, FormControl, Form } from 'react-bootstrap';\r\n\r\nexport default function (props) {\r\n    var [players, setPlayers] = React.useState(false);\r\n\r\n    var items = [];\r\n    var i;\r\n    for (i = props.min; i <= props.max; i++) {\r\n        items.push(<option key={i}>{i}</option>);\r\n    }\r\n\r\n    if (!players) {\r\n        players = props.min;\r\n    }\r\n\r\n    var nameFields = [];\r\n    for (i = 1; i <= players; i++) {\r\n        nameFields.push(\r\n            <InputGroup className=\"mb-3\" key={i}>\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text id={\"player-number-\" + i}>Player {i}</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl\r\n                    placeholder={\"Player \" + i}\r\n                    aria-label=\"Nickname\"\r\n                    aria-describedby={\"player-number-\" + i}\r\n                    id={\"player-nick-\" + i}\r\n                />\r\n            </InputGroup>\r\n        );\r\n    }\r\n    \r\n    return (\r\n        <Modal show={props.show} animation={false} backdrop=\"static\">\r\n            <Modal.Header>\r\n                <Modal.Title>Setup Players</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <p>This game requires at least {props.min} player(s) and at maximum {props.max} player(s). Please enter the names for the players below:</p>\r\n                <Form.Group>\r\n                    <Form.Label>Players:</Form.Label>\r\n                    <Form.Control as=\"select\" id=\"localPlayersSelect\" onChange={() => {\r\n                        var p = document.getElementById(\"localPlayersSelect\").value;\r\n                        setPlayers(p);\r\n                    }}>\r\n                        {items}\r\n                    </Form.Control>\r\n                </Form.Group>\r\n                {nameFields}\r\n                <Button variant=\"success\" block onClick={() => {\r\n                    var map = [];\r\n                    var i;\r\n                    var val;\r\n                    for (i = 1; i <= players; i++) {\r\n                        val = document.getElementById(\"player-nick-\" + i).value;\r\n                        if (val === \"\") {\r\n                            val = \"Player \" + i;\r\n                        }\r\n                        map.push(val);\r\n                    }\r\n                    props.onComplete(map);\r\n                }}>Continue</Button>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <p>Application licensed under the GPLv3 Public License.</p>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}","import React from 'react';\r\nimport { Modal, Button, ButtonGroup, InputGroup, FormControl, Form } from 'react-bootstrap';\r\n\r\nexport default function (props) {\r\n    return (\r\n        <Modal show={props.show} backdrop=\"static\">\r\n            <Modal.Header>\r\n                <Modal.Title>Pass to {props.playerName}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <p>It is <b>{props.playerName}</b>'s turn! Pass the device and let {props.playerName} to press the \"Continue\" button.</p>\r\n                <Button variant=\"success\" block onClick={props.onContinue}>Continue</Button>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <p>Application licensed under the GPLv3 Public License.</p>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}","import React from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\n\r\nexport default function (props) {\r\n    return (\r\n        <Modal show={props.show} backdrop=\"static\">\r\n            <Modal.Header>\r\n                <Modal.Title>Keypad or keyboard?</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <p>Please select either to use keypad or keyboard for input:</p>\r\n                <div className=\"d-flex\">\r\n                    <Button block><i className=\"fas fa-keyboard\"></i><br />Keyboard</Button>\r\n                    <Button block><i className=\"fas fa-gamepad\"></i><br />Keypad</Button>\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <p>Application licensed under the GPLv3 Public License.</p>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}","import React from 'react';\r\nimport SetupLocalPlayersModal from './SetupLocalPlayersModal';\r\nimport PassToPlayerModal from './PassToPlayerModal';\r\nimport SelectKeypadKeyboardModal from './SelectKeypadKeyboardModal';\r\nimport { Spinner, Button } from 'react-bootstrap';\r\nimport io from 'socket.io-client';\r\n\r\nexport default class Playground extends React.Component {\r\n\r\n    constructor(props, gameId) {\r\n        super(props);\r\n        this.gameId = gameId;\r\n        this.state = { turnPlayer: false, loading: true, loadingMsg: \"Loading playground\", keypad: true };\r\n        this.props.client.on(\"party\", this.partyEventListener = (data) => {\r\n            if (data.event === \"startGame\") {\r\n                this.startGame();\r\n            } else if (data.event === \"nextTurn\") {\r\n                this.setState({\r\n                    turnPlayer: data.player\r\n                });\r\n                if (data.player.id === this.props.client.player.id) {\r\n                    this.myTurn();\r\n                }\r\n            }\r\n        });\r\n        this.props.client.on(\"game\", this.gameEventListener = (data) => {\r\n            this.response(data);\r\n        });\r\n        this.props.client.on(\"chat\", this.chatEventListener = (data) => {\r\n            console.log(\"CHAT\");\r\n            console.log(data);\r\n            if (data.event === \"chat\") {\r\n                var chatList = document.getElementById(\"chat-list\");\r\n                var el = document.createElement(\"p\");\r\n                el.innerHTML = \"<b>\" + data.player.name + \":</b> \" + data.msg;\r\n                el.classList.add(\"chat-message\");\r\n                chatList.prepend(el);\r\n            }\r\n        });\r\n        this.selfAiMode = false;\r\n        this.onAiModeClicked = this.onAiModeClicked.bind(this);\r\n        this.onChatClicked = this.onChatClicked.bind(this);\r\n    }\r\n\r\n    bootDone() {\r\n        this.props.onBootDone();\r\n    }\r\n\r\n    onAiModeClicked() {\r\n        this.props.client.aiMode(!this.selfAiMode);\r\n    }\r\n\r\n    onChatClicked() {\r\n        var msg = prompt(\"Your message:\");\r\n        if (!msg || msg === \"\") {\r\n            return;\r\n        }\r\n        this.props.client.sendMessage(msg);\r\n    }\r\n\r\n    request(req) {\r\n        this.props.client.gameRequest(req);\r\n    }\r\n\r\n    response(resp) {\r\n        this.onResponse(resp);\r\n    }\r\n\r\n    onResponse(resp) {\r\n        console.warn(\"No response handler handling responses from server.\");\r\n        console.warn(resp);\r\n    }\r\n\r\n    unregisterEventListener() {\r\n        this.props.client.off(\"game\", this.gameEventListener);\r\n        this.props.client.off(\"party\", this.partyEventListener);\r\n        this.props.client.off(\"chat\", this.chatEventListener);\r\n    }\r\n\r\n    componentDidMount() {\r\n        //this.setState({ selectKeypadKeyboard: true });\r\n        this.enable();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.disable();\r\n        this.unregisterEventListener();\r\n    }\r\n\r\n    isSetupComplete() {\r\n        return true;\r\n    }\r\n\r\n    setupLocalPlayers(min, max) {\r\n        this.setState({\r\n            loadingMsg: \"Setting up local players\",\r\n            minPlayers: min,\r\n            maxPlayers: max,\r\n            setupLocalPlayers: true\r\n        });\r\n    }\r\n\r\n    getTurnPlayer() {\r\n        return this.state.turnPlayer;\r\n    }\r\n\r\n    isMyTurn() {\r\n        return this.state.turnPlayer && this.props.client.player.id === this.state.turnPlayer.id;\r\n    }\r\n\r\n    myTurn() {\r\n\r\n    }\r\n\r\n    startGame() {\r\n\r\n    }\r\n\r\n    leave() {\r\n        this.disable();\r\n        this.props.onDisable();\r\n        alert(\"TODO: Leave\");\r\n        window.location.reload();\r\n        //TODO Submit leave status\r\n    }\r\n\r\n    endGame() {\r\n        this.disable();\r\n        this.props.onDisable();\r\n    }\r\n\r\n    enable() {\r\n\r\n    }\r\n\r\n    disable() {\r\n\r\n    }\r\n\r\n    renderPlayground() {\r\n\r\n    }\r\n\r\n    render() {\r\n        var myPlayerId = this.props.client.player.id;\r\n        var partyPlayers = this.props.party.players;\r\n        var playersList = [];\r\n        var i;\r\n        for (i = 0; i < partyPlayers.length; i++) {\r\n            if (myPlayerId === partyPlayers[i].id) {\r\n                this.selfAiMode = partyPlayers[i].aiMode;\r\n            }\r\n            playersList.push(<div key={partyPlayers[i].id}><span className={(myPlayerId === partyPlayers[i].id ? \"font-weight-bold\" : \"\") + (partyPlayers[i].online ? \"\" : \" text-secondary\")}>{(this.state.turnPlayer && this.state.turnPlayer.id === partyPlayers[i].id) ? \"➡️ \" : \"\"}{partyPlayers[i].aiMode ? \"(AI) \" : \"\"}{partyPlayers[i].name}</span><br /></div>);\r\n        }\r\n        return (\r\n            <div className=\"container-fluid playground\">\r\n                {this.state.loading &&\r\n                    <div className=\"loading d-flex align-items-center justify-content-center\">\r\n                    <center><Spinner animation=\"border\" /><br /><span>{this.state.loadingMsg}</span></center>\r\n                    </div>\r\n                }\r\n                {this.isSetupComplete() && this.renderPlayground()}\r\n                {this.state.selectKeypadKeyboard &&\r\n                    <SelectKeypadKeyboardModal show={true} />\r\n                }\r\n                {this.state.setupLocalPlayers &&\r\n                    <SetupLocalPlayersModal min={this.state.minPlayers} max={this.state.maxPlayers} show={this.state.setupLocalPlayers} onComplete={\r\n                    (map) => {\r\n                        console.log(map);\r\n                        this.players = map;\r\n                        this.setState({\r\n                            setupLocalPlayers: false,\r\n                            loadingMsg: \"Loading playground\"\r\n                        });\r\n                        this.enable();\r\n                    }} />\r\n                }\r\n                {this.state.waitPlayer &&\r\n                    <PassToPlayerModal show={this.state.waitPlayer} playerName={this.state.playerName} onContinue={(() => {\r\n                        this.setState({ waitPlayer: false });\r\n                        this.nextTurn();\r\n                    }).bind(this)} />\r\n                }\r\n                {playersList &&\r\n                    <div className=\"party-list\">\r\n                        <h4>Party</h4>\r\n                        {playersList}\r\n                    </div>\r\n                }\r\n                <div id=\"chat-list\">\r\n\r\n                </div>\r\n                <Button variant={this.selfAiMode ? \"success\" : \"secondary\"} className=\"ai-mode-btn\" style={this.selfAiMode ? {opacity: 1} : {}} onClick={this.onAiModeClicked}><i className=\"fas fa-robot\"></i> AI</Button>\r\n                <Button variant=\"secondary\" className=\"chat-btn\" onClick={this.onChatClicked}><i className=\"far fa-comments\"></i></Button>\r\n            </div>\r\n        );\r\n    }\r\n};","import React from 'react';\r\nimport { Modal, Button, ButtonGroup, InputGroup, FormControl, Form, Table } from 'react-bootstrap';\r\nimport * as Games from './Games';\r\n\r\nfunction getPlayerById(players, id) {\r\n    var i;\r\n    for (i = 0; i < players.length; i++) {\r\n        if (players[i].id === id) {\r\n            return players[i];\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nexport default function (props) {\r\n    var i;\r\n    var id;\r\n    var player;\r\n    var partyPlayers = props.party.players;\r\n    var ranking = props.ranking;\r\n    var rankList = [];\r\n    for (i = 0; i < ranking.length; i++) {\r\n        id = ranking[i][\"playerId\"];\r\n        player = getPlayerById(partyPlayers, id);\r\n\r\n        rankList.push(\r\n            <tr key={id}>\r\n                <td>{i + 1}</td>\r\n                <td><span className={player.online ? \"\" : \"text-secondary\"}>{player[\"name\"]} {player.aiMode ? \"(AI)\" : \"\"}</span></td>\r\n                <td>{ranking[i].length}</td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.show} onHide={props.onHide}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Game Over</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <p>The winner is <b>{props.winner.name}</b>. You will be redirected back to the party dialog very soon.</p>\r\n                <Table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Rank</th>\r\n                            <th>Nickname</th>\r\n                            <th>Cards left</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {rankList}\r\n                    </tbody>\r\n                </Table>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={props.onHide}>\r\n                    Close\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}","import React from 'react';\r\nimport Playground from '../components/Playground.js';\r\nimport FindCombinations from '../lib/games/bigtwo/findCombinations';\r\nimport Card from '../lib/games/bigtwo/card';\r\nimport Sizes from '../lib/games/bigtwo/sizes';\r\nimport makeCombination from '../lib/games/bigtwo/makeCombination';\r\nimport { Button, ButtonGroup } from 'react-bootstrap';\r\nimport BigTwoGameOverModal from '../components/BigTwoGameOverModal';\r\nimport '../../css/bigtwo.css';\r\n\r\nexport default class BigTwoPlayground extends Playground {\r\n\r\n\tconstructor(props){\r\n        super(props, \"bigtwo\");\r\n        this.fc = new FindCombinations();\r\n        this.onPassBtnClicked = this.onPassBtnClicked.bind(this);\r\n        this.onHintBtnClicked = this.onHintBtnClicked.bind(this);\r\n        this.onSubmitBtnClicked = this.onSubmitBtnClicked.bind(this);\r\n    }\r\n\r\n    enable() {\r\n        this.setState({\r\n            loading: false\r\n        });\r\n        window.addEventListener(\"resize\", this.resizeEventListener = () => {\r\n            this.resizeBoard();\r\n        });\r\n        window.addEventListener(\"orientationchange\", this.orientationChangeEventListener = () => {\r\n            this.resizeBoard();\r\n        });\r\n        this.resizeBoard();\r\n        this.deck = false;\r\n        this.spreadCardsDone = false;\r\n        this.preloadAllImages();\r\n    }\r\n\r\n    preloadAllImages() {\r\n        var context = require.context('../../img/playingcards/', false, /\\.svg$/);\r\n        var proms = [];\r\n        var keys = context.keys();\r\n        for (var key of keys) {\r\n            proms.push(new Promise((resolve, reject) => {\r\n                var img = new Image();\r\n                img.src = context(key).default;\r\n                img.onload = resolve;\r\n            }));\r\n        }\r\n        Promise.all(proms).then(() => {\r\n            console.log(\"done\");\r\n            this.bootDone();\r\n        });\r\n    }\r\n\r\n    disable() {\r\n        window.removeEventListener(\"resize\", this.resizeEventListener);\r\n        window.removeEventListener(\"orientationchange\", this.orientationChangeEventListener);\r\n        clearTimeout(this.timeout);\r\n        clearInterval(this.playerTimer);\r\n    }\r\n\r\n    resizeBoard() {\r\n        var calc = window.innerWidth / 1600.0;\r\n        document.getElementById(\"playingcards-board\").style.transform = \"scale(\" + calc + \", \" + calc + \")\";\r\n    }\r\n\r\n    moveTimer() {\r\n        var turnPlayer = this.getTurnPlayer();\r\n        var loc = this.playerCardsMap[turnPlayer.id];\r\n        var el = document.getElementById(\"player-timer\");\r\n\r\n        if (loc === \"left-cards\") {\r\n            el.style.transform = \"translate(-11.975em, -4.5em)\";\r\n        } else if (loc === \"right-cards\") {\r\n            el.style.transform = \"translate(10.975em, -4.5em)\";\r\n        } else if (loc === \"top-cards\") {\r\n            el.style.transform = \"translate(-0.5em, -3.5em)\";\r\n        } else if (loc === \"bottom-cards\") {\r\n            el.style.transform = \"translate(-0.5em, -2em)\";\r\n        }\r\n    }\r\n\r\n    startTimer() {\r\n        console.log(\"Timer started\");\r\n        clearInterval(this.playerTimer);\r\n        this.playerTimer = setInterval(() => {\r\n            var remain = Math.round((this.targetPlayerTimeout - Date.now()) / 1000.0);\r\n            if (remain <= 0) {\r\n                this.setState({\r\n                    displayTurnButtons: false\r\n                });\r\n                console.log(\"Cleared\");\r\n                remain = 0;\r\n            } else {\r\n                console.log(\"remain: \" + remain);\r\n            }\r\n            this.setState({\r\n                remainTime: remain\r\n            });\r\n        }, 500);\r\n    }\r\n\r\n    stopTimer() {\r\n        console.log(\"Stopped\");\r\n        clearInterval(this.playerTimer);\r\n    }\r\n\r\n    onResponse(resp) {\r\n        console.log(\"Response\");\r\n        console.log(resp);\r\n        if (resp.event === \"newDeck\") {\r\n            this.deck = this.fc.jsonToDeck(resp.deck);\r\n            console.log(\"New deck recevied\");\r\n            this.updateAvailableCombinations();\r\n            if (!this.spreadCardsDone) {\r\n                this.spreadCards();\r\n            }\r\n        } else if (resp.event === \"updateDeck\") {\r\n            this.setState({\r\n                displayTurnButtons: false\r\n            });\r\n            //this.deck = this.fc.jsonToDeck(resp.deck);\r\n            console.log(\"Deck update recevied\");\r\n            this.myTurnCards = resp.cards;\r\n            this.updateDeck();\r\n            this.updateAvailableCombinations();\r\n        } else if (resp.event === \"numberOfCards\") {\r\n            this.numberOfCards = resp.numberOfCards;\r\n            this.updateNumberOfCards();\r\n        } else if (resp.event === \"gameReady\") {\r\n            this.moveTimer();\r\n            this.setState({\r\n                displayTurnButtons: false,\r\n                displayWaitingPlayers: false\r\n            });\r\n            if (this.isMyTurn()) {\r\n                this.removePlayerLastCards(this.props.client.player);\r\n                this.setState({\r\n                    displayBottomPlayerPassed: false\r\n                });\r\n                if (!this.selfAiMode) {\r\n                    this.setState({\r\n                        displayTurnButtons: true\r\n                    });\r\n                }\r\n            }\r\n            var serverTimeDiff = Date.now() - resp.serverTime;\r\n            this.targetPlayerTimeout = resp.serverTime + resp.timeout - serverTimeDiff;\r\n        } else if (resp.event === \"lastCards\") {\r\n            this.setState({\r\n                passBtnDisabled: resp.player.id === this.props.client.player.id\r\n            });\r\n\r\n            this.lastPlayer = resp.player;\r\n\r\n            this.setPassed(resp.player, false);\r\n\r\n            var cards = this.fc.jsonToDeck(resp.cards);\r\n            this.lastCombination = makeCombination(cards);\r\n\r\n            if (this.lastPlayer.id !== this.props.client.player.id) {\r\n                this.removePlayerLastCards(this.lastPlayer);\r\n                this.showPlayerLastCards(this.lastPlayer, cards);\r\n            }\r\n\r\n            this.sendGameReady();\r\n        } else if (resp.event === \"lastPassed\") {\r\n            this.setPassed(resp.player, true);\r\n            this.removePlayerLastCards(resp.player);\r\n            this.sendGameReady();\r\n        } else if (resp.event === \"roundHint\") {\r\n            var hint = resp.hint;\r\n            if (hint.event === \"turn\") {\r\n                this.unselectAllCards();\r\n                this.selectCards(hint.cards);\r\n            } else if (hint.event === \"pass\") {\r\n                if (confirm(\"The hint asks you to pass. Do you want to pass?\")) {\r\n                    this.sendPass();\r\n                }\r\n            }\r\n        } else if (resp.event === \"gameOver\") {\r\n            var decks = resp.playerDecks;\r\n            var loc;\r\n            var player;\r\n            for (var key in decks) {\r\n                player = this.getPlayerById(key);\r\n                if (key !== resp.winner.id) {\r\n                    this.setPassed(player, false);\r\n                    this.removePlayerLastCards(player);\r\n                    this.showPlayerLastCards(player, decks[key], true);\r\n                }\r\n            }\r\n\r\n            this.setState({\r\n                displayTimer: false,\r\n                winner: resp.winner,\r\n                ranking: resp.ranking\r\n            });\r\n\r\n            this.timeout = setTimeout(() => {\r\n                this.setState({\r\n                    displayWinner: true\r\n                });\r\n\r\n                this.timeout = setTimeout(() => {\r\n                    this.endGame();\r\n                }, 7000);\r\n            }, 3000);\r\n        } else if (resp.event && resp.event.endsWith(\"Failed\")) {\r\n            alert(\"Code: \" + resp.code + \"\\nError: \" + resp.msg);\r\n        }\r\n    }\r\n\r\n    getPlayerById(playerId) {\r\n        for (var player of this.props.party.players) {\r\n            if (player.id === playerId) {\r\n                return player;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    setPassed(player, passed) {\r\n        var loc = this.playerCardsMap[player.id];\r\n        if (loc === \"left-cards\") {\r\n            this.setState({\r\n                displayLeftPlayerPassed: passed\r\n            });\r\n        } else if (loc === \"right-cards\") {\r\n            this.setState({\r\n                displayRightPlayerPassed: passed\r\n            });\r\n        } else if (loc === \"top-cards\") {\r\n            this.setState({\r\n                displayTopPlayerPassed: passed\r\n            });\r\n        } else if (loc === \"bottom-cards\") {\r\n            this.setState({\r\n                displayBottomPlayerPassed: passed\r\n            });\r\n        }\r\n    }\r\n\r\n    updateDeck() {\r\n        var parent = document.getElementById(\"cards-container\");\r\n\r\n        this.unselectAllCards();\r\n        var elements = document.getElementsByClassName(\"bottom-cards\");\r\n\r\n        console.log(\"old deck\");\r\n        console.log(this.deck);\r\n\r\n        console.log(\"My turn cards\");\r\n        console.log(this.myTurnCards);\r\n\r\n        var indexes = [];\r\n        var index;\r\n        var i;\r\n\r\n        for (i = 0; i < this.myTurnCards.length; i++) {\r\n            indexes.push(this.myTurnCards[i].index);\r\n        }\r\n\r\n        var newDeck = [];\r\n\r\n        for (i = 0; i < this.deck.length; i++) {\r\n            if (!indexes.includes(i)) {\r\n                newDeck.push(this.deck[i]);\r\n            }\r\n        }\r\n\r\n        this.deck = newDeck;\r\n\r\n        console.log(\"Indexes\");\r\n        console.log(indexes);\r\n\r\n        console.log(\"new deck\");\r\n        console.log(this.deck);\r\n\r\n        var halfLength = (6.25 * this.deck.length + 0.52 * (this.deck.length - 1)) * -0.5;\r\n        var cardIndex;\r\n        var card;\r\n        var calc;\r\n        var el;\r\n        var c = 0;\r\n        var toRemove = [];\r\n\r\n        for (i = 0; i < elements.length; i++) {\r\n            el = elements[i];\r\n            cardIndex = parseInt(el.getAttribute(\"data-card-index\"));\r\n            console.log(\"=========== ELEMENT \" + i + \" INDEX \" + cardIndex);\r\n            if (indexes.includes(cardIndex)) {\r\n                console.log(\"Removing: \" + el.style.backgroundImage);\r\n                toRemove.push(el);\r\n            } else {\r\n                console.log(\"Keeping \" + el.style.backgroundImage)\r\n                card = this.deck[c];\r\n                console.log(\"card\");\r\n                console.log(card);\r\n                console.log(\"new index:\" + c);\r\n                calc = halfLength + 6.77 * c;\r\n\r\n                el.setAttribute(\"data-card-index\", c);\r\n                el.style.transition = \"all 0.5s\";\r\n                el.style.transform = \"translate(\" + calc + \"em, 15.92em)\";\r\n                el.style.backgroundImage = `url(../../img/playingcards/${card.rank}_of_${card.suit}.svg)`;\r\n\r\n                console.log(\"New image \" + el.style.backgroundImage)\r\n                c++;\r\n            }\r\n        }\r\n        \r\n        var toRemoveHalfLength = 3.125 * (toRemove.length + 1) * 0.5;\r\n        var calc;\r\n        var card;\r\n        for (i = 0; i < toRemove.length; i++) {\r\n            calc = -toRemoveHalfLength + 3.125 * i;\r\n            card = this.myTurnCards[i].card;\r\n            toRemove[i].classList.add(\"shown-cards\");\r\n            toRemove[i].style.transition = \"all 0.5s ease-in-out\";\r\n            toRemove[i].style.transform = \" translate(\" + calc + \"em, 5.705em)\";\r\n            toRemove[i].style.backgroundImage = `url(../../img/playingcards/${card.rank}_of_${card.suit}.svg)`;\r\n        }\r\n    }\r\n\r\n    sendGameReady() {\r\n        this.request({\r\n            event: \"gameReady\"\r\n        });\r\n    }\r\n\r\n    sendPass() {\r\n        this.request({\r\n            event: \"pass\"\r\n        });\r\n    }\r\n\r\n    sendTurn(cards) {\r\n        this.request({\r\n            event: \"turn\",\r\n            cards: cards\r\n        });\r\n    }\r\n\r\n    startGame() {\r\n        if (this.deck) {\r\n            this.spreadCards();\r\n        }\r\n        this.setState({\r\n            passBtnDisabled: true\r\n        });\r\n        this.targetPlayerTimeout = 0;\r\n        this.startTimer();\r\n    };\r\n\r\n    updateNumberOfCards() {\r\n        var CARDS_LOCATION = [\"left\", \"top\", \"right\"];\r\n        this.playerInfoMap = {};\r\n        this.playerCardsMap = {};\r\n        var partyPlayers = this.props.party.players;\r\n        var myIndex = -1;\r\n        var i;\r\n        for (i = 0; i < partyPlayers.length; i++) {\r\n            if (partyPlayers[i].id === this.props.client.player.id) {\r\n                myIndex = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        var el;\r\n        var player;\r\n        var obj;\r\n        var id;\r\n        for (i = 1; i < 4; i++) {\r\n            player = partyPlayers[(myIndex + i) % 4];\r\n            id = \"playerInfo\" + i\r\n\r\n            obj = {};\r\n            if (i !== 3) {\r\n                obj[id] = player.name + \" (\" + this.numberOfCards[player.id] + \")\";\r\n            } else {\r\n                obj[id] = \"(\" + this.numberOfCards[player.id] + \") \" + player.name;\r\n            }\r\n            this.setState(obj);\r\n\r\n            this.playerInfoMap[player.id] = id;\r\n            this.playerCardsMap[player.id] = CARDS_LOCATION[i - 1] + \"-cards\";\r\n        }\r\n        this.playerCardsMap[this.props.client.player.id] = \"bottom-cards\";\r\n    }\r\n\r\n    removePlayerLastCards(player) {\r\n        var loc = this.playerCardsMap[player.id];\r\n\r\n        console.log(\"Removing for \" + loc + \" from \" + player.name);\r\n\r\n        var parent = document.getElementById(\"cards-container\");\r\n\r\n        var els = document.getElementsByClassName(\"shown-cards\");\r\n        var toRemove = [];\r\n        for (var el of els) {\r\n            console.log(el);\r\n            if (el.classList.contains(loc)) {\r\n                console.log(\"removing\");\r\n                toRemove.push(el);\r\n            }\r\n        }\r\n\r\n        var i;\r\n        for (i = 0; i < toRemove.length; i++) {\r\n            parent.removeChild(toRemove[i]);\r\n        }\r\n    }\r\n\r\n    showPlayerLastCards(player, lastCards, replaceExistingCards = false) {\r\n        this.removePlayerLastCards(player);\r\n\r\n        var parent = document.getElementById(\"cards-container\");\r\n\r\n        var loc = this.playerCardsMap[player.id];\r\n\r\n        var els;\r\n\r\n        if (loc === \"left-cards\") {\r\n            els = document.getElementsByClassName(\"left-cards\");\r\n            var i;\r\n            var calc;\r\n            var card;\r\n            for (i = 0; i < lastCards.length; i++) {\r\n                calc = -35.42 + 3.125 * i + (replaceExistingCards ? -8.33 : 0);\r\n                card = lastCards[i];\r\n                els[i].classList.add(\"shown-cards\");\r\n                els[i].style.transition = \"all 0.5s ease-in-out\";\r\n                els[i].style.transform = \" translate(\" + calc + \"em, 0em)\";\r\n                els[i].style.backgroundImage = `url(../../img/playingcards/${card.rank}_of_${card.suit}.svg)`;\r\n            }\r\n        } else if (loc === \"top-cards\") {\r\n            els = document.getElementsByClassName(\"top-cards\");\r\n            var i;\r\n            var height = -5.705 + (replaceExistingCards ? -10.215 : 0);\r\n            var halfLength = 3.125 * (lastCards.length + 1) * 0.5;\r\n            var calc;\r\n            var card;\r\n            for (i = 0; i < lastCards.length; i++) {\r\n                calc = -halfLength + 3.125 * i;\r\n                card = lastCards[i];\r\n                els[i].classList.add(\"shown-cards\");\r\n                els[i].style.transition = \"all 0.5s ease-in-out\";\r\n                els[i].style.transform = \" translate(\" + calc + \"em, \" + height + \"em)\";\r\n                els[i].style.backgroundImage = `url(../../img/playingcards/${card.rank}_of_${card.suit}.svg)`;\r\n            }\r\n        } else if (loc === \"right-cards\") {\r\n            els = document.getElementsByClassName(\"right-cards\");\r\n            var i;\r\n            var calc;\r\n            var card;\r\n            for (i = 0; i < lastCards.length; i++) {\r\n                calc = 35.42 - 3.125 * i + (replaceExistingCards ? 8.33 : 0);\r\n                card = lastCards[i];\r\n                els[i].classList.add(\"shown-cards\");\r\n                els[i].style.transition = \"all 0.5s ease-in-out\";\r\n                els[i].style.transform = \" translate(\" + calc + \"em, 0em)\";\r\n                els[i].style.backgroundImage = `url(../../img/playingcards/${card.rank}_of_${card.suit}.svg)`;\r\n            }\r\n        }\r\n    }\r\n\r\n    spreadCards() {\r\n        this.spreadCardsDone = true;\r\n        var cards = [];\r\n        var i;\r\n        for (i = 0; i < 52; i++) {\r\n            cards.push(\r\n                <div key={i} className=\"playingcard\" style={{ zIndex: 52 - i }} ></div>\r\n            );\r\n        }\r\n\r\n        this.setState({\r\n            cards: cards\r\n        });\r\n        \r\n        this.timeout = setTimeout(() => {\r\n            var tf;\r\n            var elements = document.getElementsByClassName(\"playingcard\");\r\n            var i;\r\n            var element;\r\n            var c = 0;\r\n            for (i = 1; i <= elements.length; i++) {\r\n                element = elements[i - 1];\r\n                if (i % 4 === 0) {\r\n                    element.classList.add(\"left-cards\");\r\n                    tf = \"translate(-43.75em, 0em) rotate(-180deg)\";\r\n                } else if (i % 4 === 1) {\r\n                    element.classList.add(\"top-cards\");\r\n                    tf = \"translate(0em, -15.92em) rotate(-180deg)\";\r\n                } else if (i % 4 === 2) {\r\n                    element.classList.add(\"right-cards\");\r\n                    tf = \"translate(43.75em, 0em) rotate(180deg)\";\r\n                } else {\r\n                    element.classList.add(\"bottom-cards\");\r\n                    //tf = \"translate(0em, 15.92em) rotate(180deg)\";\r\n                    var calc = -40.62 + 6.77 * (c);\r\n                    tf = \"translate(\" + calc + \"em, 15.92em)\";\r\n                    element.setAttribute(\"data-card-index\", c);\r\n\r\n                    element.addEventListener(\"mouseover\", (evt) => {\r\n                        evt.stopImmediatePropagation();\r\n                        var el = evt.target;\r\n\r\n                        if (el.classList.contains(\"shown-cards\")) {\r\n                            return;\r\n                        }\r\n\r\n                        var selected = el.getAttribute(\"data-card-selected\");\r\n\r\n                        if (selected === \"true\") {\r\n                            return;\r\n                        }\r\n\r\n                        el.style.transition = \"all 0.2s ease-in-out\";\r\n\r\n                        var tf = el.style.transform.split(\") \")[0];\r\n\r\n                        if (tf !== el.style.transform) {\r\n                            tf += \")\";\r\n                        }\r\n\r\n                        el.style.transform = tf + \" translate(0em, -0.78125em)\";\r\n                    });\r\n\r\n                    element.addEventListener(\"mouseout\", (evt) => {\r\n                        evt.stopImmediatePropagation();\r\n                        var el = evt.target;\r\n\r\n                        var selected = el.getAttribute(\"data-card-selected\");\r\n\r\n                        if (selected === \"true\") {\r\n                            return;\r\n                        }\r\n\r\n                        el.style.transition = \"all 0.2s ease-in-out\";\r\n\r\n                        var tf = el.style.transform.split(\") \")[0];\r\n\r\n                        if (tf !== el.style.transform) {\r\n                            tf += \")\";\r\n                        }\r\n\r\n                        el.style.transform = tf;\r\n                    });\r\n\r\n                    element.addEventListener(\"click\", (evt) => {\r\n                        evt.stopImmediatePropagation();\r\n\r\n                        var el = evt.target;\r\n\r\n                        if (el.classList.contains(\"shown-cards\")) {\r\n                            return;\r\n                        }\r\n\r\n                        var selected = el.getAttribute(\"data-card-selected\");\r\n\r\n                        if (selected === \"true\") {\r\n                            this.unselectCardElement(el);\r\n                        } else {\r\n                            this.selectCardElement(el);\r\n                        }\r\n                    });\r\n\r\n                    var card = this.deck[c];\r\n                    element.style.backgroundImage = `url(../../img/playingcards/${card.rank}_of_${card.suit}.svg)`;\r\n                    c++;\r\n                }\r\n                element.style.transition = \"all 0.5s \" + Math.round(0.025 * i * 100) / 100 + \"s\";\r\n                element.style.transform = tf;\r\n            }\r\n            \r\n            this.timeout = setTimeout(() => {\r\n                this.setState({\r\n                    displayNumberOfCards: true,\r\n                    displayCombinationButtons: true,\r\n                    displayWaitingPlayers: true,\r\n                    displayTimer: true\r\n                });\r\n                this.sendGameReady();\r\n            }, 2000);\r\n        }, 1000);\r\n    }\r\n\r\n    updateAvailableCombinations() {\r\n        this.setState({\r\n            availableCombinations: this.fc.findAll(this.deck)\r\n        });\r\n    }\r\n\r\n    selectCardElement(el) {\r\n        el.style.transition = \"all 0.2s ease-in-out\";\r\n\r\n        var tf = el.style.transform.split(\") \")[0];\r\n\r\n        if (tf !== el.style.transform) {\r\n            tf += \")\";\r\n        }\r\n\r\n        el.style.transform = tf + \" translate(0em, -1.5625em)\";\r\n        el.setAttribute(\"data-card-selected\", \"true\");\r\n    }\r\n\r\n    unselectCardElement(el) {\r\n        el.style.transition = \"all 0.2s ease-in-out\";\r\n\r\n        var tf = el.style.transform.split(\") \")[0];\r\n\r\n        if (tf !== el.style.transform) {\r\n            tf += \")\";\r\n        }\r\n\r\n        el.style.transform = tf;\r\n        el.setAttribute(\"data-card-selected\", \"false\");\r\n    }\r\n\r\n    selectCombination(combName) {\r\n        this.unselectAllCards();\r\n\r\n        if (this.lastSelectCombinationName === combName) {\r\n            this.lastSelectCombinationCount++;\r\n        } else {\r\n            this.lastSelectCombinationName = combName;\r\n            this.lastSelectCombinationCount = 0;\r\n        }\r\n\r\n        var matches = this.state.availableCombinations[combName];\r\n\r\n        if (this.lastSelectCombinationCount === matches.length) {\r\n            this.lastSelectCombinationName = false;\r\n            this.lastSelectCombinationCount = 0;\r\n            this.unselectAllCards();\r\n            return;\r\n        }\r\n\r\n        var match = matches[this.lastSelectCombinationCount];\r\n        this.selectCards(match);\r\n    }\r\n\r\n    selectCards(match) {\r\n        var cardEl;\r\n        for (var matchCard of match) {\r\n            cardEl = this.findCardElement(matchCard.index);\r\n            if (cardEl) {\r\n                this.selectCardElement(cardEl);\r\n            } else {\r\n                console.warn(\"Cannot find card index \" + matchCard.index);\r\n            }\r\n        }\r\n    }\r\n\r\n    unselectAllCards() {\r\n        var elements = document.getElementsByClassName(\"bottom-cards\");\r\n        for (var el of elements) {\r\n            this.unselectCardElement(el);\r\n        }\r\n    }\r\n\r\n    findCardElement(index) {\r\n        var elements = document.getElementsByClassName(\"bottom-cards\");\r\n        var cardIndex;\r\n        for (var el of elements) {\r\n            cardIndex = parseInt(el.getAttribute(\"data-card-index\"));\r\n            if (cardIndex === index) {\r\n                return el;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    onPassBtnClicked() {\r\n        if (!this.lastPlayer || !this.lastCombination) {\r\n            return;\r\n        }\r\n        this.setState({\r\n            displayTurnButtons: false\r\n        });\r\n        this.sendPass();\r\n    }\r\n\r\n    onHintBtnClicked() {\r\n        this.request({\r\n            event: \"hint\"\r\n        });\r\n    }\r\n\r\n    onSubmitBtnClicked() {\r\n        this.setState({\r\n            displayTurnButtons: false\r\n        });\r\n\r\n        var cards = this.getSelectedCards();\r\n        var deck = this.fc.cardsToDeck(cards);\r\n        if (!this.lastPlayer || !this.lastCombination) {\r\n            var d3Found = false;\r\n            for (var card of deck) {\r\n                if (card.suit === \"diamonds\" && card.rank === \"3\") {\r\n                    d3Found = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (!d3Found) {\r\n                alert(\"First turn cards must include a Diamond-3 card.\");\r\n                this.setState({\r\n                    displayTurnButtons: true\r\n                });\r\n                return;\r\n            }\r\n        }\r\n\r\n        var combination = makeCombination(deck);\r\n\r\n        if (!combination) {\r\n            alert(\"Invalid combination.\");\r\n            this.setState({\r\n                displayTurnButtons: true\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (this.lastCombination && this.lastPlayer.id !== this.props.client.player.id) {\r\n            if (this.lastCombination.combinationName !== combination.combinationName) {\r\n                alert(\"Combination type is not the same the last combination type.\");\r\n                this.setState({\r\n                    displayTurnButtons: true\r\n                });\r\n                return;\r\n            }\r\n\r\n            var compare = combination.compare(this.lastCombination);\r\n            if (compare <= 0) {\r\n                alert(\"Your combination has to be larger than the last combination.\");\r\n                this.setState({\r\n                    displayTurnButtons: true\r\n                });\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.sendTurn(cards);\r\n    }\r\n\r\n    getSelectedCards() {\r\n        var els = document.getElementsByClassName(\"bottom-cards\");\r\n        var out = [];\r\n        var cardIndex;\r\n        for (var el of els) {\r\n            if (el.getAttribute(\"data-card-selected\") === \"true\") {\r\n                cardIndex = parseInt(el.getAttribute(\"data-card-index\"));\r\n                out.push({\r\n                    index: cardIndex,\r\n                    card: this.deck[cardIndex]\r\n                });\r\n            }\r\n        }\r\n        return out;\r\n    }\r\n\r\n    renderPlayground() {\r\n        var results = {};\r\n        if (this.state.availableCombinations) {\r\n            for (var key of Sizes.FIVE_CARD_HANDS) {\r\n                results[key] = this.state.availableCombinations[key] && this.state.availableCombinations[key].length > 0;\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className=\"board\" id=\"playingcards-board\">\r\n                <div className=\"playingcards\" id=\"cards-container\">\r\n                    {this.state.displayWinner && \r\n                        <BigTwoGameOverModal show={this.state.displayWinner} party={this.props.client.party} ranking={this.state.ranking} winner={this.state.winner} onHide={() => { this.setState({ displayWinner: false }) }} />\r\n                    }\r\n                    {this.state.displayWaitingPlayers &&\r\n                        <div className=\"waiting-players align-items-center justify-items-center\">\r\n                            Waiting other players...\r\n                        </div>\r\n                    }\r\n                    {this.state.displayLeftPlayerPassed &&\r\n                        <div className=\"left-player-passed align-items-center justify-items-center\">\r\n                            Passed\r\n                        </div>\r\n                    }\r\n                    {this.state.displayTopPlayerPassed &&\r\n                        <div className=\"top-player-passed align-items-center justify-items-center\">\r\n                            Passed\r\n                        </div>\r\n                    }\r\n                    {this.state.displayRightPlayerPassed &&\r\n                        <div className=\"right-player-passed align-items-center justify-items-center\">\r\n                            Passed\r\n                        </div>\r\n                    }\r\n                    {this.state.displayBottomPlayerPassed &&\r\n                        <div className=\"bottom-player-passed align-items-center justify-items-center\">\r\n                            Passed\r\n                        </div>\r\n                    }\r\n                    {this.state.displayTimer &&\r\n                        <div id=\"player-timer\">\r\n                            {this.state.remainTime}\r\n                        </div>\r\n                    }\r\n                    {this.state.displayNumberOfCards &&\r\n                        <>\r\n                            <div className=\"player1\">\r\n                                <p>{this.state.playerInfo1}</p>\r\n                            </div>\r\n                            <div className=\"player2\">\r\n                                <p>{this.state.playerInfo2}</p>\r\n                            </div>\r\n                            <div className=\"player3\">\r\n                                <p>{this.state.playerInfo3}</p>\r\n                            </div>\r\n                        </>\r\n                    }\r\n                    {this.state.displayTurnButtons &&\r\n                        <div className=\"turn-buttons\">\r\n                            <ButtonGroup>\r\n                                <Button variant=\"primary\" id=\"pass-btn\" onClick={this.onPassBtnClicked}><i className=\"fas fa-forward\" disabled={this.state.passBtnDisabled}></i> Pass</Button>\r\n                                <Button variant=\"warning\" id=\"hint-btn\" onClick={this.onHintBtnClicked}><i className=\"far fa-lightbulb\"></i> Hint</Button>\r\n                                <Button variant=\"success\" id=\"submit-btn\" onClick={this.onSubmitBtnClicked}><i className=\"fas fa-check\"></i> Submit</Button>\r\n                            </ButtonGroup>\r\n                        </div>\r\n                    }\r\n                    {this.state.displayCombinationButtons &&\r\n                        <div className=\"combination-buttons\">\r\n                            <ButtonGroup>\r\n                                <Button variant={results[\"straight\"] ? \"success\" : \"secondary\"} id=\"straight-btn\" disabled={!results[\"straight\"]} onClick={() => { this.selectCombination(\"straight\") }}>Straight</Button>\r\n                            <Button variant={results[\"flush\"] ? \"success\" : \"secondary\"} id=\"flush-btn\" disabled={!results[\"flush\"]} onClick={() => { this.selectCombination(\"flush\") }}>Flush</Button>\r\n                                <Button variant={results[\"fullHouse\"] ? \"success\" : \"secondary\"} id=\"full-house-btn\" disabled={!results[\"fullHouse\"]} onClick={() => { this.selectCombination(\"fullHouse\") }}>Full House</Button>\r\n                                <Button variant={results[\"fourOfAKind\"] ? \"success\" : \"secondary\"} id=\"four-of-a-kind-btn\" disabled={!results[\"fourOfAKind\"]}  onClick={() => { this.selectCombination(\"fourOfAKind\") }}>Four Of A Kind</Button>\r\n                                <Button variant={results[\"straightFlush\"] ? \"success\" : \"secondary\"} id=\"straight-flush-btn\" disabled={!results[\"straightFlush\"]}  onClick={() => { this.selectCombination(\"straightFlush\") }}>Straight Flush</Button>\r\n                            </ButtonGroup>\r\n                        </div>\r\n                    }\r\n                    {this.state.cards}\r\n                </div>\r\n            </div>\r\n        );\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport { Container, ButtonGroup, Button } from 'react-bootstrap';\r\n\r\nexport default function (props) {\r\n    var verti = [];\r\n    var hori;\r\n    var numbers = [[1, 2, 3], [4, 5, 6], [7, 8, 9]];\r\n    var i;\r\n    var j;\r\n    var enabled;\r\n    for (i = 0; i < numbers.length; i++) {\r\n        hori = [];\r\n        for (j = 0; j < numbers[i].length; j++) {\r\n            if (props.enabled && props.enabled.length !== 0) {\r\n                enabled = props.enabled.includes(numbers[i][j]);\r\n            } else {\r\n                enabled = false;\r\n            }\r\n            hori.push(\r\n                <Button variant={enabled ? \"outline-secondary\" : \"secondary\"} className=\"py-3 touch-keypad-key touch-keypad-value\" key={i + \"-\" + j} onClick={props.onNumberClick} disabled={!enabled}>{numbers[i][j]}</Button>\r\n            );\r\n        }\r\n        verti.push(\r\n            <ButtonGroup key={i}>\r\n                {hori}\r\n            </ButtonGroup>\r\n        );\r\n    }\r\n    return (\r\n        <Container fluid={true} className=\"touch-keypad row\" style={{display: props.show ? \"\" : \"none\"}}>\r\n            <ButtonGroup vertical={true}>\r\n                {verti}\r\n                <ButtonGroup>\r\n                    <Button variant=\"primary\" className=\"py-3 touch-keypad-key touch-keypad-function touch-keypad-function-done\" disabled={!props.doneEnabled} onClick={props.onDoneClick}><i className=\"fas fa-check\"></i></Button>\r\n                    <Button variant={props.enabled && props.enabled.includes(0) ? \"outline-secondary\" : \"secondary\"} className=\"py-3 touch-keypad-key touch-keypad-value\" onClick={props.onNumberClick} disabled={!(props.enabled && props.enabled.includes(0))}>0</Button>\r\n                    <Button variant=\"warning\" className=\"py-3 touch-keypad-key touch-keypad-function touch-keypad-function-backspace\" disabled={!props.backspaceEnabled} onClick={props.onBackspaceClick}><i className=\"fas fa-backspace\"></i></Button>\r\n                </ButtonGroup>\r\n            </ButtonGroup>\r\n        </Container>\r\n    );\r\n}","import React from 'react';\r\nimport { Button, InputGroup, FormControl } from 'react-bootstrap';\r\nimport Playground from '../components/Playground.js';\r\nimport NumericKeypad from '../components/NumericKeypad';\r\nimport '../../css/guessnum.css';\r\n\r\nconst DEFAULT_MAXIMUM = 100;\r\n\r\nexport default class GuessNumberPlayground extends Playground {\r\n\r\n\tconstructor(props){\r\n        super(props, \"guessnum\");\r\n        this.maximum = DEFAULT_MAXIMUM;\r\n        this.randCount = 0;\r\n        this.guess = this.guess.bind(this);\r\n    }\r\n\r\n    enable() {\r\n        this.setState({\r\n            loading: false,\r\n            homeScreen: false,\r\n            gameScreen: false,\r\n            keypadDisplay: false,\r\n            funcKeyEnable: false,\r\n            keypad: true,\r\n            text: 0,\r\n            numberMin: 1,\r\n            numberMax: this.maximum,\r\n            enabledKeys: [],\r\n            numberMin: -1,\r\n            numberMax: -1\r\n        });\r\n        this.bootDone();\r\n    }\r\n\r\n    disable() {\r\n        clearInterval(this.interval);\r\n        document.getElementsByTagName(\"body\")[0].classList.remove(\"guessnum-correct\");\r\n        clearTimeout(this.timeout);\r\n    }\r\n\r\n    onResponse(resp) {\r\n        console.log(\"RESPONSE\");\r\n        console.log(resp);\r\n        if (resp.event === \"numberMinMax\") {\r\n            this.setState({\r\n                numberMin: resp.min,\r\n                numberMax: resp.max\r\n            });\r\n        } else if (resp.event === \"newGuess\") {\r\n            if (this.state.text === \"?\") {\r\n                this.setState({\r\n                    text: 0\r\n                });\r\n            }\r\n\r\n            var state = {\r\n                numberMin: resp.min,\r\n                numberMax: resp.max,\r\n                lastGuess: resp.number,\r\n                success: resp.success\r\n            };\r\n\r\n            if (this.state.countDone) {\r\n                this.setState(state);\r\n                this.countUpDownTo(resp.number);\r\n            } else {\r\n                this.awaitNumbers.push(state);\r\n            }\r\n        }\r\n    }\r\n\r\n    startGame() {\r\n        clearTimeout(this.timeout);\r\n        this.setState({\r\n            homeScreen: false,\r\n            gameScreen: true,\r\n            countDone: false\r\n        });\r\n        this.awaitNumbers = [];\r\n        this.disableInput();\r\n        this.fakeRandom();\r\n    };\r\n\r\n    fakeRandom() {\r\n        var rand = Math.floor(Math.random() * this.maximum);\r\n        this.setState({ text: rand });\r\n        this.randCount++;\r\n        if (this.randCount < 50 || this.state.numberMin === -1 || this.state.numberMax === -1) {\r\n            this.timeout = setTimeout(function () {\r\n                this.fakeRandom();\r\n            }.bind(this), 25);\r\n        } else {\r\n            this.randCount = 0;\r\n            this.setState({ text: \"?\", countDone: true });\r\n            if (this.isMyTurn()) {\r\n                this.enableInput();\r\n            }\r\n        }\r\n    }\r\n\r\n    countUpDownTo(to) {\r\n        this.setState({ countDone: false });\r\n        var from = this.state.text;\r\n        var i;\r\n        if (to > from) {\r\n            this.setState({ text: from + 1 });\r\n            this.timeout = setTimeout(function () {\r\n                this.countUpDownTo(to);\r\n            }.bind(this), 750 / (to - from));\r\n        } else if (to < from) {\r\n            this.setState({ text: from - 1 });\r\n            this.timeout = setTimeout(function () {\r\n                this.countUpDownTo(to);\r\n            }.bind(this), 750 / (from - to));\r\n        } else if (this.state.success) {\r\n            this.setState({ gameScreen: false, resultScreen: true });\r\n            this.interval = setInterval(function () {\r\n                var cl = document.getElementsByTagName(\"body\")[0].classList;\r\n                if (cl.contains(\"guessnum-correct\")) {\r\n                    cl.remove(\"guessnum-correct\");\r\n                } else {\r\n                    cl.add(\"guessnum-correct\");\r\n                }\r\n            }, 1000);\r\n            this.timeout = setTimeout(() => {\r\n                this.endGame();\r\n            }, 10000);\r\n            return;\r\n        } else if (this.awaitNumbers.length > 0) {\r\n            var state = this.awaitNumbers.shift();\r\n            this.setState(state);\r\n            this.countUpDownTo(state.lastGuess);\r\n        } else {\r\n            this.setState({ countDone: true });\r\n            if (this.isMyTurn()) {\r\n                this.enableInput();\r\n            }\r\n        }\r\n    }\r\n\r\n    enableInput() {\r\n        if (!this.state.keypad) {\r\n            document.getElementById(\"guess-number-field\").disabled = false;\r\n            document.getElementById(\"guess-number-field\").focus();\r\n        }\r\n        document.getElementById(\"guess-btn\").disabled = false;\r\n        this.setState({ keypadDisplay: this.state.keypad, funcKeyEnable: true, enabledKeys: [1, 2, 3, 4, 5, 6, 7, 8, 9, 0] });\r\n        //this.updateKeypad();\r\n    }\r\n\r\n    disableInput() {\r\n        document.getElementById(\"guess-number-field\").disabled = true;\r\n        document.getElementById(\"guess-btn\").disabled = true;\r\n        this.setState({ keypadDisplay: false, funcKeyEnable: false, enabledKeys: [] });\r\n    }\r\n\r\n    myTurn() {\r\n        if (this.state.countDone) {\r\n            this.enableInput();\r\n        }\r\n    }\r\n\r\n    guess() {\r\n        this.disableInput();\r\n        var guessStr = document.getElementById(\"guess-number-field\").value;\r\n        if (guessStr === \"\") {\r\n            this.enableInput();\r\n            this.setState({ error: \"It cannot be blank.\" });\r\n            document.getElementById(\"guess-btn\").disabled = false;\r\n            return;\r\n        }\r\n        var guess = parseInt(guessStr);\r\n        if (isNaN(guess)) {\r\n            this.enableInput();\r\n            this.setState({ error: \"It must be an integer.\" })\r\n            return;\r\n        }\r\n\r\n        if (guess >= this.state.numberMax) {\r\n            this.enableInput();\r\n            this.setState({ error: \"It cannot be larger than the maximum value.\" });\r\n            return;\r\n        } else if (guess <= this.state.numberMin) {\r\n            this.enableInput();\r\n            this.setState({ error: \"It cannot be less than the minimum value.\" });\r\n            return;\r\n        }\r\n\r\n        this.setState({ error: \"\" });\r\n\r\n        this.request({\r\n            event: \"guess\",\r\n            number: guess\r\n        });\r\n\r\n        document.getElementById(\"guess-number-field\").value = \"\";\r\n    }\r\n\r\n    renderPlayground() {\r\n        return (\r\n            <div>\r\n                {\r\n                    this.state.gameScreen &&\r\n                    <div className=\"d-flex flex-column align-items-center justify-content-center guessnum-home-screen\">\r\n                        <p className=\"display-2\">{this.state.text}</p>\r\n                        <p className=\"display-4\">{this.state.numberMin} - {this.state.numberMax}</p>\r\n                        <br />\r\n                        <InputGroup className=\"ml-8 mr-8\">\r\n                            <FormControl\r\n                                id=\"guess-number-field\"\r\n                                type=\"number\"\r\n                                placeholder=\"Your Guess\"\r\n                                aria-label=\"Your Guess\"\r\n                                onKeyPress={(evt) => {\r\n                                    if (evt.key === \"Enter\") {\r\n                                        this.guess();\r\n                                    }\r\n                                }}\r\n                                disabled\r\n                            />\r\n                            <InputGroup.Append>\r\n                                <Button variant=\"success\" id=\"guess-btn\" onClick={this.guess}>Guess</Button>\r\n                            </InputGroup.Append>\r\n                        </InputGroup>\r\n                        <br />\r\n                        <p className=\"text-danger\">{this.state.error}</p>\r\n                    </div>\r\n                }\r\n                {\r\n                    this.state.resultScreen &&\r\n                    <div className=\"d-flex flex-column align-items-center justify-content-center guessnum-home-screen\">\r\n                        <p className=\"display-2\">{this.state.text}</p>\r\n                        <p className=\"display-4 text-success\">Bingo!</p>\r\n                        {this.props.party.players.length > 1 &&\r\n                            <p>Winner: <b>{this.getTurnPlayer().name}</b></p>\r\n                        }\r\n                        <br />\r\n                        <p>You will be redirected back to the party dialog very soon.</p>\r\n                    </div>\r\n                }\r\n                <NumericKeypad show={this.state.keypadDisplay} enabled={this.state.enabledKeys} doneEnabled={this.state.funcKeyEnable} backspaceEnabled={this.state.funcKeyEnable} onNumberClick={(evt) => {\r\n                    evt.preventDefault();\r\n                    console.log(\"Click num\");\r\n                    var val = evt.target.innerHTML;\r\n                    document.getElementById(\"guess-number-field\").value = document.getElementById(\"guess-number-field\").value + val;\r\n                    //this.updateKeypad();\r\n                }} onDoneClick={(evt) => {\r\n                    evt.preventDefault();\r\n                    console.log(\"Click done\");\r\n                    this.guess();\r\n                }} onBackspaceClick={(evt) => {\r\n                    evt.preventDefault();\r\n                    console.log(\"Click bs\");\r\n                    document.getElementById(\"guess-number-field\").value = document.getElementById(\"guess-number-field\").value.slice(0, -1);\r\n                    //this.updateKeypad();\r\n                }} />\r\n            </div>\r\n        );\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport BigTwoPlayground from '../playgrounds/BigTwoPlayground'\r\n/*\r\nimport RoyalPlayground from '../playgrounds/RoyalPlayground'\r\nimport TwentyOnePlayground from '../playgrounds/TwentyOnePlayground'\r\n*/\r\nimport GuessNumberPlayground from '../playgrounds/GuessNumberPlayground'\r\n/*\r\nimport GuessBigPlayground from '../playgrounds/GuessBigPlayground'\r\n*/\r\n\r\nconst Def = {\r\n    \"bigtwo\": {\r\n        instance: BigTwoPlayground,\r\n        icon: \"fas fa-heart\",\r\n        name: \"Big Two\",\r\n        minPlayers: 4,\r\n        maxPlayers: 4\r\n    },\r\n    /*\r\n    \"royal\": {\r\n        instance: RoyalPlayground,\r\n        icon: \"fas fa-grin-stars\",\r\n        name: \"Royal\",\r\n        minPlayers: 1,\r\n        maxPlayers: 4\r\n    },\r\n    \"twentyone\": {\r\n        instance: TwentyOnePlayground,\r\n        icon: \"fas fa-sort-numeric-down\",\r\n        name: \"Twenty-one\",\r\n        minPlayers: 1,\r\n        maxPlayers: 4\r\n    },\r\n    */\r\n    \"guessnum\": {\r\n        instance: GuessNumberPlayground,\r\n        icon: \"fas fa-list-ol\",\r\n        name: \"Guess Number\",\r\n        minPlayers: 1,\r\n        maxPlayers: 10\r\n    }\r\n    /*,\r\n    \"guessbig\": {\r\n        instance: GuessBigPlayground,\r\n        icon: \"fas fa-dice\",\r\n        name: \"Guess Big\",\r\n        minPlayers: 1,\r\n        maxPlayers: 4\r\n    }\r\n    */\r\n};\r\n\r\nexport function isGameExist(gameId) {\r\n    return Def[gameId] !== undefined;\r\n}\r\n\r\nexport function getInstance(gameId) {\r\n    return Def[gameId].instance;\r\n}\r\n\r\nexport function getIcon(gameId) {\r\n    return Def[gameId].icon;\r\n}\r\n\r\nexport function getMinimumPlayers(gameId) {\r\n    return Def[gameId].minPlayers;\r\n}\r\n\r\nexport function getMaximumPlayers(gameId) {\r\n    return Def[gameId].maxPlayers;\r\n}\r\n\r\nexport function makeGameButton(gameId, disabled, onClickFunc) {\r\n    return <Button key={gameId} variant=\"secondary\" disabled={disabled} onClick={() => {\r\n        onClickFunc(gameId);\r\n    }}><i className={Def[gameId].icon + \" fa-2x\"}></i><br />{Def[gameId].name}</Button>\r\n}\r\n\r\nexport function listOfGameButtons(startGameFunc) {\r\n    var out = [];\r\n    for (var gameKey in Def) {\r\n        out.push(\r\n            makeGameButton(gameKey, false, startGameFunc)\r\n        );\r\n    }\r\n    return out;\r\n}","import React from 'react';\r\nimport { Modal, Button, ButtonGroup, InputGroup, FormControl, Form } from 'react-bootstrap';\r\nimport * as Games from './Games';\r\n\r\nexport default function(props) {\r\n    return (\r\n        <Modal show={props.show} animation={false} backdrop=\"static\">\r\n            <Modal.Header>\r\n                <Modal.Title>Play³ ({VERSION})</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <label>Nickname:</label>\r\n                <InputGroup className=\"mb-3\">\r\n                    <FormControl\r\n                        id=\"nickname-field\"\r\n                        placeholder=\"Nickname\"\r\n                        aria-label=\"Nickname\"\r\n                        aria-describedby=\"party-code-field-addon\"\r\n                    />\r\n                </InputGroup>\r\n                <hr />\r\n                <label>Join a party:</label>\r\n                <InputGroup className=\"mb-3\">\r\n                    <FormControl\r\n                        id=\"party-code-field\"\r\n                        placeholder=\"Party Code\"\r\n                        aria-label=\"Party Code\"\r\n                        aria-describedby=\"party-code-field-addon\"\r\n                    />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"success\" onClick={props.joinGame}>Join</Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n                <div className=\"d-flex\">\r\n                    <Button variant=\"success\" className=\"btn-block\">Quick join</Button>\r\n                    <Button variant=\"secondary\" className=\"ml-2\"><i className=\"fas fa-cog\"></i></Button>\r\n                </div>\r\n                <hr />\r\n                <p>Start a new game:</p>\r\n                <div className=\"hori-scroll\">\r\n                    {Games.listOfGameButtons(props.startGame)}\r\n                </div>\r\n                <Form.Check\r\n                    type=\"switch\"\r\n                    id=\"local-mode-switch\"\r\n                    label=\"Start game locally\"\r\n                    checked={false}\r\n                    disabled\r\n                />\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <p>Application licensed under the GPLv3 Public License.</p>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}","import React from 'react';\r\nimport { Modal, Button, ButtonGroup, InputGroup, FormControl, Form, Table, Spinner } from 'react-bootstrap';\r\nimport * as Games from './Games';\r\n\r\nfunction playersFalseInList(players, list) {\r\n    var c = 0;\r\n    for (var player of players) {\r\n        if (player.online && !list[player.id]) {\r\n            c++;\r\n        }\r\n    }\r\n    return c;\r\n}\r\n\r\nexport default function (props) {\r\n    var i;\r\n    var id;\r\n    var admin = props.party.admin;\r\n    var partyPlayers = props.party.players;\r\n    var playerList = [];\r\n    for (i = 0; i < partyPlayers.length; i++) {\r\n        id = partyPlayers[i][\"id\"];\r\n\r\n        playerList.push(\r\n            <tr key={id}>\r\n                <td>{i + 1}</td>\r\n                <td><span className={partyPlayers[i].online ? \"\" : \"text-secondary\"}>{id === admin.id ? \"👑 \" : \"\"}{partyPlayers[i][\"name\"]} {partyPlayers[i].aiMode ? \"(AI)\" : \"\"} {props.gameInitReadyList[id] || !partyPlayers[i].online ? (props.playerReadyList[id] ? \"✔️\" : \"\") : <Spinner animation=\"border\" role=\"status\" size=\"sm\"></Spinner>}</span></td>\r\n                <td>{id !== admin.id && props.client.player.id === admin.id && <Button data-player-id={id} variant=\"danger\" onClick={(evt) => {\r\n                    props.client.kickPlayer(evt.target.getAttribute(\"data-player-id\"));\r\n                }}>Kick</Button>}</td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    var gameMinPlayers = Games.getMinimumPlayers(props.party.gameId);\r\n    var gameMaxPlayers = Games.getMaximumPlayers(props.party.gameId);\r\n\r\n    var startBtnVariant;\r\n    var startBtnDisabled;\r\n    var startBtnText;\r\n    var startBtnClickFunc;\r\n    if (playersFalseInList(partyPlayers, props.gameInitReadyList) > 0) {\r\n        startBtnVariant = \"secondary\";\r\n        startBtnDisabled = true;\r\n        startBtnText = \"Awaiting all players to boot game\";\r\n    } else {\r\n        if (props.playerReadyList[props.player.id]) {\r\n            if (props.player.id === admin.id) {\r\n                var notReady = playersFalseInList(partyPlayers, props.playerReadyList);\r\n                if (notReady > 0) {\r\n                    startBtnVariant = \"secondary\";\r\n                    startBtnDisabled = true;\r\n                    startBtnText = (partyPlayers.length - notReady) + \"/\" + partyPlayers.length + \" players ready\";\r\n                } else if (partyPlayers.length < gameMinPlayers) {\r\n                    startBtnVariant = \"secondary\";\r\n                    startBtnDisabled = true;\r\n                    startBtnText = \"Not enough players\";\r\n                } else {\r\n                    startBtnVariant = \"success\";\r\n                    startBtnDisabled = false;\r\n                    startBtnText = \"Start Game\";\r\n                    startBtnClickFunc = () => {\r\n                        props.client.startGame();\r\n                    };\r\n                }\r\n            } else {\r\n                startBtnVariant = \"warning\";\r\n                startBtnDisabled = false;\r\n                startBtnText = \"Unready\";\r\n                startBtnClickFunc = () => {\r\n                    props.client.playerUnready();\r\n                };\r\n            }\r\n        } else {\r\n            startBtnVariant = \"success\";\r\n            startBtnDisabled = false;\r\n            startBtnText = \"Ready\";\r\n            startBtnClickFunc = () => {\r\n                props.client.playerReady();\r\n            };\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.show} animation={false} backdrop=\"static\">\r\n            <Modal.Header>\r\n                <Modal.Title>Party</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"d-flex\">\r\n                    {Games.makeGameButton(props.party.gameId, !props.playgroundBootDone || props.player.id !== admin.id, () => { })}\r\n                    <div className=\"container\">\r\n                        <span>Party Code:</span>\r\n                        <h2>{props.party.partyId}</h2>\r\n                        <InputGroup className=\"mb-2\">\r\n                            <FormControl\r\n                                id=\"share-link\"\r\n                                value={\"https://play3.anth.cloud/?\" + props.party.partyId}\r\n                                readOnly\r\n                            />\r\n                            <InputGroup.Append>\r\n                                <Button variant=\"primary\" onClick={() => {\r\n                                    var url = document.getElementById(\"share-link\").value;\r\n                                    if (navigator.share) {\r\n                                        navigator.share({\r\n                                            url: url\r\n                                        });\r\n                                    } else {\r\n                                        prompt(\"Your browser does not support sharing. Please copy the URL below and share it to your friends.\", url);\r\n                                    }\r\n                                }}><i className=\"fas fa-share-square\"></i> Share</Button>\r\n                            </InputGroup.Append>\r\n                        </InputGroup>\r\n                        <p className=\"mb-2\">{props.playgroundBootDone ? \"The game requires at least \" + gameMinPlayers + \" player(s) and at maximum \" + gameMaxPlayers + \" player(s).\" + (props.player.id === admin.id ? \" Click on the icon to change game.\" : \"\") : \"Loading...\"} </p>\r\n                        <Button variant={startBtnVariant} onClick={startBtnClickFunc} block disabled={startBtnDisabled}>{startBtnText}</Button>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <Table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>#</th>\r\n                            <th>Nickname</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {playerList}\r\n                    </tbody>\r\n                </Table>\r\n                {\r\n                    props.player.id === admin.id &&\r\n                    <Button variant=\"success\" onClick={() => {\r\n                        var playerName = prompt(\"AI Player Name:\");\r\n                        props.client.addAi(playerName);\r\n                    }} block><i className=\"fas fa-plus\"></i> Add computer (AI)</Button>\r\n                }\r\n                <hr />\r\n                <InputGroup className=\"mb-3\">\r\n                    <FormControl\r\n                        id=\"your-message-field\"\r\n                        placeholder=\"Your message\"\r\n                        aria-label=\"Your message\"\r\n                        aria-describedby=\"your-message-addon\"\r\n                    />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"success\" onClick={props.onSendMsg}>Send</Button>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n                <hr />\r\n                <div id=\"party-modal-chat\">\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <p>Application licensed under the GPLv3 Public License.</p>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { Modal, Button, ButtonGroup, InputGroup, FormControl, Form } from 'react-bootstrap';\r\nimport * as Games from './Games';\r\n\r\nexport default function(props) {\r\n    return (\r\n        <Modal show={props.show} animation={false} backdrop=\"static\">\r\n            <Modal.Header>\r\n                <Modal.Title>Play³ ({VERSION})</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <p>You are joining party <b>{props.partyId}</b>!</p>\r\n                <hr />\r\n                <label>Nickname:</label>\r\n                <InputGroup className=\"mb-3\">\r\n                    <FormControl\r\n                        id=\"join-nickname-field\"\r\n                        placeholder=\"Nickname\"\r\n                        aria-label=\"Nickname\"\r\n                        aria-describedby=\"party-code-field-addon\"\r\n                    />\r\n                </InputGroup>\r\n                <hr />\r\n                <Button variant=\"success\" className=\"btn-block\" onClick={props.onJoin}>Join</Button>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <p>Application licensed under the GPLv3 Public License.</p>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}","import React from 'react';\r\nimport { Modal, Spinner } from 'react-bootstrap';\r\nimport * as Games from './Games';\r\n\r\nexport default function (props) {\r\n    var joinCreate = props.create ? \"Creating\" : \"Joining\";\r\n    return (\r\n        <Modal show={props.show} animation={false} backdrop=\"static\">\r\n            <Modal.Header>\r\n                <Modal.Title>{joinCreate} Party</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"d-flex justify-items-center align-items-center\">\r\n                    <Spinner animation=\"grow\" role=\"status\"></Spinner>\r\n                    <strong className=\"ml-3\">{joinCreate} party{props.partyId ? (\" \" + props.partyId) : \"\"}...</strong>\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <p>Application licensed under the GPLv3 Public License.</p>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}","import React from 'react';\r\nimport { Modal, Spinner } from 'react-bootstrap';\r\nimport * as Games from './Games';\r\n\r\nexport default function(props) {\r\n    return (\r\n        <Modal show={props.show} animation={false} backdrop=\"static\">\r\n            <Modal.Header>\r\n                <Modal.Title>Play³</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"d-flex justify-items-center align-items-center\">\r\n                    <Spinner animation=\"grow\" role=\"status\"></Spinner>\r\n                    <strong className=\"ml-3\">Connecting to server...</strong>\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <p>Application licensed under the GPLv3 Public License.</p>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}","import io from 'socket.io-client';\r\n\r\nexport default class Client {\r\n\r\n    constructor(endPoint) {\r\n        this.endPoint = endPoint;\r\n        this.player = false;\r\n        this.party = false;\r\n        this.token = false;\r\n        this.ready = false;\r\n        this.versionMatch = false;\r\n        this.serverVersion = false;\r\n        this.gameInitReadyList = {};\r\n        this.playerReadyList = {};\r\n        this.listeners = {};\r\n        this.pendingRequests = [];\r\n        this.initializeSocket();\r\n    }\r\n\r\n    initializeSocket() {\r\n        this.socket = io(this.endPoint);\r\n        this.socket.on(\"server\", (data) => {\r\n            if (data.event === \"info\") {\r\n                this.serverVersion = data.version;\r\n                if (data.version !== VERSION) {\r\n                    this.askRefreshPage();\r\n                } else {\r\n                    this.versionMatch = true;\r\n                    while (this.pendingRequests.length > 0) {\r\n                        var req = this.pendingRequests.shift();\r\n                        this.forceSocketEmit(req.event, req.data);\r\n                    }\r\n                }\r\n                this.ready = true;\r\n                this.dispatch(\"__ready\");\r\n            }\r\n        });\r\n        this.socket.on(\"party\", (data) => {\r\n            console.log(data);\r\n            if (data.event === \"partyJoined\") {\r\n                this.player = data.player;\r\n                this.token = data.token;\r\n                this.party = data.party;\r\n            } else if (data.event === \"gameInitReady\") {\r\n                this.gameInitReadyList = data.gameInitReady;\r\n            } else if (data.event === \"playerReady\") {\r\n                this.playerReadyList = data.playerReady;\r\n            } else if (this.party && data.event === \"playerListChanged\") {\r\n                this.party.players = data.players;\r\n            } else if (this.party && data.event === \"gameChanged\") {\r\n                this.party.gameId = data.gameId;\r\n            } else if (this.party && data.event === \"playerChanged\") {\r\n                var oldPlayer = false;\r\n                var i;\r\n                for (i = 0; i < this.party.players.length; i++) {\r\n                    if (this.party.players[i].id === data.player.id) {\r\n                        oldPlayer = this.party.players[i];\r\n                        break;\r\n                    }\r\n                }\r\n                if (oldPlayer) {\r\n                    oldPlayer.online = data.player.online;\r\n                    oldPlayer.aiMode = data.player.aiMode;\r\n                }\r\n            } else if (this.party && data.event === \"adminChanged\") {\r\n                this.party.admin = data.admin;\r\n            }\r\n            this.dispatch(\"party\", data);\r\n        });\r\n        this.socket.on(\"game\", (data) => {\r\n            this.dispatch(\"game\", data);\r\n        });\r\n        this.socket.on(\"chat\", (data) => {\r\n            this.dispatch(\"chat\", data);\r\n        });\r\n        this.forceSocketEmit(\"server\", {\r\n            event: \"info\"\r\n        });\r\n    }\r\n\r\n    on(event, listener) {\r\n        if (!this.listeners[event]) {\r\n            this.listeners[event] = [];\r\n        }\r\n        this.listeners[event].push(listener);\r\n    }\r\n\r\n    off(event, listener) {\r\n        if (!this.listeners[event]) {\r\n            return false;\r\n        }\r\n        var array = this.listeners[event];\r\n        var index = array.indexOf(listener);\r\n\r\n        if (index === -1) {\r\n            return false;\r\n        }\r\n\r\n        array.splice(index, 1);\r\n        return true;\r\n    }\r\n\r\n    dispatch(event, data) {\r\n        if (!this.listeners[event]) {\r\n            return;\r\n        }\r\n\r\n        var array = this.listeners[event];\r\n        for (var listener of array) {\r\n            listener(data, this);\r\n        }\r\n    }\r\n\r\n    askRefreshPage() {\r\n        if (confirm(\"Your client version (\" + VERSION + \") does not match with the server's version (\" + this.serverVersion + \"). This is probably due to a pending update for the app. Do you want to refresh the page and try again?\")) {\r\n            window.location = window.location.origin + \"/?\" + Date.now();\r\n        }\r\n    }\r\n\r\n    forceSocketEmit(event, data) {\r\n        this.socket.emit(event, data);\r\n    }\r\n\r\n    socketEmit(event, data) {\r\n        if (!this.ready) {\r\n            this.pendingRequests.push({\r\n                event: event,\r\n                data: data\r\n            });\r\n        } else {\r\n            if (!this.versionMatch) {\r\n                this.askRefreshPage();\r\n                return;\r\n            }\r\n            this.forceSocketEmit(event, data);\r\n        }\r\n    }\r\n\r\n    sendMessage(msg) {\r\n        this.socketEmit(\"chat\", {\r\n            token: this.token,\r\n            playerId: this.player.id,\r\n            partyId: this.party.partyId,\r\n            msg: msg\r\n        });\r\n    }\r\n\r\n    aiMode(enable) {\r\n        this.socketEmit(\"party\", {\r\n            event: \"aiMode\",\r\n            token: this.token,\r\n            playerId: this.player.id,\r\n            partyId: this.party.partyId,\r\n            enable: enable\r\n        });\r\n    }\r\n\r\n    addAi(playerName) {\r\n        this.socketEmit(\"party\", {\r\n            event: \"addAi\",\r\n            token: this.token,\r\n            playerId: this.player.id,\r\n            partyId: this.party.partyId,\r\n            playerName: playerName\r\n        });\r\n    }\r\n\r\n    gameRequest(req) {\r\n        this.socketEmit(\"game\", {\r\n            token: this.token,\r\n            partyId: this.party.partyId,\r\n            playerId: this.player.id,\r\n            request: req\r\n        });\r\n    }\r\n\r\n    createParty(nickName, gameId) {\r\n        this.socketEmit(\"party\", {\r\n            event: \"create\",\r\n            gameId: gameId,\r\n            playerName: nickName\r\n        });\r\n    }\r\n\r\n    joinParty(nickName, partyId) {\r\n        this.socketEmit(\"party\", {\r\n            event: \"join\",\r\n            partyId: partyId,\r\n            playerName: nickName\r\n        });\r\n    }\r\n\r\n    kickPlayer(playerId) {\r\n        this.socketEmit(\"party\", {\r\n            event: \"kickPlayer\",\r\n            token: this.token,\r\n            partyId: this.party.partyId,\r\n            playerId: this.player.id,\r\n            kickPlayerId: playerId\r\n        });\r\n    }\r\n\r\n    gameInitReady() {\r\n        this.socketEmit(\"party\", {\r\n            event: \"gameInitReady\",\r\n            token: this.token,\r\n            partyId: this.party.partyId,\r\n            playerId: this.player.id\r\n        })\r\n    }\r\n\r\n    playerReady() {\r\n        this.socketEmit(\"party\", {\r\n            event: \"playerReady\",\r\n            token: this.token,\r\n            partyId: this.party.partyId,\r\n            playerId: this.player.id\r\n        })\r\n    }\r\n\r\n    playerUnready() {\r\n        this.socketEmit(\"party\", {\r\n            event: \"playerUnready\",\r\n            token: this.token,\r\n            partyId: this.party.partyId,\r\n            playerId: this.player.id\r\n        })\r\n    }\r\n\r\n    startGame() {\r\n        this.socketEmit(\"party\", {\r\n            event: \"startGame\",\r\n            token: this.token,\r\n            partyId: this.party.partyId,\r\n            playerId: this.player.id\r\n        })\r\n    }\r\n\r\n}","// JavaScript source code\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport io from 'socket.io-client';\r\nimport GameModal from './components/GameModal';\r\nimport PartyModal from './components/PartyModal'\r\nimport JoinNicknameModal from './components/JoinNicknameModal';\r\nimport JoiningPartyModal from './components/JoiningPartyModal';\r\nimport ConnectingModal from './components/ConnectingModal';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '@fortawesome/fontawesome-free/js/fontawesome';\r\nimport '@fortawesome/fontawesome-free/js/solid';\r\nimport '@fortawesome/fontawesome-free/js/regular';\r\nimport '@fortawesome/fontawesome-free/js/brands';\r\nimport '../css/style.css';\r\nimport * as Games from './components/Games';\r\nimport Client from './lib/client';\r\n\r\nclass App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        var endPoint = \"https://play3-srv.anth.cloud\";\r\n\r\n        var savedEndPoint = localStorage.getItem(\"endpoint\");\r\n        if (localStorage && savedEndPoint) {\r\n            endPoint = savedEndPoint;\r\n            /*\r\n            if (confirm(\"Warning: Your game API endpoint will be pointed to \\\"\" + savedEndPoint + \"\\\". Modify your LocalStorage or clear browser history to point back to default server. Are you sure to continue with this API endpoint?\")) {\r\n\r\n            };\r\n            */\r\n        }\r\n\r\n        this.client = new Client(endPoint);\r\n        this.state = {\r\n            connectingModalShow: true,\r\n            gameModalShow: false,\r\n            partyModalShow: false,\r\n            playground: false,\r\n            gameInitReadyList: false,\r\n            playerReadyList: false\r\n        };\r\n        this.startGame = this.startGame.bind(this);\r\n        this.joinGame = this.joinGame.bind(this);\r\n        this.onJoinNicknameClicked = this.onJoinNicknameClicked.bind(this);\r\n        this.onSendMsg = this.onSendMsg.bind(this);\r\n        this.listen();\r\n    }\r\n\r\n    onJoinNicknameClicked() {\r\n        var nickName = document.getElementById(\"join-nickname-field\").value;\r\n        this.client.joinParty(nickName, this.state.joinPartyId);\r\n        this.setState({\r\n            joinNicknameModalShow: false,\r\n            joiningPartyModalShow: true,\r\n            creatingParty: false\r\n        });\r\n    }\r\n\r\n    listen() {\r\n        this.client.on(\"__ready\", () => {\r\n            this.setState({\r\n                connectingModalShow: false\r\n            });\r\n            if (window.location.search && window.location.search.length === 7) {\r\n                var partyId = window.location.search.substring(1, 7);\r\n\r\n                this.setState({\r\n                    joinNicknameModalShow: true,\r\n                    joinPartyId: partyId\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    gameModalShow: true,\r\n                    connectingModalShow: false\r\n                });\r\n            }\r\n        });\r\n        this.client.on(\"party\", (data) => {\r\n            this.setState({\r\n                party: this.client.party\r\n            });\r\n\r\n            if (data.event === \"gameInitReady\") {\r\n                this.setState({\r\n                    gameInitReadyList: this.client.gameInitReadyList\r\n                });\r\n            } else if (data.event === \"playerReady\") {\r\n                this.setState({\r\n                    playerReadyList: this.client.playerReadyList\r\n                });\r\n            } else if (data.event === \"startGame\") {\r\n                this.setState({\r\n                    gameModalShow: false,\r\n                    partyModalShow: false\r\n                });\r\n            } else if (this.client.party && this.client.party.gameId && (data.event === \"partyJoined\" || data.event === \"gameChanged\")) {\r\n                if (this.state.playground) {\r\n                    this.setState({\r\n                        awaitChangeGame: true\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        joiningPartyModalShow: false,\r\n                        partyModalShow: true\r\n                    });\r\n                    this.updatePlayground();\r\n                }\r\n            } else if (data.event && data.event.endsWith(\"Failed\")) {\r\n                console.error(data);\r\n                if (data.code === -4) {\r\n                    return;\r\n                }\r\n                alert(\"Code: \" + data.code + \"\\nError: \" + data.msg);\r\n            }\r\n        });\r\n        this.client.on(\"chat\", (data) => {\r\n            if (!this.state.partyModalShow) {\r\n                return;\r\n            }\r\n\r\n            console.log(\"App Chat\");\r\n            console.log(data);\r\n\r\n            if (data.event === \"chat\") {\r\n                var chatList = document.getElementById(\"party-modal-chat\");\r\n                var el = document.createElement(\"p\");\r\n                el.innerHTML = \"<b>\" + data.player.name + \":</b> \" + data.msg;\r\n                el.classList.add(\"chat-message\");\r\n                chatList.prepend(el);\r\n            }\r\n        });\r\n    }\r\n\r\n    updatePlayground() {\r\n        this.setState({\r\n            playgroundBootDone: false,\r\n            playground: React.createElement(Games.getInstance(this.client.party.gameId), {\r\n                party: this.state.party,\r\n                client: this.client,\r\n                onBootDone: () => {\r\n                    console.log(\"Bootdone\");\r\n                    this.setState({\r\n                        playgroundBootDone: true\r\n                    });\r\n                    this.client.gameInitReady();\r\n                },\r\n                onDisable: () => {\r\n                    this.setState({\r\n                        gameModalShow: false,\r\n                        partyModalShow: true,\r\n                        playground: false,\r\n                        playgroundBootDone: false\r\n                    });\r\n\r\n                    if (this.state.awaitChangeGame) {\r\n                        this.setState({\r\n                            awaitChangeGame: false\r\n                        });\r\n                        this.updatePlayground();\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    joinGame() {\r\n        var nickName = document.getElementById(\"nickname-field\").value;\r\n        var partyId = document.getElementById(\"party-code-field\").value;\r\n\r\n        if (!nickName || nickName === \"\") {\r\n            alert(\"Please fill in your nickname.\");\r\n            return;\r\n        }\r\n\r\n        if (!partyId || partyId === \"\" || partyId.length !== 6) {\r\n            alert(\"Party Code Invalid.\");\r\n            return;\r\n        }\r\n\r\n        this.client.joinParty(nickName, partyId);\r\n\r\n        this.setState({\r\n            gameModalShow: false,\r\n            joiningPartyModalShow: true,\r\n            creatingParty: false\r\n        });\r\n    }\r\n\r\n    startGame(gameId) {\r\n        if (!Games.isGameExist(gameId)) {\r\n            alert(\"The selected game is currently unavailable.\");\r\n            return;\r\n        }\r\n        var localMode = document.getElementById(\"local-mode-switch\").checked;\r\n        var nickName = document.getElementById(\"nickname-field\").value;\r\n\r\n        if (!nickName || nickName === \"\") {\r\n            alert(\"Please fill in your nickname.\");\r\n            return;\r\n        }\r\n\r\n        this.client.createParty(nickName, gameId);\r\n\r\n        this.setState({\r\n            gameModalShow: false,\r\n            joiningPartyModalShow: true,\r\n            creatingParty: true\r\n        });\r\n        /*\r\n        this.setState({\r\n            gameModalShow: false,\r\n            playground: React.createElement(Games[gameName], {\r\n                localMode: localMode,\r\n                playerName: nickName,\r\n                onDisable: () => {\r\n                    this.setState({\r\n                        gameModalShow: true,\r\n                        partyModalShow: false,\r\n                        playground: false\r\n                    });\r\n                }\r\n            })\r\n        });\r\n        */\r\n    }\r\n\r\n    onSendMsg() {\r\n        var msg = document.getElementById(\"your-message-field\").value;\r\n        if (!msg || msg === \"\") {\r\n            return;\r\n        }\r\n        document.getElementById(\"your-message-field\").value = \"\";\r\n        this.client.sendMessage(msg);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.playground}\r\n                <ConnectingModal show={this.state.connectingModalShow} />\r\n                <GameModal show={this.state.gameModalShow} onHide={() => this.setState({ gameModalShow: false })} startGame={this.startGame} joinGame={this.joinGame} />\r\n                {this.state.joiningPartyModalShow &&\r\n                    <JoiningPartyModal show={this.state.joiningPartyModalShow} create={this.state.creatingParty} partyId={this.state.joinPartyId} />\r\n                }\r\n                {this.state.joinNicknameModalShow &&\r\n                    <JoinNicknameModal show={this.state.joinNicknameModalShow} partyId={this.state.joinPartyId} onJoin={this.onJoinNicknameClicked} />\r\n                }\r\n                {\r\n                    this.state.partyModalShow &&\r\n                    <PartyModal show={this.state.partyModalShow} onHide={() => this.setState({ partyModalShow: false })} client={this.client} playerReadyList={this.state.playerReadyList} gameInitReadyList={this.state.gameInitReadyList} party={this.state.party} player={this.client.player} playgroundBootDone={this.state.playgroundBootDone} onSendMsg={this.onSendMsg} />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}