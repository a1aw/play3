(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){(t=a(33)(!1)).push([e.i,"body {\r\n    width: 100%;\r\n    height: 100vh;\r\n    position: absolute;\r\n    background-color: rgb(229, 229, 229)\r\n}\r\n\r\n.party-list {\r\n    margin: 4px;\r\n    position: absolute;\r\n    top: 4px;\r\n    right: 4px;\r\n    text-align: right;\r\n}\r\n\r\n.hori-scroll {\r\n    margin: 4px;\r\n    overflow: auto;\r\n    white-space: nowrap;\r\n}\r\n\r\n.hori-scroll button {\r\n    margin: 4px;\r\n}\r\n\r\n.playground {\r\n    padding: 8px;\r\n}\r\n\r\n.loading {\r\n    margin-top: 1rem;\r\n}\r\n\r\n@media only screen and (max-width: 768px) {\r\n    nav {\r\n        margin-top: env(safe-area-inset-top);\r\n    }\r\n\r\n    .party-list {\r\n        margin-top: env(safe-area-inset-top);\r\n    }\r\n\r\n    .modal {\r\n        padding-top: env(safe-area-inset-top);\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .playground {\r\n        padding-top: env(safe-area-inset-top);\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n}\r\n\r\n/* Touch Keypad */\r\n\r\n.touch-keypad {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    z-index: 2;\r\n    background: rgba(255, 255, 255, 0.4);\r\n    padding-bottom: env(safe-area-inset-bottom);\r\n}\r\n\r\n.touch-keypad .btn-group-vertical {\r\n    width: 100%;\r\n}\r\n\r\n.touch-keypad .numeric-keypad {\r\n    width: 75%;\r\n}\r\n\r\n.touch-keypad-key {\r\n    min-height: 58px;\r\n}",""]),e.exports=t},101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),i=a.n(l),o=a(23),s=a.n(o),c=a(108),u=a(103),m=a(50),y=a(110),d=a(109);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h=function(e){var t,a=p(r.a.useState(!1),2),n=a[0],l=a[1],i=[];for(t=e.min;t<=e.max;t++)i.push(r.a.createElement("option",{key:t},t));n||(n=e.min);var o=[];for(t=1;t<=n;t++)o.push(r.a.createElement(u.a,{className:"mb-3",key:t},r.a.createElement(u.a.Prepend,null,r.a.createElement(u.a.Text,{id:"player-number-"+t},"Player ",t)),r.a.createElement(m.a,{placeholder:"Player "+t,"aria-label":"Nickname","aria-describedby":"player-number-"+t,id:"player-nick-"+t})));return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Setup Players")),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"This game requires at least ",e.min," player(s) and at maximum ",e.max," player(s). Please enter the names for the players below:"),r.a.createElement(d.a.Group,null,r.a.createElement(d.a.Label,null,"Players:"),r.a.createElement(d.a.Control,{as:"select",id:"localPlayersSelect",onChange:function(){var e=document.getElementById("localPlayersSelect").value;l(e)}},i)),o,r.a.createElement(y.a,{variant:"success",block:!0,onClick:function(){var t,a,r=[];for(t=1;t<=n;t++)""===(a=document.getElementById("player-nick-"+t).value)&&(a="Player "+t),r.push(a);e.onComplete(r)}},"Continue")),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},f=function(e){return r.a.createElement(c.a,{show:e.show,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Pass to ",e.playerName)),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"It is ",r.a.createElement("b",null,e.playerName),"'s turn! Pass the device and let ",e.playerName,' to press the "Continue" button.'),r.a.createElement(y.a,{variant:"success",block:!0,onClick:e.onContinue},"Continue")),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},b=function(e){return r.a.createElement(c.a,{show:e.show,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Keypad or keyboard?")),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"Please select either to use keypad or keyboard for input:"),r.a.createElement("div",{className:"d-flex"},r.a.createElement(y.a,{block:!0},r.a.createElement("i",{className:"fas fa-keyboard"}),r.a.createElement("br",null),"Keyboard"),r.a.createElement(y.a,{block:!0},r.a.createElement("i",{className:"fas fa-gamepad"}),r.a.createElement("br",null),"Keypad"))),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},g=a(104);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e,a){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=k(this,w(t).call(this,e))).gameId=a,n.state={turnPlayer:!1,loading:!0,loadingMsg:"Loading playground",keypad:!0},n.props.client.on("party",n.partyEventListener=function(e){"startGame"===e.event?n.startGame():"nextTurn"===e.event&&(n.setState({turnPlayer:e.player}),e.player.id===n.props.client.player.id&&n.myTurn())}),n.props.client.on("game",n.gameEventListener=function(e){n.response(e)}),n}var a,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),a=t,(n=[{key:"bootDone",value:function(){this.props.onBootDone()}},{key:"request",value:function(e){this.props.client.gameRequest(e)}},{key:"response",value:function(e){this.onResponse(e)}},{key:"onResponse",value:function(e){console.warn("No response handler handling responses from server."),console.warn(e)}},{key:"unregisterEventListener",value:function(){this.props.client.off("game",this.gameEventListener),this.props.client.off("party",this.partyEventListener)}},{key:"componentDidMount",value:function(){this.enable()}},{key:"componentWillUnmount",value:function(){this.disable(),this.unregisterEventListener()}},{key:"isSetupComplete",value:function(){return!0}},{key:"setupLocalPlayers",value:function(e,t){this.setState({loadingMsg:"Setting up local players",minPlayers:e,maxPlayers:t,setupLocalPlayers:!0})}},{key:"getTurnPlayer",value:function(){return this.state.turnPlayer}},{key:"isMyTurn",value:function(){return this.state.turnPlayer&&this.props.client.player.id===this.state.turnPlayer.id}},{key:"myTurn",value:function(){}},{key:"startGame",value:function(){}},{key:"leave",value:function(){this.disable(),this.props.onDisable(),alert("TODO: Leave"),window.location.reload()}},{key:"endGame",value:function(){this.disable(),this.props.onDisable()}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"renderPlayground",value:function(){}},{key:"render",value:function(){var e,t=this,a=this.props.party.players,n=[];for(e=0;e<a.length;e++)n.push(r.a.createElement("div",{key:a[e].id},r.a.createElement("span",{className:this.props.client.player.id===a[e].id?"font-weight-bold":""},this.state.turnPlayer&&this.state.turnPlayer.id===a[e].id?"âž¡ï¸ ":"",a[e].name),r.a.createElement("br",null)));return r.a.createElement("div",{className:"container-fluid playground"},this.state.loading&&r.a.createElement("div",{className:"loading d-flex align-items-center justify-content-center"},r.a.createElement("center",null,r.a.createElement(g.a,{animation:"border"}),r.a.createElement("br",null),r.a.createElement("span",null,this.state.loadingMsg))),this.isSetupComplete()&&this.renderPlayground(),this.state.selectKeypadKeyboard&&r.a.createElement(b,{show:!0}),this.state.setupLocalPlayers&&r.a.createElement(h,{min:this.state.minPlayers,max:this.state.maxPlayers,show:this.state.setupLocalPlayers,onComplete:function(e){console.log(e),t.players=e,t.setState({setupLocalPlayers:!1,loadingMsg:"Loading playground"}),t.enable()}}),this.state.waitPlayer&&r.a.createElement(f,{show:this.state.waitPlayer,playerName:this.state.playerName,onContinue:function(){t.setState({waitPlayer:!1}),t.nextTurn()}.bind(this)}),n&&r.a.createElement("div",{className:"party-list"},r.a.createElement("h4",null,"Party"),n))}}])&&E(a.prototype,n),l&&E(a,l),t}(r.a.Component),I=a(105),x=a(106),N=function(e){var t,a,n,l,i=[],o=[[1,2,3],[4,5,6],[7,8,9]];for(a=0;a<o.length;a++){for(t=[],n=0;n<o[a].length;n++)l=!(!e.enabled||0===e.enabled.length)&&e.enabled.includes(o[a][n]),t.push(r.a.createElement(y.a,{variant:l?"outline-secondary":"secondary",className:"py-3 touch-keypad-key touch-keypad-value",key:a+"-"+n,onClick:e.onNumberClick,disabled:!l},o[a][n]));i.push(r.a.createElement(I.a,{key:a},t))}return r.a.createElement(x.a,{fluid:!0,className:"touch-keypad row",style:{display:e.show?"":"none"}},r.a.createElement(I.a,{vertical:!0},i,r.a.createElement(I.a,null,r.a.createElement(y.a,{variant:"primary",className:"py-3 touch-keypad-key touch-keypad-function touch-keypad-function-done",disabled:!e.doneEnabled,onClick:e.onDoneClick},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement(y.a,{variant:e.enabled&&e.enabled.includes(0)?"outline-secondary":"secondary",className:"py-3 touch-keypad-key touch-keypad-value",onClick:e.onNumberClick,disabled:!(e.enabled&&e.enabled.includes(0))},"0"),r.a.createElement(y.a,{variant:"warning",className:"py-3 touch-keypad-key touch-keypad-function touch-keypad-function-backspace",disabled:!e.backspaceEnabled,onClick:e.onBackspaceClick},r.a.createElement("i",{className:"fas fa-backspace"})))))};a(89);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function M(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j={guessnum:{instance:function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=R(t).call(this,e,"guessnum"))||"object"!==C(r)&&"function"!=typeof r?T(n):r).maximum=100,a.randCount=0,a.guess=a.guess.bind(T(a)),a}var a,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,e),a=t,(n=[{key:"getMinimumPlayers",value:function(){return 1}},{key:"getMaximumPlayers",value:function(){return 4}},{key:"enable",value:function(){var e;this.setState((L(e={loading:!1,homeScreen:!1,gameScreen:!1,keypadDisplay:!1,funcKeyEnable:!1,keypad:!0,text:0,numberMin:1,numberMax:this.maximum,enabledKeys:[]},"numberMin",-1),L(e,"numberMax",-1),e)),this.bootDone()}},{key:"disable",value:function(){clearInterval(this.interval),document.getElementsByTagName("body")[0].classList.remove("guessnum-correct"),clearTimeout(this.timeout)}},{key:"onResponse",value:function(e){if(console.log("RESPONSE"),console.log(e),"numberMinMax"===e.event)this.setState({numberMin:e.min,numberMax:e.max});else if("newGuess"===e.event){"?"===this.state.text&&this.setState({text:0});var t={numberMin:e.min,numberMax:e.max,lastGuess:e.number,success:e.success};this.state.countDone?(this.setState(t),this.countUpDownTo(e.number)):this.awaitNumbers.push(t)}}},{key:"startGame",value:function(){clearTimeout(this.timeout),this.setState({homeScreen:!1,gameScreen:!0,countDone:!1}),this.awaitNumbers=[],this.disableInput(),this.fakeRandom()}},{key:"fakeRandom",value:function(){var e=Math.floor(Math.random()*this.maximum);this.setState({text:e}),this.randCount++,this.randCount<50||-1===this.state.numberMin||-1===this.state.numberMax?this.timeout=setTimeout(function(){this.fakeRandom()}.bind(this),25):(this.randCount=0,this.setState({text:"?",countDone:!0}),this.isMyTurn()&&this.enableInput())}},{key:"countUpDownTo",value:function(e){var t=this;this.setState({countDone:!1});var a=this.state.text;if(e>a)this.setState({text:a+1}),this.timeout=setTimeout(function(){this.countUpDownTo(e)}.bind(this),750/(e-a));else if(e<a)this.setState({text:a-1}),this.timeout=setTimeout(function(){this.countUpDownTo(e)}.bind(this),750/(a-e));else{if(this.state.success)return this.setState({gameScreen:!1,resultScreen:!0}),this.interval=setInterval((function(){var e=document.getElementsByTagName("body")[0].classList;e.contains("guessnum-correct")?e.remove("guessnum-correct"):e.add("guessnum-correct")}),1e3),void(this.timeout=setTimeout((function(){t.endGame()}),1e4));if(this.awaitNumbers.length>0){var n=this.awaitNumbers.shift();this.setState(n),this.countUpDownTo(n.lastGuess)}else this.setState({countDone:!0}),this.isMyTurn()&&this.enableInput()}}},{key:"enableInput",value:function(){this.state.keypad||(document.getElementById("guess-number-field").disabled=!1,document.getElementById("guess-number-field").focus()),document.getElementById("guess-btn").disabled=!1,this.setState({keypadDisplay:this.state.keypad,funcKeyEnable:!0,enabledKeys:[1,2,3,4,5,6,7,8,9,0]})}},{key:"disableInput",value:function(){document.getElementById("guess-number-field").disabled=!0,document.getElementById("guess-btn").disabled=!0,this.setState({keypadDisplay:!1,funcKeyEnable:!1,enabledKeys:[]})}},{key:"myTurn",value:function(){this.state.countDone&&this.enableInput()}},{key:"guess",value:function(){this.disableInput();var e=document.getElementById("guess-number-field").value;if(""===e)return this.enableInput(),this.setState({error:"It cannot be blank."}),void(document.getElementById("guess-btn").disabled=!1);var t=parseInt(e);return isNaN(t)?(this.enableInput(),void this.setState({error:"It must be an integer."})):t>=this.state.numberMax?(this.enableInput(),void this.setState({error:"It cannot be larger than the maximum value."})):t<=this.state.numberMin?(this.enableInput(),void this.setState({error:"It cannot be less than the minimum value."})):(this.setState({error:""}),this.request({event:"guess",number:t}),void(document.getElementById("guess-number-field").value=""))}},{key:"renderPlayground",value:function(){var e=this;return r.a.createElement("div",null,this.state.gameScreen&&r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center guessnum-home-screen"},r.a.createElement("p",{className:"display-2"},this.state.text),r.a.createElement("p",{className:"display-4"},this.state.numberMin," - ",this.state.numberMax),r.a.createElement("br",null),r.a.createElement(u.a,{className:"ml-8 mr-8"},r.a.createElement(m.a,{id:"guess-number-field",type:"number",placeholder:"Your Guess","aria-label":"Your Guess",onKeyPress:function(t){"Enter"===t.key&&e.guess()},disabled:!0}),r.a.createElement(u.a.Append,null,r.a.createElement(y.a,{variant:"success",id:"guess-btn",onClick:this.guess},"Guess"))),r.a.createElement("br",null),r.a.createElement("p",{className:"text-danger"},this.state.error)),this.state.resultScreen&&r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center guessnum-home-screen"},r.a.createElement("p",{className:"display-2"},this.state.text),r.a.createElement("p",{className:"display-4 text-success"},"Bingo!"),this.props.party.players.length>1&&r.a.createElement("p",null,"Winner: ",r.a.createElement("b",null,this.getTurnPlayer().name)),r.a.createElement("br",null),r.a.createElement("p",null,"You will be redirected back to the party dialog very soon.")),r.a.createElement(N,{show:this.state.keypadDisplay,enabled:this.state.enabledKeys,doneEnabled:this.state.funcKeyEnable,backspaceEnabled:this.state.funcKeyEnable,onNumberClick:function(e){e.preventDefault(),console.log("Click num");var t=e.target.innerHTML;document.getElementById("guess-number-field").value=document.getElementById("guess-number-field").value+t},onDoneClick:function(t){t.preventDefault(),console.log("Click done"),e.guess()},onBackspaceClick:function(e){e.preventDefault(),console.log("Click bs"),document.getElementById("guess-number-field").value=document.getElementById("guess-number-field").value.slice(0,-1)}}))}}])&&M(a.prototype,n),l&&M(a,l),t}(P),icon:"fas fa-list-ol",name:"Guess Number",minPlayers:1,maxPlayers:4}};function G(e,t,a){return r.a.createElement(y.a,{key:e,variant:"secondary",disabled:t,onClick:a},r.a.createElement("i",{className:j[e].icon+" fa-2x"}),r.a.createElement("br",null),j[e].name)}var O=function(e){return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"PlayÂ³")),r.a.createElement(c.a.Body,null,r.a.createElement("label",null,"Nickname:"),r.a.createElement(u.a,{className:"mb-3"},r.a.createElement(m.a,{id:"nickname-field",placeholder:"Nickname","aria-label":"Nickname","aria-describedby":"party-code-field-addon"})),r.a.createElement("hr",null),r.a.createElement("label",null,"Join a party:"),r.a.createElement(u.a,{className:"mb-3"},r.a.createElement(m.a,{id:"party-code-field",placeholder:"Party Code","aria-label":"Party Code","aria-describedby":"party-code-field-addon"}),r.a.createElement(u.a.Append,null,r.a.createElement(y.a,{variant:"success",onClick:e.joinGame},"Join"))),r.a.createElement("div",{className:"d-flex"},r.a.createElement(y.a,{variant:"success",className:"btn-block"},"Quick join"),r.a.createElement(y.a,{variant:"secondary",className:"ml-2"},r.a.createElement("i",{className:"fas fa-cog"}))),r.a.createElement("hr",null),r.a.createElement("p",null,"Start a new game:"),r.a.createElement("div",{className:"hori-scroll"},function(e){var t=[];for(var a in j)t.push(G(a,!1,(function(){e(a)})));return t}(e.startGame)),r.a.createElement(d.a.Check,{type:"switch",id:"local-mode-switch",label:"Start game locally",checked:!1,disabled:!0})),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},D=a(107);function _(e,t){var a=0,n=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;s.online&&!t[s.id]&&a++}}catch(e){r=!0,l=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}var A=function(e){var t,a,n=e.party.admin,l=e.party.players,i=[];for(t=0;t<l.length;t++)a=l[t].id,i.push(r.a.createElement("tr",{key:a},r.a.createElement("td",null,t+1),r.a.createElement("td",null,r.a.createElement("span",{className:l[t].online?"":"text-secondary"},a===n.id?"ðŸ‘‘ ":"",l[t].name," ",l[t].aiMode?"(AI)":""," ",e.gameInitReadyList[a]||!l[t].online?e.playerReadyList[a]?"âœ”ï¸":"":r.a.createElement(g.a,{animation:"border",role:"status",size:"sm"}))),r.a.createElement("td",null)));var o,s,d,p,h,f=(o=e.party.gameId,j[o].minPlayers),b=function(e){return j[e].maxPlayers}(e.party.gameId);if(_(l,e.gameInitReadyList)>0)s="secondary",d=!0,p="Awaiting all players to boot game";else if(e.playerReadyList[e.player.id])if(e.player.id===n.id){var v=_(l,e.playerReadyList);v>0?(s="secondary",d=!0,p=l.length-v+"/"+l.length+" players ready"):l.length<f?(s="secondary",d=!0,p="Not enough players"):(s="success",d=!1,p="Start Game",h=function(){e.client.startGame()})}else s="warning",d=!1,p="Unready",h=function(){e.client.playerUnready()};else s="success",d=!1,p="Ready",h=function(){e.client.playerReady()};return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Party")),r.a.createElement(c.a.Body,null,r.a.createElement("div",{className:"d-flex"},G(e.party.gameId,!e.playgroundBootDone||e.player.id!==n.id,(function(){})),r.a.createElement("div",{className:"container"},r.a.createElement("span",null,"Party Code:"),r.a.createElement("h2",null,e.party.partyId),r.a.createElement(u.a,{className:"mb-2"},r.a.createElement(m.a,{id:"share-link",value:"https://mob41.github.io/playplayplay/#"+e.party.partyId,readOnly:!0}),r.a.createElement(u.a.Append,null,r.a.createElement(y.a,{variant:"primary",onClick:function(){var e=document.getElementById("share-link").value;navigator.share?navigator.share({url:e}):prompt("Your browser does not support sharing. Please copy the URL below and share it to your friends.",e)}},r.a.createElement("i",{className:"fas fa-share-square"})," Share"))),r.a.createElement("p",{className:"mb-2"},e.playgroundBootDone?"The game requires at least "+f+" player(s) and at maximum "+b+" player(s)."+(e.player.id===n.id?" Click on the icon to change game.":""):"Loading..."," "),r.a.createElement(y.a,{variant:s,onClick:h,block:!0,disabled:d},p))),r.a.createElement("hr",null),r.a.createElement(D.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nickname"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i)),e.player.id===n.id&&r.a.createElement(y.a,{variant:"success",onClick:function(){var t=prompt("AI Player Name:");e.client.addAi(t)},block:!0},r.a.createElement("i",{className:"fas fa-plus"})," Add computer (AI)")),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))};a(91),a(93),a(96),a(97),a(98),a(99);function K(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endPoint=t,this.player=!1,this.party=!1,this.token=!1,this.gameInitReadyList={},this.playerReadyList={},this.listeners={},this.initializeSocket()}var t,a,n;return t=e,(a=[{key:"initializeSocket",value:function(){var e=this;this.socket=s()(this.endPoint),this.socket.on("party",(function(t){console.log(t),"partyJoined"===t.event?(e.player=t.player,e.token=t.token,e.party=t.party):"gameInitReady"===t.event?e.gameInitReadyList=t.gameInitReady:"playerReady"===t.event?e.playerReadyList=t.playerReady:e.party&&"playerListChanged"===t.event?e.party.players=t.players:e.party&&"gameChanged"===t.event?e.party.gameId=t.gameId:e.party&&"playerChanged"===t.event?console.warn("Handle player changed"):e.party&&"adminChanged"===t.event&&(e.party.admin=t.admin),e.dispatch("party",t)})),this.socket.on("game",(function(t){e.dispatch("game",t)})),this.socket.on("chat",(function(t){e.dispatch("chat",t)}))}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var a=this.listeners[e],n=a.indexOf(t);return-1!==n&&(a.splice(n,1),!0)}},{key:"dispatch",value:function(e,t){if(this.listeners[e]){var a=this.listeners[e],n=!0,r=!1,l=void 0;try{for(var i,o=a[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)(0,i.value)(t,this)}catch(e){r=!0,l=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}}}},{key:"socketEmit",value:function(e,t){this.socket.emit(e,t)}},{key:"addAi",value:function(e){this.socketEmit("party",{event:"addAi",token:this.token,playerId:this.player.id,partyId:this.party.partyId,playerName:e})}},{key:"gameRequest",value:function(e){this.socketEmit("game",{token:this.token,partyId:this.party.partyId,playerId:this.player.id,request:e})}},{key:"createParty",value:function(e,t){this.socketEmit("party",{event:"create",gameId:t,playerName:e})}},{key:"joinParty",value:function(e,t){this.socketEmit("party",{event:"join",partyId:t,playerName:e})}},{key:"gameInitReady",value:function(){this.socketEmit("party",{event:"gameInitReady",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}},{key:"playerReady",value:function(){this.socketEmit("party",{event:"playerReady",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}},{key:"playerUnready",value:function(){this.socketEmit("party",{event:"playerUnready",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}},{key:"startGame",value:function(){this.socketEmit("party",{event:"startGame",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}}])&&K(t.prototype,a),n&&K(t,n),e}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=J(t).call(this,e))||"object"!==H(r)&&"function"!=typeof r?F(n):r).client=new U("https://0.playplayplay.ml"),a.state={gameModalShow:!0,partyModalShow:!1,playground:!1,gameInitReadyList:!1,playerReadyList:!1},a.startGame=a.startGame.bind(F(a)),a.joinGame=a.joinGame.bind(F(a)),a.listen(),a}var a,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),a=t,(n=[{key:"listen",value:function(){var e=this;this.client.on("party",(function(t){e.setState({party:e.client.party}),"gameInitReady"===t.event&&e.setState({gameInitReadyList:e.client.gameInitReadyList}),"playerReady"===t.event&&e.setState({playerReadyList:e.client.playerReadyList}),"startGame"===t.event&&e.setState({gameModalShow:!1,partyModalShow:!1}),e.client.party&&e.client.party.gameId&&("partyJoined"===t.event||"gameChanged"===t.event)&&(e.state.playground?e.setState({awaitChangeGame:!0}):(e.setState({gameModalShow:!1,partyModalShow:!0}),e.updatePlayground()))}))}},{key:"updatePlayground",value:function(){var e,t=this;this.setState({playgroundBootDone:!1,playground:r.a.createElement((e=this.client.party.gameId,j[e].instance),{party:this.state.party,client:this.client,onBootDone:function(){console.log("Bootdone"),t.setState({playgroundBootDone:!0}),t.client.gameInitReady()},onDisable:function(){t.setState({gameModalShow:!1,partyModalShow:!0,playground:!1,playgroundBootDone:!1}),t.state.awaitChangeGame&&(t.setState({awaitChangeGame:!1}),t.updatePlayground())}})})}},{key:"joinGame",value:function(){var e=document.getElementById("nickname-field").value,t=document.getElementById("party-code-field").value;e&&""!==e?t&&""!==t&&6===t.length?(this.client.joinParty(e,t),this.setState({gameModalShow:!1})):alert("Party Code Invalid."):alert("Please fill in your nickname.")}},{key:"startGame",value:function(e){if(function(e){return void 0!==j[e]}(e)){document.getElementById("local-mode-switch").checked;var t=document.getElementById("nickname-field").value;t&&""!==t?(this.client.createParty(t,e),this.setState({gameModalShow:!1})):alert("Please fill in your nickname.")}else alert("The selected game is currently unavailable.")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.playground,r.a.createElement(O,{show:this.state.gameModalShow,onHide:function(){return e.setState({gameModalShow:!1})},startGame:this.startGame,joinGame:this.joinGame}),this.state.partyModalShow&&r.a.createElement(A,{show:this.state.partyModalShow,onHide:function(){return e.setState({partyModalShow:!1})},client:this.client,playerReadyList:this.state.playerReadyList,gameInitReadyList:this.state.gameInitReadyList,party:this.state.party,player:this.client.player,playgroundBootDone:this.state.playgroundBootDone}))}}])&&q(a.prototype,n),l&&q(a,l),t}(r.a.Component);i.a.render(r.a.createElement(Y,null),document.getElementById("root"))},82:function(e,t){},89:function(e,t,a){var n=a(32),r=a(90);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var l={insert:"head",singleton:!1},i=(n(e.i,r,l),r.locals?r.locals:{});e.exports=i},90:function(e,t,a){(t=a(33)(!1)).push([e.i,".guessnum-home-screen {\r\n    height: 90vh;\r\n}\r\n\r\nbody.guessnum-correct {\r\n    background-color: rgb(166, 255, 168)\r\n}",""]),e.exports=t},99:function(e,t,a){var n=a(32),r=a(100);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var l={insert:"head",singleton:!1},i=(n(e.i,r,l),r.locals?r.locals:{});e.exports=i}},[[101,1,2]]]);
//# sourceMappingURL=app.ce339a2df18d499e17f1.js.map