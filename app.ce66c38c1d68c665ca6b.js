(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t){e.exports={SUIT:["diamonds","clubs","hearts","spades"],RANK:["3","4","5","6","7","8","9","10","jack","queen","king","ace","2"],COMBINATIONS:["pair","threeOfAKind","fiveCardHands"],FIVE_CARD_HANDS:["straight","flush","fullHouse","fourOfAKind","straightFlush"],ALL_COMBINATIONS:["pair","threeOfAKind","straight","flush","fullHouse","fourOfAKind","straightFlush"]}},,,,,,,,,,function(e,t,a){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=a(52),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,s;return t=e,(a=[{key:"findAll",value:function(e){var t={pair:[],threeOfAKind:[],straight:[],flush:[],fullHouse:[],fourOfAKind:[],straightFlush:[]};if(e.length<2)return t;var a=this.deckToCards(e);return t.pair=this.findPair(a),t.threeOfAKind=this.findThreeOfAKind(a),t.straight=this.findStraight(a),t.flush=this.findFlush(a),t.fullHouse=this.findFullHouse(a),t.fourOfAKind=this.findFourOfAKind(a),t.straightFlush=this.findStraightFlush(a),t}},{key:"findPair",value:function(e){return this.byRankSame(e,2)}},{key:"findThreeOfAKind",value:function(e){return this.byRankSame(e,3)}},{key:"findStraight",value:function(e){return this.byRankConsecutive(e,5)}},{key:"findFlush",value:function(e){return this.bySuitSame(e,5)}},{key:"findFullHouse",value:function(e){var t=this;return this.byRankSameWithExternal(e,3,(function(e,a,n){var r,s,i=t.findPair(a);for(s=0;s<i.length;s++)r=(r=n.slice()).concat(i[s]),e.push(r)}))}},{key:"findFourOfAKind",value:function(e){return this.byRankSameWithExternal(e,4,(function(e,t,a){var n,r;for(r=0;r<t.length;r++)(n=a.slice()).push(t[r]),e.push(n)}))}},{key:"byRankSameWithExternal",value:function(e,t,a){var n,r,s,i,o=[],l=this.byRankSame(e,t);for(r=0;r<l.length;r++){for(n=e.slice(),s=0;s<l[r].length;s++)for(i=0;i<n.length;i++)if(n[i].card.equals(l[r][s].card)){n.splice(i,1);break}a(o,n,l[r])}return o}},{key:"findStraightFlush",value:function(e){var t,a,n,r=this.findStraight(e),s=[];for(t=0;t<r.length;t++)for(n=0,a=1;a<r[t].length&&r[t][a].card.suit===r[t][a-1].card.suit;a++)4==++n&&s.push(r[t]);return s}},{key:"byRankSame",value:function(e,t){return this.sameCombinations(e,t,"getRankSize")}},{key:"bySuitSame",value:function(e,t){return this.sameCombinations(e,t,"getSuitSize")}},{key:"sameCombinations",value:function(e,t,a){var n,r,s,i,o,l=[];for(e.sort((function(e,t){var n=e.card[a](),r=t.card[a]();return n<r?-1:n>r?1:0})),n=0;n<e.length-(t-1);n++)for(i=0,r=n+1;r<e.length&&e[r-1].card[a]()===e[r].card[a]();r++)if(++i==t-1){for(o=[],s=n;s<n+t;s++)o.push(e[s]);l.push(o);break}return l}},{key:"byRankConsecutive",value:function(e,t){var a,n,r,s,i,o=[];for(e.sort((function(e,t){var a=e.card.getRankSize(),n=t.card.getRankSize();return a<n?-1:a>n?1:0})),a=0;a<e.length-(t-1);a++)for(s=0,n=a+1;n<e.length&&e[n-1].card.getRankSize()===e[n].card.getRankSize()-1;n++)if(++s==t-1){for(i=[],r=a;r<a+t;r++)i.push(e[r]);o.push(i);break}return o}},{key:"sortByRank",value:function(e){this.sortDeckSuits(e),this.sortDeckRanks(e)}},{key:"sortBySuit",value:function(e){this.sortDeckRanks(e),this.sortDeckSuits(e)}},{key:"sortDeckRanks",value:function(e){e.sort((function(e,t){var a=e.getRankSize(),n=t.getRankSize();return a<n?-1:a>n?1:0}))}},{key:"sortDeckSuits",value:function(e){e.sort((function(e,t){var a=e.getSuitSize(),n=t.getSuitSize();return a<n?-1:a>n?1:0}))}},{key:"deckToCards",value:function(e){var t,a=[];for(t=0;t<e.length;t++)a.push({index:t,card:e[t]});return a}},{key:"cardsToDeck",value:function(e){var t,a=[];for(t=0;t<e.length;t++)a.push(e[t].card);return a}},{key:"jsonToDeck",value:function(e){var t,a=[];for(t=0;t<e.length;t++)a.push(new r(e[t].suit,e[t].rank));return a}},{key:"jsonToCards",value:function(e){var t,a=[];for(t=0;t<e.length;t++)a.push({index:e[t].index,card:new r(e[t].card.suit,e[t].card.rank)});return a}}])&&n(t.prototype,a),s&&n(t,s),e}();e.exports=s},,,,,,,,,,function(e,t,a){var n=a(27),r=a(17),s=a(94);e.exports=function(e){var t,a=new n,i=!1;if(1===e.length)t="single";else{var o,l,c=a.findAll(e);if(t=!1,5===e.length){var u=!1;for(o=r.FIVE_CARD_HANDS.length-1;o>=0;o--)if(c[l=r.FIVE_CARD_HANDS[o]].length>0){i=l,u=!0;break}u&&(t="fiveCardHands")}else 3===e.length?c.threeOfAKind.length>0&&(t="threeOfAKind"):2===e.length&&c.pair.length>0&&(t="pair");if(!t)return!1}return new s(t,e,i)}},,,,,,,,,,,,,,,function(e,t,a){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=a(17),s=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.suit=t,this.rank=a}var t,a,s;return t=e,(a=[{key:"getSuitSize",value:function(){return r.SUIT.indexOf(this.suit)}},{key:"getRankSize",value:function(){return r.RANK.indexOf(this.rank)}},{key:"compare",value:function(e){var t=r.RANK.indexOf(this.rank),a=r.RANK.indexOf(e.rank);if(t<a)return-1;if(t>a)return 1;var n=r.SUIT.indexOf(this.suit),s=r.SUIT.indexOf(e.suit);return n<s?-1:n>s?1:0}},{key:"equals",value:function(e){return this.suit===e.suit&&this.rank===e.rank}}])&&n(t.prototype,a),s&&n(t,s),e}();e.exports=s},function(e,t,a){"use strict";a.r(t),t.default=a.p+"f956b6d85f78462ab4adc75933f408cb.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,function(e,t,a){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=a(17),s=(a(27),function(){function e(t,a,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cards=a,this.combinationName=t,this.fiveCardName=n}var t,a,s;return t=e,(a=[{key:"getRankSize",value:function(){var e,t=0;for(e=0;e<this.cards.length;e++)t+=this.cards[e].getRankSize();return t}},{key:"getSuitSize",value:function(){var e,t=0;for(e=0;e<this.cards.length;e++)t+=this.cards[e].getSuitSize();return t}},{key:"compare",value:function(e){if(this.cards.length!==e.cards.length||this.combinationName!==e.combinationName)throw new Error("The two combinations' length/types are not the same. They cannot be compared.");if("fiveCardHands"===this.combinationName&&5===this.cards.length){var t=r.FIVE_CARD_HANDS.indexOf(this.fiveCardName),a=r.FIVE_CARD_HANDS.indexOf(e.fiveCardName);if(t<a)return-1;if(t>a)return 1}var n=this.getRankSize(),s=e.getRankSize();if(n<s)return-1;if(n>s)return 1;var i=this.getSuitSize(),o=e.getSuitSize();return i<o?-1:i>o?1:0}}])&&n(t.prototype,a),s&&n(t,s),e}());e.exports=s},function(e,t,a){var n=a(24),r=a(96);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(n(e.i,r,s),r.locals?r.locals:{});e.exports=i},function(e,t,a){var n=a(25),r=a(97),s=a(53);t=n(!1);var i=r(s);t.push([e.i,".board {\r\n    position: fixed;\r\n    left: calc(50% - 50em);\r\n    top: calc(50% - 28.125em);\r\n    width: 100em;\r\n    height: 56.25em;\r\n}\r\n\r\n.board .playingcards {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n}\r\n\r\n.board .playingcards .playingcard {\r\n    position: absolute;\r\n    width: 6.25em;\r\n    height: 9.08em;\r\n    top: -4.54em;\r\n    left: -3.125em;\r\n    background-size: cover;\r\n    background-image: url("+i+");\r\n    transition: all 0.5s ease-in-out;\r\n    -webkit-transform-origin: 50% 50%;\r\n    -moz-transform-origin: 50% 50%;\r\n    -o-transform-origin: 50% 50%;\r\n    -ms-transform-origin: 50% 50%;\r\n\ttransform-origin: 50% 50%;\r\n}\r\n\r\n.combination-buttons {\r\n    position: absolute;\r\n    left: -24em;\r\n    top: 6em;\r\n    z-index: 53;\r\n}\r\n\r\n.combination-buttons button {\r\n    padding: .75rem 1.5rem;\r\n    font-size: 1.5rem;\r\n    line-height: 1;\r\n    border-radius: .45rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.turn-buttons {\r\n    position: absolute;\r\n    left: -12em;\r\n    top: 2em;\r\n    z-index: 53;\r\n}\r\n\r\n.turn-buttons button {\r\n    padding: .75rem 1.5rem;\r\n    font-size: 1.5rem;\r\n    line-height: 1;\r\n    border-radius: .45rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.player1 {\r\n    position: absolute;\r\n    left: -31em;\r\n    top: -5.5em;\r\n    font-size: 1.5rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.player2 {\r\n    position: absolute;\r\n    left: 3em;\r\n    top: -13em;\r\n    font-size: 1.5rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.player3 {\r\n    position: absolute;\r\n    left: 27em;\r\n    top: -5.5em;\r\n    font-size: 1.5rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.waiting-players {\r\n    position: absolute;\r\n    left: -4.5em;\r\n    top: -1em;\r\n    font-size: 2.5rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n#player-timer {\r\n    position: absolute;\r\n    left: -0.25em;\r\n    top: 0.5em;\r\n    padding: 0.25em;\r\n    font-size: 3rem;\r\n    z-index: 54;\r\n    white-space: nowrap;\r\n    background-color: rgba(255, 255, 255, 0.7);\r\n    transition: all 0.5s ease-in-out;\r\n    transform: translate(-0.5em, -2em)\r\n}\r\n\r\n.left-player-passed {\r\n    position: absolute;\r\n    left: -12em;\r\n    top: -1em;\r\n    font-size: 3rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.right-player-passed {\r\n    position: absolute;\r\n    left: 9em;\r\n    top: -1em;\r\n    font-size: 3rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.top-player-passed {\r\n    position: absolute;\r\n    left: -1.5em;\r\n    top: -3em;\r\n    font-size: 3rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.bottom-player-passed {\r\n    position: absolute;\r\n    left: -1.5em;\r\n    top: 0.5em;\r\n    font-size: 3rem;\r\n    white-space: nowrap;\r\n}",""]),e.exports=t},,function(e,t,a){var n={"./10_of_clubs.svg":99,"./10_of_diamonds.svg":100,"./10_of_hearts.svg":101,"./10_of_spades.svg":102,"./2_of_clubs.svg":103,"./2_of_diamonds.svg":104,"./2_of_hearts.svg":105,"./2_of_spades.svg":106,"./3_of_clubs.svg":107,"./3_of_diamonds.svg":108,"./3_of_hearts.svg":109,"./3_of_spades.svg":110,"./4_of_clubs.svg":111,"./4_of_diamonds.svg":112,"./4_of_hearts.svg":113,"./4_of_spades.svg":114,"./5_of_clubs.svg":115,"./5_of_diamonds.svg":116,"./5_of_hearts.svg":117,"./5_of_spades.svg":118,"./6_of_clubs.svg":119,"./6_of_diamonds.svg":120,"./6_of_hearts.svg":121,"./6_of_spades.svg":122,"./7_of_clubs.svg":123,"./7_of_diamonds.svg":124,"./7_of_hearts.svg":125,"./7_of_spades.svg":126,"./8_of_clubs.svg":127,"./8_of_diamonds.svg":128,"./8_of_hearts.svg":129,"./8_of_spades.svg":130,"./9_of_clubs.svg":131,"./9_of_diamonds.svg":132,"./9_of_hearts.svg":133,"./9_of_spades.svg":134,"./ace_of_clubs.svg":135,"./ace_of_diamonds.svg":136,"./ace_of_hearts.svg":137,"./ace_of_spades.svg":138,"./ace_of_spades2.svg":139,"./back.svg":53,"./black_joker.svg":140,"./jack_of_clubs.svg":141,"./jack_of_clubs3.svg":142,"./jack_of_diamonds.svg":143,"./jack_of_diamonds3.svg":144,"./jack_of_hearts.svg":145,"./jack_of_hearts3.svg":146,"./jack_of_spades.svg":147,"./jack_of_spades3.svg":148,"./king_of_clubs.svg":149,"./king_of_clubs3.svg":150,"./king_of_diamonds.svg":151,"./king_of_diamonds3.svg":152,"./king_of_hearts.svg":153,"./king_of_hearts3.svg":154,"./king_of_spades.svg":155,"./king_of_spades3.svg":156,"./queen_of_clubs.svg":157,"./queen_of_clubs3.svg":158,"./queen_of_diamonds.svg":159,"./queen_of_diamonds3.svg":160,"./queen_of_hearts.svg":161,"./queen_of_hearts3.svg":162,"./queen_of_spades.svg":163,"./queen_of_spades3.svg":164,"./red_joker.svg":165};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=98},function(e,t,a){"use strict";a.r(t),t.default=a.p+"669c20fcb83ddabc3bda3e8162af6569.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"dbb3850c770e43af9bc90d0cce873dbb.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"c63394108a986db8e02c9d2226007af8.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"3963b09b32d71eaf3904864d36a7e9f6.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"94b4a5b0b35e4db0d7587815dcdcdb91.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"eaef1133f7cafc9f07a5dd8002d58f67.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"1b2188a05b3339ac8f1c043c803d5d9a.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"b821dcd9a79616c0f95f935af2d623eb.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"4281c3d1982ca4e277ae289a56f7fda1.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"b9d5e12f600e3e441e26a2f460ace236.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"dfb7b9c5da090e753693a0648e230423.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"471f3e5977ae8e34350702a5354b4dd3.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"037d8c2373b81694a9519c060d0951a3.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"72d20001e3f712d041f5c98c0e36d73d.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"6369d1c9530222380e3755d3dff0cd92.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"e1ae315267bebee9e8b70bb2e1ec27d8.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"12408f645f540e569f639eec07b24140.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"eda011102b5e3ed00502425e250a6e14.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"3a5059d0b4687cf3b0442ace92e47e88.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"8f300fb5cd9845334b705d3dbdb9e86a.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"3708c7e5593573328d639c71e58d7090.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"a8aabd2da27a433782343dbbe7f4e0f4.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"13bea5a1b85d4f6fcff7f22da3fe9c7f.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"dd29ca5aa8ac92ff0c506fc350b52f57.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"768d16acc808234b01ab27b85e8129c2.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"d00ed5bcb5b70ef0aee9566bedea6077.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"51aa35bf8fa6e3aa60e8215d642e4f83.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"00b5eed0e617c1754f2a002d8d000504.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"55a0952df2d2ac118fe526cc4cd234e4.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"5f81e3253ead056953d4eb2006a1543f.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"f63258336d8695aaade082ed26d0b17c.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"4ff481d5b35c16c2777c8338cbbe4757.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"cf6317bc33f1c6db87c7f41b05e0276a.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"a578d7b2d3c0912a5296ec854fdec2b1.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"71f253368c37179079e9ebfa66604bb3.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"46304258451a3d2c69fdfaa1ac51d00e.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"9ee19a01f3b58dbf7d41bdc0eedf853b.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"dd4d7167babf09261b89c5b882dce59f.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"474283132c4129834526713217a2f99c.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"b9f81c2d91ad1ec3e349b5cc012ea516.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"223cd5d84ac18a7ede8a88e69be01b3b.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"7ce690e9a5d9fd4b323dcf7d6b988d3c.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"56c4541c77e2d646ff22ceaf382a6e3e.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"b02355d1d506cee70ce1caea2e54ee4c.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"c38f31dcf6ccf50fffd429a3baa53c30.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"856386ef24764a8b1b200611f9468ece.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"02d4f21be9842c36046fc2a4028582b6.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"252a0b897b0e463e06692d17b233782b.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"a1f0114e1433a3a96ffa10c622d1b2a5.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"91a4ffb4bd6e8bde6a10ca9973175cbd.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"ff456a8035cfd447c7e461623c53789b.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"e94802c7d82c79f1c96937e522e17f27.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"658998b13b66f8ea8c419eb4a2720ebd.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"9f9f91e23aa62ef1e9e68f22a70e683c.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"09112d05f5b3dfbaffae8d0775e5a012.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"0f60db3e415d45116eed712a4c8e3082.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"fe66fe030637c0b3bbef055a2494c064.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"68cb8d2e2b84ce75a5ccb773db45a4cc.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"43122a93411b55fddce09a2562828e2c.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"fc3e13abd4977e8ab014cfcddf5709c2.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"cdc326c08c278e49d397fa439845ac96.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"b8357abbdcf523d8c3adf4f6f43602db.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"c439a88183651c5b9a63d9807dd7ca7d.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"7a78a2cb4befd4707c0824b9e6f32ece.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"58d77ea50fe2f88b1fbef0c67bd533ed.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"410715a5861724c910fd56336e5bef76.svg"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"1ba0f353a1a7c70c82de47cd244654ad.svg"},function(e,t,a){var n=a(24),r=a(167);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(n(e.i,r,s),r.locals?r.locals:{});e.exports=i},function(e,t,a){(t=a(25)(!1)).push([e.i,".guessnum-home-screen {\r\n    height: 90vh;\r\n}\r\n\r\nbody.guessnum-correct {\r\n    background-color: rgb(166, 255, 168)\r\n}",""]),e.exports=t},,,,,,,,,function(e,t,a){var n=a(24),r=a(177);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},i=(n(e.i,r,s),r.locals?r.locals:{});e.exports=i},function(e,t,a){(t=a(25)(!1)).push([e.i,"body {\r\n    width: 100%;\r\n    height: 100vh;\r\n    position: absolute;\r\n    background-color: rgb(229, 229, 229)\r\n}\r\n\r\n.chat-btn {\r\n    margin: 4px;\r\n    position: fixed;\r\n    bottom: 4px;\r\n    right: 4px;\r\n    opacity: 0.4;\r\n}\r\n\r\n.chat-btn:hover {\r\n    opacity: 1;\r\n}\r\n\r\n.ai-mode-btn {\r\n    margin: 4px;\r\n    position: fixed;\r\n    bottom: 4px;\r\n    left: 4px;\r\n    opacity: 0.4;\r\n}\r\n\r\n.ai-mode-btn:hover {\r\n    opacity: 1;\r\n}\r\n\r\n.party-list {\r\n    margin: 4px;\r\n    position: fixed;\r\n    top: 4px;\r\n    right: 4px;\r\n    text-align: right;\r\n    opacity: 0.4;\r\n}\r\n\r\n.party-list:hover {\r\n    opacity: 1;\r\n}\r\n\r\n#party-modal-chat {\r\n    text-align: left;\r\n}\r\n\r\n#chat-list {\r\n    margin: 4px;\r\n    position: fixed;\r\n    top: 4px;\r\n    left: 4px;\r\n    text-align: left;\r\n    white-space: nowrap;\r\n}\r\n\r\n.chat-message {\r\n    opacity: 1;\r\n    animation-name: chat-message-display;\r\n    animation-delay: 5s;\r\n    animation-duration: 5s;\r\n    animation-fill-mode: forwards;\r\n    margin-bottom: 0px;\r\n}\r\n\r\n.chat-message:hover {\r\n    animation-name: unset;\r\n}\r\n\r\n@keyframes chat-message-display {\r\n    from { opacity: 1 }\r\n    to {\r\n        opacity: 0;\r\n        visibility: hidden;\r\n        height: 0;\r\n    }\r\n}\r\n\r\n.hori-scroll {\r\n    margin: 4px;\r\n    overflow: auto;\r\n    white-space: nowrap;\r\n}\r\n\r\n.hori-scroll button {\r\n    margin: 4px;\r\n}\r\n\r\n.playground {\r\n    padding: 8px;\r\n}\r\n\r\n.loading {\r\n    margin-top: 1rem;\r\n}\r\n\r\n@media only screen and (max-width: 768px) {\r\n    .party-list {\r\n        margin-top: env(safe-area-inset-top);\r\n    }\r\n\r\n    .modal {\r\n        padding-top: env(safe-area-inset-top);\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .playground {\r\n        padding-top: env(safe-area-inset-top);\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n}\r\n\r\n/* Touch Keypad */\r\n\r\n.touch-keypad {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    z-index: 2;\r\n    background: rgba(255, 255, 255, 0.4);\r\n    padding-bottom: env(safe-area-inset-bottom);\r\n}\r\n\r\n.touch-keypad .btn-group-vertical {\r\n    width: 100%;\r\n}\r\n\r\n.touch-keypad .numeric-keypad {\r\n    width: 75%;\r\n}\r\n\r\n.touch-keypad-key {\r\n    min-height: 58px;\r\n}",""]),e.exports=t},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(11),i=a.n(s),o=a(26),l=a.n(o),c=a(185),u=a(180),d=a(55),f=a(187),m=a(186);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=function(e){var t,a=y(r.a.useState(!1),2),n=a[0],s=a[1],i=[];for(t=e.min;t<=e.max;t++)i.push(r.a.createElement("option",{key:t},t));n||(n=e.min);var o=[];for(t=1;t<=n;t++)o.push(r.a.createElement(u.a,{className:"mb-3",key:t},r.a.createElement(u.a.Prepend,null,r.a.createElement(u.a.Text,{id:"player-number-"+t},"Player ",t)),r.a.createElement(d.a,{placeholder:"Player "+t,"aria-label":"Nickname","aria-describedby":"player-number-"+t,id:"player-nick-"+t})));return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Setup Players")),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"This game requires at least ",e.min," player(s) and at maximum ",e.max," player(s). Please enter the names for the players below:"),r.a.createElement(m.a.Group,null,r.a.createElement(m.a.Label,null,"Players:"),r.a.createElement(m.a.Control,{as:"select",id:"localPlayersSelect",onChange:function(){var e=document.getElementById("localPlayersSelect").value;s(e)}},i)),o,r.a.createElement(f.a,{variant:"success",block:!0,onClick:function(){var t,a,r=[];for(t=1;t<=n;t++)""===(a=document.getElementById("player-nick-"+t).value)&&(a="Player "+t),r.push(a);e.onComplete(r)}},"Continue")),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},h=function(e){return r.a.createElement(c.a,{show:e.show,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Pass to ",e.playerName)),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"It is ",r.a.createElement("b",null,e.playerName),"'s turn! Pass the device and let ",e.playerName,' to press the "Continue" button.'),r.a.createElement(f.a,{variant:"success",block:!0,onClick:e.onContinue},"Continue")),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},g=function(e){return r.a.createElement(c.a,{show:e.show,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Keypad or keyboard?")),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"Please select either to use keypad or keyboard for input:"),r.a.createElement("div",{className:"d-flex"},r.a.createElement(f.a,{block:!0},r.a.createElement("i",{className:"fas fa-keyboard"}),r.a.createElement("br",null),"Keyboard"),r.a.createElement(f.a,{block:!0},r.a.createElement("i",{className:"fas fa-gamepad"}),r.a.createElement("br",null),"Keypad"))),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},v=a(181);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e,a){var n,r,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,s=E(t).call(this,e),(n=!s||"object"!==b(s)&&"function"!=typeof s?w(r):s).gameId=a,n.state={turnPlayer:!1,loading:!0,loadingMsg:"Loading playground",keypad:!0},n.props.client.on("party",n.partyEventListener=function(e){"startGame"===e.event?n.startGame():"nextTurn"===e.event&&(n.setState({turnPlayer:e.player}),e.player.id===n.props.client.player.id&&n.myTurn())}),n.props.client.on("game",n.gameEventListener=function(e){n.response(e)}),n.props.client.on("chat",n.chatEventListener=function(e){if(console.log("CHAT"),console.log(e),"chat"===e.event){var t=document.getElementById("chat-list"),a=document.createElement("span");a.innerHTML="<b>"+e.player.name+":</b> "+e.msg,a.classList.add("chat-message"),t.prepend(a)}}),n.aiModeEnabled=!1,n.onAiModeClicked=n.onAiModeClicked.bind(w(n)),n.onChatClicked=n.onChatClicked.bind(w(n)),n}var a,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),a=t,(n=[{key:"bootDone",value:function(){this.props.onBootDone()}},{key:"onAiModeClicked",value:function(){this.props.client.aiMode(!this.aiModeEnabled)}},{key:"onChatClicked",value:function(){var e=prompt("Your message:");e&&""!==e&&this.props.client.sendMessage(e)}},{key:"request",value:function(e){this.props.client.gameRequest(e)}},{key:"response",value:function(e){this.onResponse(e)}},{key:"onResponse",value:function(e){console.warn("No response handler handling responses from server."),console.warn(e)}},{key:"unregisterEventListener",value:function(){this.props.client.off("game",this.gameEventListener),this.props.client.off("party",this.partyEventListener),this.props.client.off("chat",this.chatEventListener)}},{key:"componentDidMount",value:function(){this.enable()}},{key:"componentWillUnmount",value:function(){this.disable(),this.unregisterEventListener()}},{key:"isSetupComplete",value:function(){return!0}},{key:"setupLocalPlayers",value:function(e,t){this.setState({loadingMsg:"Setting up local players",minPlayers:e,maxPlayers:t,setupLocalPlayers:!0})}},{key:"getTurnPlayer",value:function(){return this.state.turnPlayer}},{key:"isMyTurn",value:function(){return this.state.turnPlayer&&this.props.client.player.id===this.state.turnPlayer.id}},{key:"myTurn",value:function(){}},{key:"startGame",value:function(){}},{key:"leave",value:function(){this.disable(),this.props.onDisable(),alert("TODO: Leave"),window.location.reload()}},{key:"endGame",value:function(){this.disable(),this.props.onDisable()}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"renderPlayground",value:function(){}},{key:"render",value:function(){var e,t=this,a=this.props.client.player.id,n=this.props.party.players,s=[],i="secondary";for(e=0;e<n.length;e++)a===n[e].id&&n[e].aiMode&&(i="success",this.aiModeEnabled=!0),s.push(r.a.createElement("div",{key:n[e].id},r.a.createElement("p",{className:(a===n[e].id?"font-weight-bold":"")+(n[e].online?"":" text-secondary")},this.state.turnPlayer&&this.state.turnPlayer.id===n[e].id?"➡️ ":"",n[e].aiMode?"(AI) ":"",n[e].name),r.a.createElement("br",null)));return r.a.createElement("div",{className:"container-fluid playground"},this.state.loading&&r.a.createElement("div",{className:"loading d-flex align-items-center justify-content-center"},r.a.createElement("center",null,r.a.createElement(v.a,{animation:"border"}),r.a.createElement("br",null),r.a.createElement("span",null,this.state.loadingMsg))),this.isSetupComplete()&&this.renderPlayground(),this.state.selectKeypadKeyboard&&r.a.createElement(g,{show:!0}),this.state.setupLocalPlayers&&r.a.createElement(p,{min:this.state.minPlayers,max:this.state.maxPlayers,show:this.state.setupLocalPlayers,onComplete:function(e){console.log(e),t.players=e,t.setState({setupLocalPlayers:!1,loadingMsg:"Loading playground"}),t.enable()}}),this.state.waitPlayer&&r.a.createElement(h,{show:this.state.waitPlayer,playerName:this.state.playerName,onContinue:function(){t.setState({waitPlayer:!1}),t.nextTurn()}.bind(this)}),s&&r.a.createElement("div",{className:"party-list"},r.a.createElement("h4",null,"Party"),s),r.a.createElement("div",{id:"chat-list"}),r.a.createElement(f.a,{variant:i,className:"ai-mode-btn",onClick:this.onAiModeClicked},r.a.createElement("i",{className:"fas fa-robot"})," AI"),r.a.createElement(f.a,{variant:"secondary",className:"chat-btn",onClick:this.onChatClicked},r.a.createElement("i",{className:"far fa-comments"})))}}])&&k(a.prototype,n),s&&k(a,s),t}(r.a.Component),_=a(27),P=a.n(_),I=(a(52),a(17)),N=a.n(I),x=a(37),T=a.n(x),B=a(182),M=function(e){return r.a.createElement(c.a,{show:e.show,onHide:e.onHide},r.a.createElement(c.a.Header,{closeButton:!0},r.a.createElement(c.a.Title,null,"Game Over")),r.a.createElement(c.a.Body,null,"The winner is ",r.a.createElement("b",null,e.winner),". You will be redirected back to the party dialog very soon."),r.a.createElement(c.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:e.onHide},"Close")))};a(95);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=O(t).call(this,e,"bigtwo"))||"object"!==R(r)&&"function"!=typeof r?A(n):r).fc=new P.a,a.onPassBtnClicked=a.onPassBtnClicked.bind(A(a)),a.onHintBtnClicked=a.onHintBtnClicked.bind(A(a)),a.onSubmitBtnClicked=a.onSubmitBtnClicked.bind(A(a)),a}var n,s,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(s=[{key:"enable",value:function(){var e=this;this.setState({loading:!1}),window.addEventListener("resize",this.resizeEventListener=function(){e.resizeBoard()}),window.addEventListener("orientationchange",this.orientationChangeEventListener=function(){e.resizeBoard()}),this.resizeBoard(),this.deck=!1,this.spreadCardsDone=!1,this.preloadAllImages()}},{key:"preloadAllImages",value:function(){var e=this,t=a(98),n=[],r=t.keys(),s=!0,i=!1,o=void 0;try{for(var l,c=r[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var u=l.value;n.push(new Promise((function(e,a){var n=new Image;n.src=t(u).default,n.onload=e})))}}catch(e){i=!0,o=e}finally{try{s||null==c.return||c.return()}finally{if(i)throw o}}Promise.all(n).then((function(){console.log("done"),e.bootDone()}))}},{key:"disable",value:function(){window.removeEventListener("resize",this.resizeEventListener),window.removeEventListener("orientationchange",this.orientationChangeEventListener),clearTimeout(this.timeout),clearInterval(this.playerTimer)}},{key:"resizeBoard",value:function(){var e=window.innerWidth/1600;document.getElementById("playingcards-board").style.transform="scale("+e+", "+e+")"}},{key:"moveTimer",value:function(){var e=this.getTurnPlayer(),t=this.playerCardsMap[e.id],a=document.getElementById("player-timer");"left-cards"===t?a.style.transform="translate(-11.975em, -4.5em)":"right-cards"===t?a.style.transform="translate(10.975em, -4.5em)":"top-cards"===t?a.style.transform="translate(-0.5em, -3.5em)":"bottom-cards"===t&&(a.style.transform="translate(-0.5em, -2em)")}},{key:"startTimer",value:function(){var e=this;console.log("Timer started"),clearInterval(this.playerTimer),this.playerTimer=setInterval((function(){var t=Math.round((e.targetPlayerTimeout-Date.now())/1e3);t<=0?(e.setState({displayTurnButtons:!1}),console.log("Cleared"),t=0):console.log("remain: "+t),e.setState({remainTime:t})}),500)}},{key:"stopTimer",value:function(){console.log("Stopped"),clearInterval(this.playerTimer)}},{key:"onResponse",value:function(e){var t=this;if(console.log("Response"),console.log(e),"newDeck"===e.event)this.deck=this.fc.jsonToDeck(e.deck),console.log("New deck recevied"),this.updateAvailableCombinations(),this.spreadCardsDone||this.spreadCards();else if("updateDeck"===e.event)this.setState({displayTurnButtons:!1}),console.log("Deck update recevied"),this.myTurnCards=e.cards,this.updateDeck(),this.updateAvailableCombinations();else if("numberOfCards"===e.event)this.numberOfCards=e.numberOfCards,this.updateNumberOfCards();else if("gameReady"===e.event){this.moveTimer(),this.setState({displayTurnButtons:!1,displayWaitingPlayers:!1}),this.isMyTurn()&&(this.removePlayerLastCards(this.props.client.player),this.setState({displayBottomPlayerPassed:!1,displayTurnButtons:!0}));var a=Date.now()-e.serverTime;this.targetPlayerTimeout=e.serverTime+e.timeout-a}else if("lastCards"===e.event){this.setState({passBtnDisabled:e.player.id===this.props.client.player.id}),this.lastPlayer=e.player,this.setPassed(e.player,!1);var n=this.fc.jsonToDeck(e.cards);this.lastCombination=T()(n),this.lastPlayer.id!==this.props.client.player.id&&(this.removePlayerLastCards(this.lastPlayer),this.showPlayerLastCards(this.lastPlayer,n)),this.sendGameReady()}else if("lastPassed"===e.event)this.setPassed(e.player,!0),this.removePlayerLastCards(e.player),this.sendGameReady();else if("roundHint"===e.event){var r=e.hint;"turn"===r.event?(this.unselectAllCards(),this.selectCards(r.cards)):"pass"===r.event&&confirm("The hint asks you to pass. Do you want to pass?")&&this.sendPass()}else if("gameOver"===e.event){var s,i=e.playerDecks;for(var o in i)s=this.getPlayerById(o),this.setPassed(s,!1),this.removePlayerLastCards(this.lastPlayer),this.showPlayerLastCards(s,i[o],!0);this.setState({displayTimer:!1,winner:e.winner}),this.timeout=setTimeout((function(){t.setState({displayWinner:!0}),t.timeout=setTimeout((function(){t.endGame()}),7e3)}),3e3)}else e.event&&e.event.endsWith("Failed")&&alert("Code: "+e.code+"\nError: "+e.msg)}},{key:"getPlayerById",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,s=this.props.party.players[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;if(i.id===e)return i}}catch(e){a=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return!1}},{key:"setPassed",value:function(e,t){var a=this.playerCardsMap[e.id];"left-cards"===a?this.setState({displayLeftPlayerPassed:t}):"right-cards"===a?this.setState({displayRightPlayerPassed:t}):"top-cards"===a?this.setState({displayTopPlayerPassed:t}):"bottom-cards"===a&&this.setState({displayBottomPlayerPassed:t})}},{key:"updateDeck",value:function(){document.getElementById("cards-container"),this.unselectAllCards();var e=document.getElementsByClassName("bottom-cards");console.log("old deck"),console.log(this.deck),console.log("My turn cards"),console.log(this.myTurnCards);var t,a=[];for(t=0;t<this.myTurnCards.length;t++)a.push(this.myTurnCards[t].index);var n=[];for(t=0;t<this.deck.length;t++)a.includes(t)||n.push(this.deck[t]);this.deck=n,console.log("Indexes"),console.log(a),console.log("new deck"),console.log(this.deck);var r,s,i=-.5*(6.25*this.deck.length+.52*(this.deck.length-1)),o=0,l=[];for(t=0;t<e.length;t++)s=e[t],r=parseInt(s.getAttribute("data-card-index")),console.log("=========== ELEMENT "+t+" INDEX "+r),a.includes(r)?(console.log("Removing: "+s.style.backgroundImage),l.push(s)):(console.log("Keeping "+s.style.backgroundImage),u=this.deck[o],console.log("card"),console.log(u),console.log("new index:"+o),c=i+6.77*o,s.setAttribute("data-card-index",o),s.style.transition="all 0.5s",s.style.transform="translate("+c+"em, 15.92em)",s.style.backgroundImage="url(../../img/playingcards/".concat(u.rank,"_of_").concat(u.suit,".svg)"),console.log("New image "+s.style.backgroundImage),o++);var c,u,d=3.125*(l.length+1)*.5;for(t=0;t<l.length;t++)c=3.125*t-d,u=this.myTurnCards[t].card,l[t].classList.add("shown-cards"),l[t].style.transition="all 0.5s ease-in-out",l[t].style.transform=" translate("+c+"em, 5.705em)",l[t].style.backgroundImage="url(../../img/playingcards/".concat(u.rank,"_of_").concat(u.suit,".svg)")}},{key:"sendGameReady",value:function(){this.request({event:"gameReady"})}},{key:"sendPass",value:function(){this.request({event:"pass"})}},{key:"sendTurn",value:function(e){this.request({event:"turn",cards:e})}},{key:"startGame",value:function(){this.deck&&this.spreadCards(),this.setState({passBtnDisabled:!0}),this.targetPlayerTimeout=0,this.startTimer()}},{key:"updateNumberOfCards",value:function(){var e=["left","top","right"];this.playerInfoMap={},this.playerCardsMap={};var t,a,n,r,s=this.props.party.players,i=-1;for(t=0;t<s.length;t++)if(s[t].id===this.props.client.player.id){i=t;break}for(t=1;t<4;t++)a=s[(i+t)%4],(n={})[r="playerInfo"+t]=3!==t?a.name+" ("+this.numberOfCards[a.id]+")":"("+this.numberOfCards[a.id]+") "+a.name,this.setState(n),this.playerInfoMap[a.id]=r,this.playerCardsMap[a.id]=e[t-1]+"-cards";this.playerCardsMap[this.props.client.player.id]="bottom-cards"}},{key:"removePlayerLastCards",value:function(e){var t=this.playerCardsMap[e.id];console.log("Removing for "+t+" from "+e.name);var a,n=document.getElementById("cards-container"),r=document.getElementsByClassName("shown-cards"),s=[],i=!0,o=!1,l=void 0;try{for(var c,u=r[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;console.log(d),d.classList.contains(t)&&(console.log("removing"),s.push(d))}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}for(a=0;a<s.length;a++)n.removeChild(s[a])}},{key:"showPlayerLastCards",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.removePlayerLastCards(e),document.getElementById("cards-container");var n,r=this.playerCardsMap[e.id];if("left-cards"===r)for(n=document.getElementsByClassName("left-cards"),o=0;o<t.length;o++)l=3.125*o-35.42+(a?-8.33:0),c=t[o],n[o].classList.add("shown-cards"),n[o].style.transition="all 0.5s ease-in-out",n[o].style.transform=" translate("+l+"em, 0em)",n[o].style.backgroundImage="url(../../img/playingcards/".concat(c.rank,"_of_").concat(c.suit,".svg)");else if("top-cards"===r){n=document.getElementsByClassName("top-cards");var s=(a?-10.215:0)-5.705,i=3.125*(t.length+1)*.5;for(o=0;o<t.length;o++)l=3.125*o-i,c=t[o],n[o].classList.add("shown-cards"),n[o].style.transition="all 0.5s ease-in-out",n[o].style.transform=" translate("+l+"em, "+s+"em)",n[o].style.backgroundImage="url(../../img/playingcards/".concat(c.rank,"_of_").concat(c.suit,".svg)")}else if("right-cards"===r){var o,l,c;for(n=document.getElementsByClassName("right-cards"),o=0;o<t.length;o++)l=35.42-3.125*o+(a?8.33:0),c=t[o],n[o].classList.add("shown-cards"),n[o].style.transition="all 0.5s ease-in-out",n[o].style.transform=" translate("+l+"em, 0em)",n[o].style.backgroundImage="url(../../img/playingcards/".concat(c.rank,"_of_").concat(c.suit,".svg)")}}},{key:"spreadCards",value:function(){var e=this;this.spreadCardsDone=!0;var t,a=[];for(t=0;t<52;t++)a.push(r.a.createElement("div",{key:t,className:"playingcard",style:{zIndex:52-t}}));this.setState({cards:a}),this.timeout=setTimeout((function(){var t,a,n,r=document.getElementsByClassName("playingcard"),s=0;for(a=1;a<=r.length;a++){if(n=r[a-1],a%4==0)n.classList.add("left-cards"),t="translate(-43.75em, 0em) rotate(-180deg)";else if(a%4==1)n.classList.add("top-cards"),t="translate(0em, -15.92em) rotate(-180deg)";else if(a%4==2)n.classList.add("right-cards"),t="translate(43.75em, 0em) rotate(180deg)";else{n.classList.add("bottom-cards"),t="translate("+(6.77*s-40.62)+"em, 15.92em)",n.setAttribute("data-card-index",s),n.addEventListener("mouseover",(function(e){e.stopImmediatePropagation();var t=e.target;if(!t.classList.contains("shown-cards")&&"true"!==t.getAttribute("data-card-selected")){t.style.transition="all 0.2s ease-in-out";var a=t.style.transform.split(") ")[0];a!==t.style.transform&&(a+=")"),t.style.transform=a+" translate(0em, -0.78125em)"}})),n.addEventListener("mouseout",(function(e){e.stopImmediatePropagation();var t=e.target;if("true"!==t.getAttribute("data-card-selected")){t.style.transition="all 0.2s ease-in-out";var a=t.style.transform.split(") ")[0];a!==t.style.transform&&(a+=")"),t.style.transform=a}})),n.addEventListener("click",(function(t){t.stopImmediatePropagation();var a=t.target;a.classList.contains("shown-cards")||("true"===a.getAttribute("data-card-selected")?e.unselectCardElement(a):e.selectCardElement(a))}));var i=e.deck[s];n.style.backgroundImage="url(../../img/playingcards/".concat(i.rank,"_of_").concat(i.suit,".svg)"),s++}n.style.transition="all 0.5s "+Math.round(.025*a*100)/100+"s",n.style.transform=t}e.timeout=setTimeout((function(){e.setState({displayNumberOfCards:!0,displayCombinationButtons:!0,displayWaitingPlayers:!0,displayTimer:!0}),e.sendGameReady()}),2e3)}),1e3)}},{key:"updateAvailableCombinations",value:function(){this.setState({availableCombinations:this.fc.findAll(this.deck)})}},{key:"selectCardElement",value:function(e){e.style.transition="all 0.2s ease-in-out";var t=e.style.transform.split(") ")[0];t!==e.style.transform&&(t+=")"),e.style.transform=t+" translate(0em, -1.5625em)",e.setAttribute("data-card-selected","true")}},{key:"unselectCardElement",value:function(e){e.style.transition="all 0.2s ease-in-out";var t=e.style.transform.split(") ")[0];t!==e.style.transform&&(t+=")"),e.style.transform=t,e.setAttribute("data-card-selected","false")}},{key:"selectCombination",value:function(e){this.unselectAllCards(),this.lastSelectCombinationName===e?this.lastSelectCombinationCount++:(this.lastSelectCombinationName=e,this.lastSelectCombinationCount=0);var t=this.state.availableCombinations[e];if(this.lastSelectCombinationCount===t.length)return this.lastSelectCombinationName=!1,this.lastSelectCombinationCount=0,void this.unselectAllCards();var a=t[this.lastSelectCombinationCount];this.selectCards(a)}},{key:"selectCards",value:function(e){var t,a=!0,n=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var o=s.value;(t=this.findCardElement(o.index))?this.selectCardElement(t):console.warn("Cannot find card index "+o.index)}}catch(e){n=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"unselectAllCards",value:function(){var e=document.getElementsByClassName("bottom-cards"),t=!0,a=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;this.unselectCardElement(i)}}catch(e){a=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}}},{key:"findCardElement",value:function(e){var t=document.getElementsByClassName("bottom-cards"),a=!0,n=!1,r=void 0;try{for(var s,i=t[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var o=s.value;if(parseInt(o.getAttribute("data-card-index"))===e)return o}}catch(e){n=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return!1}},{key:"onPassBtnClicked",value:function(){this.lastPlayer&&this.lastCombination&&(this.setState({displayTurnButtons:!1}),this.sendPass())}},{key:"onHintBtnClicked",value:function(){this.request({event:"hint"})}},{key:"onSubmitBtnClicked",value:function(){this.setState({displayTurnButtons:!1});var e=this.getSelectedCards(),t=this.fc.cardsToDeck(e);if(!this.lastPlayer||!this.lastCombination){var a=!1,n=!0,r=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;if("diamonds"===l.suit&&"3"===l.rank){a=!0;break}}}catch(e){r=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}if(!a)return alert("First turn cards must include a Diamond-3 card."),void this.setState({displayTurnButtons:!0})}var c=T()(t);if(!c)return alert("Invalid combination."),void this.setState({displayTurnButtons:!0});if(this.lastCombination&&this.lastPlayer.id!==this.props.client.player.id){if(this.lastCombination.combinationName!==c.combinationName)return alert("Combination type is not the same the last combination type."),void this.setState({displayTurnButtons:!0});if(c.compare(this.lastCombination)<=0)return alert("Your combination has to be larger than the last combination."),void this.setState({displayTurnButtons:!0})}this.sendTurn(e)}},{key:"getSelectedCards",value:function(){var e,t=document.getElementsByClassName("bottom-cards"),a=[],n=!0,r=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;"true"===l.getAttribute("data-card-selected")&&(e=parseInt(l.getAttribute("data-card-index")),a.push({index:e,card:this.deck[e]}))}}catch(e){r=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return a}},{key:"renderPlayground",value:function(){var e=this,t={};if(this.state.availableCombinations){var a=!0,n=!1,s=void 0;try{for(var i,o=N.a.FIVE_CARD_HANDS[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value;t[l]=this.state.availableCombinations[l]&&this.state.availableCombinations[l].length>0}}catch(e){n=!0,s=e}finally{try{a||null==o.return||o.return()}finally{if(n)throw s}}}return r.a.createElement("div",{className:"board",id:"playingcards-board"},r.a.createElement("div",{className:"playingcards",id:"cards-container"},r.a.createElement(M,{show:this.state.displayWinner,winner:this.state.winner&&this.state.winner.name,onHide:function(){e.setState({displayWinner:!1})}}),this.state.displayWaitingPlayers&&r.a.createElement("div",{className:"waiting-players align-items-center justify-items-center"},"Waiting other players..."),this.state.displayLeftPlayerPassed&&r.a.createElement("div",{className:"left-player-passed align-items-center justify-items-center"},"Passed"),this.state.displayTopPlayerPassed&&r.a.createElement("div",{className:"top-player-passed align-items-center justify-items-center"},"Passed"),this.state.displayRightPlayerPassed&&r.a.createElement("div",{className:"right-player-passed align-items-center justify-items-center"},"Passed"),this.state.displayBottomPlayerPassed&&r.a.createElement("div",{className:"bottom-player-passed align-items-center justify-items-center"},"Passed"),this.state.displayTimer&&r.a.createElement("div",{id:"player-timer"},this.state.remainTime),this.state.displayNumberOfCards&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"player1"},r.a.createElement("p",null,this.state.playerInfo1)),r.a.createElement("div",{className:"player2"},r.a.createElement("p",null,this.state.playerInfo2)),r.a.createElement("div",{className:"player3"},r.a.createElement("p",null,this.state.playerInfo3))),this.state.displayTurnButtons&&r.a.createElement("div",{className:"turn-buttons"},r.a.createElement(B.a,null,r.a.createElement(f.a,{variant:"primary",id:"pass-btn",onClick:this.onPassBtnClicked},r.a.createElement("i",{className:"fas fa-forward",disabled:this.state.passBtnDisabled})," Pass"),r.a.createElement(f.a,{variant:"warning",id:"hint-btn",onClick:this.onHintBtnClicked},r.a.createElement("i",{className:"far fa-lightbulb"})," Hint"),r.a.createElement(f.a,{variant:"success",id:"submit-btn",onClick:this.onSubmitBtnClicked},r.a.createElement("i",{className:"fas fa-check"})," Submit"))),this.state.displayCombinationButtons&&r.a.createElement("div",{className:"combination-buttons"},r.a.createElement(B.a,null,r.a.createElement(f.a,{variant:t.straight?"success":"secondary",id:"straight-btn",disabled:!t.straight,onClick:function(){e.selectCombination("straight")}},"Straight"),r.a.createElement(f.a,{variant:t.flush?"success":"secondary",id:"flush-btn",disabled:!t.flush,onClick:function(){e.selectCombination("flush")}},"Flush"),r.a.createElement(f.a,{variant:t.fullHouse?"success":"secondary",id:"full-house-btn",disabled:!t.fullHouse,onClick:function(){e.selectCombination("fullHouse")}},"Full House"),r.a.createElement(f.a,{variant:t.fourOfAKind?"success":"secondary",id:"four-of-a-kind-btn",disabled:!t.fourOfAKind,onClick:function(){e.selectCombination("fourOfAKind")}},"Four Of A Kind"),r.a.createElement(f.a,{variant:t.straightFlush?"success":"secondary",id:"straight-flush-btn",disabled:!t.straightFlush,onClick:function(){e.selectCombination("straightFlush")}},"Straight Flush"))),this.state.cards))}}])&&L(n.prototype,s),i&&L(n,i),t}(C),z=a(183),G=function(e){var t,a,n,s,i=[],o=[[1,2,3],[4,5,6],[7,8,9]];for(a=0;a<o.length;a++){for(t=[],n=0;n<o[a].length;n++)s=!(!e.enabled||0===e.enabled.length)&&e.enabled.includes(o[a][n]),t.push(r.a.createElement(f.a,{variant:s?"outline-secondary":"secondary",className:"py-3 touch-keypad-key touch-keypad-value",key:a+"-"+n,onClick:e.onNumberClick,disabled:!s},o[a][n]));i.push(r.a.createElement(B.a,{key:a},t))}return r.a.createElement(z.a,{fluid:!0,className:"touch-keypad row",style:{display:e.show?"":"none"}},r.a.createElement(B.a,{vertical:!0},i,r.a.createElement(B.a,null,r.a.createElement(f.a,{variant:"primary",className:"py-3 touch-keypad-key touch-keypad-function touch-keypad-function-done",disabled:!e.doneEnabled,onClick:e.onDoneClick},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement(f.a,{variant:e.enabled&&e.enabled.includes(0)?"outline-secondary":"secondary",className:"py-3 touch-keypad-key touch-keypad-value",onClick:e.onNumberClick,disabled:!(e.enabled&&e.enabled.includes(0))},"0"),r.a.createElement(f.a,{variant:"warning",className:"py-3 touch-keypad-key touch-keypad-function touch-keypad-function-backspace",disabled:!e.backspaceEnabled,onClick:e.onBackspaceClick},r.a.createElement("i",{className:"fas fa-backspace"})))))};a(166);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function F(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J={bigtwo:{instance:D,icon:"fas fa-heart",name:"Big Two",minPlayers:4,maxPlayers:4},guessnum:{instance:function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(r=q(t).call(this,e,"guessnum"))||"object"!==H(r)&&"function"!=typeof r?U(n):r).maximum=100,a.randCount=0,a.guess=a.guess.bind(U(a)),a}var a,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,e),a=t,(n=[{key:"enable",value:function(){var e;this.setState((K(e={loading:!1,homeScreen:!1,gameScreen:!1,keypadDisplay:!1,funcKeyEnable:!1,keypad:!0,text:0,numberMin:1,numberMax:this.maximum,enabledKeys:[]},"numberMin",-1),K(e,"numberMax",-1),e)),this.bootDone()}},{key:"disable",value:function(){clearInterval(this.interval),document.getElementsByTagName("body")[0].classList.remove("guessnum-correct"),clearTimeout(this.timeout)}},{key:"onResponse",value:function(e){if(console.log("RESPONSE"),console.log(e),"numberMinMax"===e.event)this.setState({numberMin:e.min,numberMax:e.max});else if("newGuess"===e.event){"?"===this.state.text&&this.setState({text:0});var t={numberMin:e.min,numberMax:e.max,lastGuess:e.number,success:e.success};this.state.countDone?(this.setState(t),this.countUpDownTo(e.number)):this.awaitNumbers.push(t)}}},{key:"startGame",value:function(){clearTimeout(this.timeout),this.setState({homeScreen:!1,gameScreen:!0,countDone:!1}),this.awaitNumbers=[],this.disableInput(),this.fakeRandom()}},{key:"fakeRandom",value:function(){var e=Math.floor(Math.random()*this.maximum);this.setState({text:e}),this.randCount++,this.randCount<50||-1===this.state.numberMin||-1===this.state.numberMax?this.timeout=setTimeout(function(){this.fakeRandom()}.bind(this),25):(this.randCount=0,this.setState({text:"?",countDone:!0}),this.isMyTurn()&&this.enableInput())}},{key:"countUpDownTo",value:function(e){var t=this;this.setState({countDone:!1});var a=this.state.text;if(e>a)this.setState({text:a+1}),this.timeout=setTimeout(function(){this.countUpDownTo(e)}.bind(this),750/(e-a));else if(e<a)this.setState({text:a-1}),this.timeout=setTimeout(function(){this.countUpDownTo(e)}.bind(this),750/(a-e));else{if(this.state.success)return this.setState({gameScreen:!1,resultScreen:!0}),this.interval=setInterval((function(){var e=document.getElementsByTagName("body")[0].classList;e.contains("guessnum-correct")?e.remove("guessnum-correct"):e.add("guessnum-correct")}),1e3),void(this.timeout=setTimeout((function(){t.endGame()}),1e4));if(this.awaitNumbers.length>0){var n=this.awaitNumbers.shift();this.setState(n),this.countUpDownTo(n.lastGuess)}else this.setState({countDone:!0}),this.isMyTurn()&&this.enableInput()}}},{key:"enableInput",value:function(){this.state.keypad||(document.getElementById("guess-number-field").disabled=!1,document.getElementById("guess-number-field").focus()),document.getElementById("guess-btn").disabled=!1,this.setState({keypadDisplay:this.state.keypad,funcKeyEnable:!0,enabledKeys:[1,2,3,4,5,6,7,8,9,0]})}},{key:"disableInput",value:function(){document.getElementById("guess-number-field").disabled=!0,document.getElementById("guess-btn").disabled=!0,this.setState({keypadDisplay:!1,funcKeyEnable:!1,enabledKeys:[]})}},{key:"myTurn",value:function(){this.state.countDone&&this.enableInput()}},{key:"guess",value:function(){this.disableInput();var e=document.getElementById("guess-number-field").value;if(""===e)return this.enableInput(),this.setState({error:"It cannot be blank."}),void(document.getElementById("guess-btn").disabled=!1);var t=parseInt(e);return isNaN(t)?(this.enableInput(),void this.setState({error:"It must be an integer."})):t>=this.state.numberMax?(this.enableInput(),void this.setState({error:"It cannot be larger than the maximum value."})):t<=this.state.numberMin?(this.enableInput(),void this.setState({error:"It cannot be less than the minimum value."})):(this.setState({error:""}),this.request({event:"guess",number:t}),void(document.getElementById("guess-number-field").value=""))}},{key:"renderPlayground",value:function(){var e=this;return r.a.createElement("div",null,this.state.gameScreen&&r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center guessnum-home-screen"},r.a.createElement("p",{className:"display-2"},this.state.text),r.a.createElement("p",{className:"display-4"},this.state.numberMin," - ",this.state.numberMax),r.a.createElement("br",null),r.a.createElement(u.a,{className:"ml-8 mr-8"},r.a.createElement(d.a,{id:"guess-number-field",type:"number",placeholder:"Your Guess","aria-label":"Your Guess",onKeyPress:function(t){"Enter"===t.key&&e.guess()},disabled:!0}),r.a.createElement(u.a.Append,null,r.a.createElement(f.a,{variant:"success",id:"guess-btn",onClick:this.guess},"Guess"))),r.a.createElement("br",null),r.a.createElement("p",{className:"text-danger"},this.state.error)),this.state.resultScreen&&r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center guessnum-home-screen"},r.a.createElement("p",{className:"display-2"},this.state.text),r.a.createElement("p",{className:"display-4 text-success"},"Bingo!"),this.props.party.players.length>1&&r.a.createElement("p",null,"Winner: ",r.a.createElement("b",null,this.getTurnPlayer().name)),r.a.createElement("br",null),r.a.createElement("p",null,"You will be redirected back to the party dialog very soon.")),r.a.createElement(G,{show:this.state.keypadDisplay,enabled:this.state.enabledKeys,doneEnabled:this.state.funcKeyEnable,backspaceEnabled:this.state.funcKeyEnable,onNumberClick:function(e){e.preventDefault(),console.log("Click num");var t=e.target.innerHTML;document.getElementById("guess-number-field").value=document.getElementById("guess-number-field").value+t},onDoneClick:function(t){t.preventDefault(),console.log("Click done"),e.guess()},onBackspaceClick:function(e){e.preventDefault(),console.log("Click bs"),document.getElementById("guess-number-field").value=document.getElementById("guess-number-field").value.slice(0,-1)}}))}}])&&F(a.prototype,n),s&&F(a,s),t}(C),icon:"fas fa-list-ol",name:"Guess Number",minPlayers:1,maxPlayers:10}};function Y(e,t,a){return r.a.createElement(f.a,{key:e,variant:"secondary",disabled:t,onClick:function(){a(e)}},r.a.createElement("i",{className:J[e].icon+" fa-2x"}),r.a.createElement("br",null),J[e].name)}var V=function(e){return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Play³ (","1.4.2",")")),r.a.createElement(c.a.Body,null,r.a.createElement("label",null,"Nickname:"),r.a.createElement(u.a,{className:"mb-3"},r.a.createElement(d.a,{id:"nickname-field",placeholder:"Nickname","aria-label":"Nickname","aria-describedby":"party-code-field-addon"})),r.a.createElement("hr",null),r.a.createElement("label",null,"Join a party:"),r.a.createElement(u.a,{className:"mb-3"},r.a.createElement(d.a,{id:"party-code-field",placeholder:"Party Code","aria-label":"Party Code","aria-describedby":"party-code-field-addon"}),r.a.createElement(u.a.Append,null,r.a.createElement(f.a,{variant:"success",onClick:e.joinGame},"Join"))),r.a.createElement("div",{className:"d-flex"},r.a.createElement(f.a,{variant:"success",className:"btn-block"},"Quick join"),r.a.createElement(f.a,{variant:"secondary",className:"ml-2"},r.a.createElement("i",{className:"fas fa-cog"}))),r.a.createElement("hr",null),r.a.createElement("p",null,"Start a new game:"),r.a.createElement("div",{className:"hori-scroll"},function(e){var t=[];for(var a in J)t.push(Y(a,!1,e));return t}(e.startGame)),r.a.createElement(m.a.Check,{type:"switch",id:"local-mode-switch",label:"Start game locally",checked:!1,disabled:!0})),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},Q=a(184);function X(e,t){var a=0,n=!0,r=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;l.online&&!t[l.id]&&a++}}catch(e){r=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return a}var Z=function(e){var t,a,n=e.party.admin,s=e.party.players,i=[];for(t=0;t<s.length;t++)a=s[t].id,i.push(r.a.createElement("tr",{key:a},r.a.createElement("td",null,t+1),r.a.createElement("td",null,r.a.createElement("span",{className:s[t].online?"":"text-secondary"},a===n.id?"👑 ":"",s[t].name," ",s[t].aiMode?"(AI)":""," ",e.gameInitReadyList[a]||!s[t].online?e.playerReadyList[a]?"✔️":"":r.a.createElement(v.a,{animation:"border",role:"status",size:"sm"}))),r.a.createElement("td",null,a!==n.id&&e.client.player.id===n.id&&r.a.createElement(f.a,{"data-player-id":a,variant:"danger",onClick:function(t){e.client.kickPlayer(t.target.getAttribute("data-player-id"))}},"Kick"))));var o,l,m,y,p,h=(o=e.party.gameId,J[o].minPlayers),g=function(e){return J[e].maxPlayers}(e.party.gameId);if(X(s,e.gameInitReadyList)>0)l="secondary",m=!0,y="Awaiting all players to boot game";else if(e.playerReadyList[e.player.id])if(e.player.id===n.id){var b=X(s,e.playerReadyList);b>0?(l="secondary",m=!0,y=s.length-b+"/"+s.length+" players ready"):s.length<h?(l="secondary",m=!0,y="Not enough players"):(l="success",m=!1,y="Start Game",p=function(){e.client.startGame()})}else l="warning",m=!1,y="Unready",p=function(){e.client.playerUnready()};else l="success",m=!1,y="Ready",p=function(){e.client.playerReady()};return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Party")),r.a.createElement(c.a.Body,null,r.a.createElement("div",{className:"d-flex"},Y(e.party.gameId,!e.playgroundBootDone||e.player.id!==n.id,(function(){})),r.a.createElement("div",{className:"container"},r.a.createElement("span",null,"Party Code:"),r.a.createElement("h2",null,e.party.partyId),r.a.createElement(u.a,{className:"mb-2"},r.a.createElement(d.a,{id:"share-link",value:"https://playplayplay.ml/?"+e.party.partyId,readOnly:!0}),r.a.createElement(u.a.Append,null,r.a.createElement(f.a,{variant:"primary",onClick:function(){var e=document.getElementById("share-link").value;navigator.share?navigator.share({url:e}):prompt("Your browser does not support sharing. Please copy the URL below and share it to your friends.",e)}},r.a.createElement("i",{className:"fas fa-share-square"})," Share"))),r.a.createElement("p",{className:"mb-2"},e.playgroundBootDone?"The game requires at least "+h+" player(s) and at maximum "+g+" player(s)."+(e.player.id===n.id?" Click on the icon to change game.":""):"Loading..."," "),r.a.createElement(f.a,{variant:l,onClick:p,block:!0,disabled:m},y))),r.a.createElement("hr",null),r.a.createElement(Q.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nickname"),r.a.createElement("th",null))),r.a.createElement("tbody",null,i)),e.player.id===n.id&&r.a.createElement(f.a,{variant:"success",onClick:function(){var t=prompt("AI Player Name:");e.client.addAi(t)},block:!0},r.a.createElement("i",{className:"fas fa-plus"})," Add computer (AI)"),r.a.createElement("hr",null),r.a.createElement(u.a,{className:"mb-3"},r.a.createElement(d.a,{id:"your-message-field",placeholder:"Your message","aria-label":"Your message","aria-describedby":"your-message-addon"}),r.a.createElement(u.a.Append,null,r.a.createElement(f.a,{variant:"success",onClick:e.onSendMsg},"Send"))),r.a.createElement("hr",null),r.a.createElement("div",{id:"party-modal-chat"})),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},$=function(e){return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Play³ (","1.4.2",")")),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"You are joining party ",r.a.createElement("b",null,e.partyId),"!"),r.a.createElement("hr",null),r.a.createElement("label",null,"Nickname:"),r.a.createElement(u.a,{className:"mb-3"},r.a.createElement(d.a,{id:"join-nickname-field",placeholder:"Nickname","aria-label":"Nickname","aria-describedby":"party-code-field-addon"})),r.a.createElement("hr",null),r.a.createElement(f.a,{variant:"success",className:"btn-block",onClick:e.onJoin},"Join")),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},ee=function(e){var t=e.create?"Creating":"Joining";return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,t," Party")),r.a.createElement(c.a.Body,null,r.a.createElement("div",{className:"d-flex justify-items-center align-items-center"},r.a.createElement(v.a,{animation:"grow",role:"status"}),r.a.createElement("strong",{className:"ml-3"},t," party",e.partyId?" "+e.partyId:"","..."))),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},te=function(e){return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Play³")),r.a.createElement(c.a.Body,null,r.a.createElement("div",{className:"d-flex justify-items-center align-items-center"},r.a.createElement(v.a,{animation:"grow",role:"status"}),r.a.createElement("strong",{className:"ml-3"},"Connecting to server..."))),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))};a(168),a(170),a(173),a(174),a(175),a(176);function ae(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endPoint=t,this.player=!1,this.party=!1,this.token=!1,this.ready=!1,this.versionMatch=!1,this.serverVersion=!1,this.gameInitReadyList={},this.playerReadyList={},this.listeners={},this.pendingRequests=[],this.initializeSocket()}var t,a,n;return t=e,(a=[{key:"initializeSocket",value:function(){var e=this;this.socket=l()(this.endPoint),this.socket.on("server",(function(t){if("info"===t.event){if(e.serverVersion=t.version,"1.4.2"!==t.version)e.askRefreshPage();else for(e.versionMatch=!0;e.pendingRequests.length>0;){var a=e.pendingRequests.shift();e.forceSocketEmit(a.event,a.data)}e.ready=!0,e.dispatch("__ready")}})),this.socket.on("party",(function(t){if(console.log(t),"partyJoined"===t.event)e.player=t.player,e.token=t.token,e.party=t.party;else if("gameInitReady"===t.event)e.gameInitReadyList=t.gameInitReady;else if("playerReady"===t.event)e.playerReadyList=t.playerReady;else if(e.party&&"playerListChanged"===t.event)e.party.players=t.players;else if(e.party&&"gameChanged"===t.event)e.party.gameId=t.gameId;else if(e.party&&"playerChanged"===t.event){var a,n=!1;for(a=0;a<e.party.players.length;a++)if(e.party.players[a].id===t.player.id){n=e.party.players[a];break}n&&(n.online=t.player.online,n.aiMode=t.player.aiMode)}else e.party&&"adminChanged"===t.event&&(e.party.admin=t.admin);e.dispatch("party",t)})),this.socket.on("game",(function(t){e.dispatch("game",t)})),this.socket.on("chat",(function(t){e.dispatch("chat",t)})),this.forceSocketEmit("server",{event:"info"})}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var a=this.listeners[e],n=a.indexOf(t);return-1!==n&&(a.splice(n,1),!0)}},{key:"dispatch",value:function(e,t){if(this.listeners[e]){var a=this.listeners[e],n=!0,r=!1,s=void 0;try{for(var i,o=a[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)(0,i.value)(t,this)}catch(e){r=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}}}},{key:"askRefreshPage",value:function(){confirm("Your client version (1.4.2) does not match with the server's version ("+this.serverVersion+"). This is probably due to a pending update for the app. Do you want to refresh the page and try again?")&&(window.location=window.location.origin+"/?"+Date.now())}},{key:"forceSocketEmit",value:function(e,t){this.socket.emit(e,t)}},{key:"socketEmit",value:function(e,t){if(this.ready){if(!this.versionMatch)return void this.askRefreshPage();this.forceSocketEmit(e,t)}else this.pendingRequests.push({event:e,data:t})}},{key:"sendMessage",value:function(e){this.socketEmit("chat",{token:this.token,playerId:this.player.id,partyId:this.party.partyId,msg:e})}},{key:"aiMode",value:function(e){this.socketEmit("party",{event:"aiMode",token:this.token,playerId:this.player.id,partyId:this.party.partyId,enable:e})}},{key:"addAi",value:function(e){this.socketEmit("party",{event:"addAi",token:this.token,playerId:this.player.id,partyId:this.party.partyId,playerName:e})}},{key:"gameRequest",value:function(e){this.socketEmit("game",{token:this.token,partyId:this.party.partyId,playerId:this.player.id,request:e})}},{key:"createParty",value:function(e,t){this.socketEmit("party",{event:"create",gameId:t,playerName:e})}},{key:"joinParty",value:function(e,t){this.socketEmit("party",{event:"join",partyId:t,playerName:e})}},{key:"kickPlayer",value:function(e){this.socketEmit("party",{event:"kickPlayer",token:this.token,partyId:this.party.partyId,playerId:this.player.id,kickPlayerId:e})}},{key:"gameInitReady",value:function(){this.socketEmit("party",{event:"gameInitReady",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}},{key:"playerReady",value:function(){this.socketEmit("party",{event:"playerReady",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}},{key:"playerUnready",value:function(){this.socketEmit("party",{event:"playerUnready",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}},{key:"startGame",value:function(){this.socketEmit("party",{event:"startGame",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}}])&&ae(t.prototype,a),n&&ae(t,n),e}();function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){function t(e){var a,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=!(r=ie(t).call(this,e))||"object"!==re(r)&&"function"!=typeof r?oe(n):r;var s="https://0.playplayplay.ml",i=localStorage.getItem("endpoint");return localStorage&&i&&(s=i),a.client=new ne(s),a.state={connectingModalShow:!0,gameModalShow:!1,partyModalShow:!1,playground:!1,gameInitReadyList:!1,playerReadyList:!1},a.startGame=a.startGame.bind(oe(a)),a.joinGame=a.joinGame.bind(oe(a)),a.onJoinNicknameClicked=a.onJoinNicknameClicked.bind(oe(a)),a.onSendMsg=a.onSendMsg.bind(oe(a)),a.listen(),a}var a,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,e),a=t,(n=[{key:"onJoinNicknameClicked",value:function(){var e=document.getElementById("join-nickname-field").value;this.client.joinParty(e,this.state.joinPartyId),this.setState({joinNicknameModalShow:!1,joiningPartyModalShow:!0,creatingParty:!1})}},{key:"listen",value:function(){var e=this;this.client.on("__ready",(function(){if(e.setState({connectingModalShow:!1}),window.location.search&&7===window.location.search.length){var t=window.location.search.substring(1,7);e.setState({joinNicknameModalShow:!0,joinPartyId:t})}else e.setState({gameModalShow:!0,connectingModalShow:!1})})),this.client.on("party",(function(t){if(e.setState({party:e.client.party}),"gameInitReady"===t.event)e.setState({gameInitReadyList:e.client.gameInitReadyList});else if("playerReady"===t.event)e.setState({playerReadyList:e.client.playerReadyList});else if("startGame"===t.event)e.setState({gameModalShow:!1,partyModalShow:!1});else if(e.client.party&&e.client.party.gameId&&("partyJoined"===t.event||"gameChanged"===t.event))e.state.playground?e.setState({awaitChangeGame:!0}):(e.setState({joiningPartyModalShow:!1,partyModalShow:!0}),e.updatePlayground());else if(t.event&&t.event.endsWith("Failed")){if(console.error(t),-4===t.code)return;alert("Code: "+t.code+"\nError: "+t.msg)}})),this.client.on("chat",(function(t){if(e.state.partyModalShow&&(console.log("App Chat"),console.log(t),"chat"===t.event)){var a=document.getElementById("party-modal-chat"),n=document.createElement("p");n.innerHTML="<b>"+t.player.name+":</b> "+t.msg,n.classList.add("chat-message"),a.prepend(n)}}))}},{key:"updatePlayground",value:function(){var e,t=this;this.setState({playgroundBootDone:!1,playground:r.a.createElement((e=this.client.party.gameId,J[e].instance),{party:this.state.party,client:this.client,onBootDone:function(){console.log("Bootdone"),t.setState({playgroundBootDone:!0}),t.client.gameInitReady()},onDisable:function(){t.setState({gameModalShow:!1,partyModalShow:!0,playground:!1,playgroundBootDone:!1}),t.state.awaitChangeGame&&(t.setState({awaitChangeGame:!1}),t.updatePlayground())}})})}},{key:"joinGame",value:function(){var e=document.getElementById("nickname-field").value,t=document.getElementById("party-code-field").value;e&&""!==e?t&&""!==t&&6===t.length?(this.client.joinParty(e,t),this.setState({gameModalShow:!1,joiningPartyModalShow:!0,creatingParty:!1})):alert("Party Code Invalid."):alert("Please fill in your nickname.")}},{key:"startGame",value:function(e){if(function(e){return void 0!==J[e]}(e)){document.getElementById("local-mode-switch").checked;var t=document.getElementById("nickname-field").value;t&&""!==t?(this.client.createParty(t,e),this.setState({gameModalShow:!1,joiningPartyModalShow:!0,creatingParty:!0})):alert("Please fill in your nickname.")}else alert("The selected game is currently unavailable.")}},{key:"onSendMsg",value:function(){var e=document.getElementById("your-message-field").value;e&&""!==e&&(document.getElementById("your-message-field").value="",this.client.sendMessage(e))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.playground,r.a.createElement(te,{show:this.state.connectingModalShow}),r.a.createElement(V,{show:this.state.gameModalShow,onHide:function(){return e.setState({gameModalShow:!1})},startGame:this.startGame,joinGame:this.joinGame}),this.state.joiningPartyModalShow&&r.a.createElement(ee,{show:this.state.joiningPartyModalShow,create:this.state.creatingParty,partyId:this.state.joinPartyId}),this.state.joinNicknameModalShow&&r.a.createElement($,{show:this.state.joinNicknameModalShow,partyId:this.state.joinPartyId,onJoin:this.onJoinNicknameClicked}),this.state.partyModalShow&&r.a.createElement(Z,{show:this.state.partyModalShow,onHide:function(){return e.setState({partyModalShow:!1})},client:this.client,playerReadyList:this.state.playerReadyList,gameInitReadyList:this.state.gameInitReadyList,party:this.state.party,player:this.client.player,playgroundBootDone:this.state.playgroundBootDone,onSendMsg:this.onSendMsg}))}}])&&se(a.prototype,n),s&&se(a,s),t}(r.a.Component);i.a.render(r.a.createElement(ce,null),document.getElementById("root"))}],[[178,1,2]]]);
//# sourceMappingURL=app.ce66c38c1d68c665ca6b.js.map