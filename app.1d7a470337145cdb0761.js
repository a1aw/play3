(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t){e.exports={SUIT:["diamonds","clubs","hearts","spades"],RANK:["3","4","5","6","7","8","9","10","jack","queen","king","ace","2"],COMBINATIONS:["pair","threeOfAKind","fiveCardHands"],FIVE_CARD_HANDS:["straight","flush","fullHouse","fourOfAKind","straightFlush"],ALL_COMBINATIONS:["pair","threeOfAKind","straight","flush","fullHouse","fourOfAKind","straightFlush"]}},,,,,,,function(e,t,n){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i(a.key),a)}}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var s=n(47),o=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"findAll",value:function(e){var t={pair:[],threeOfAKind:[],straight:[],flush:[],fullHouse:[],fourOfAKind:[],straightFlush:[]};if(e.length<2)return t;var n=this.deckToCards(e);return t.pair=this.findPair(n),t.threeOfAKind=this.findThreeOfAKind(n),t.straight=this.findStraight(n),t.flush=this.findFlush(n),t.fullHouse=this.findFullHouse(n),t.fourOfAKind=this.findFourOfAKind(n),t.straightFlush=this.findStraightFlush(n),t}},{key:"findPair",value:function(e){return this.byRankSame(e,2)}},{key:"findThreeOfAKind",value:function(e){return this.byRankSame(e,3)}},{key:"findStraight",value:function(e){return this.byRankConsecutive(e,5)}},{key:"findFlush",value:function(e){return this.bySuitSame(e,5)}},{key:"findFullHouse",value:function(e){var t=this;return this.byRankSameWithExternal(e,3,(function(e,n,a){var r,i,s=t.findPair(n);for(i=0;i<s.length;i++)r=(r=a.slice()).concat(s[i]),e.push(r)}))}},{key:"findFourOfAKind",value:function(e){return this.byRankSameWithExternal(e,4,(function(e,t,n){var a,r;for(r=0;r<t.length;r++)(a=n.slice()).push(t[r]),e.push(a)}))}},{key:"byRankSameWithExternal",value:function(e,t,n){var a,r,i,s,o=[],l=this.byRankSame(e,t);for(r=0;r<l.length;r++){for(a=e.slice(),i=0;i<l[r].length;i++)for(s=0;s<a.length;s++)if(a[s].card.equals(l[r][i].card)){a.splice(s,1);break}n(o,a,l[r])}return o}},{key:"findStraightFlush",value:function(e){var t,n,a,r=this.findStraight(e),i=[];for(t=0;t<r.length;t++)for(a=0,n=1;n<r[t].length&&r[t][n].card.suit===r[t][n-1].card.suit;n++)4==++a&&i.push(r[t]);return i}},{key:"byRankSame",value:function(e,t){return this.sameCombinations(e,t,"getRankSize")}},{key:"bySuitSame",value:function(e,t){return this.sameCombinations(e,t,"getSuitSize")}},{key:"sameCombinations",value:function(e,t,n){var a,r,i,s,o,l=[];for(e.sort((function(e,t){var a=e.card[n](),r=t.card[n]();return a<r?-1:a>r?1:0})),a=0;a<e.length-(t-1);a++)for(s=0,r=a+1;r<e.length&&e[r-1].card[n]()===e[r].card[n]();r++)if(++s==t-1){for(o=[],i=a;i<a+t;i++)o.push(e[i]);l.push(o);break}return l}},{key:"byRankConsecutive",value:function(e,t){var n,a,r,i,s,o=[];for(e.sort((function(e,t){var n=e.card.getRankSize(),a=t.card.getRankSize();return n<a?-1:n>a?1:0})),n=0;n<e.length-(t-1);n++)for(i=0,a=n+1;a<e.length&&e[a-1].card.getRankSize()===e[a].card.getRankSize()-1;a++)if(++i==t-1){for(s=[],r=n;r<n+t;r++)s.push(e[r]);o.push(s);break}return o}},{key:"sortByRank",value:function(e){this.sortDeckSuits(e),this.sortDeckRanks(e)}},{key:"sortBySuit",value:function(e){this.sortDeckRanks(e),this.sortDeckSuits(e)}},{key:"sortDeckRanks",value:function(e){e.sort((function(e,t){var n=e.getRankSize(),a=t.getRankSize();return n<a?-1:n>a?1:0}))}},{key:"sortDeckSuits",value:function(e){e.sort((function(e,t){var n=e.getSuitSize(),a=t.getSuitSize();return n<a?-1:n>a?1:0}))}},{key:"deckToCards",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n.push({index:t,card:e[t]});return n}},{key:"cardsToDeck",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e[t].card);return n}},{key:"jsonToDeck",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(new s(e[t].suit,e[t].rank));return n}},{key:"jsonToCards",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n.push({index:e[t].index,card:new s(e[t].card.suit,e[t].card.rank)});return n}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();e.exports=o},,,,,,,,,,,function(e,t,n){var a=n(22),r=n(15),i=n(80);e.exports=function(e){var t,n=new a,s=!1;if(1===e.length)t="single";else{var o,l,c=n.findAll(e);if(t=!1,5===e.length){var u=!1;for(o=r.FIVE_CARD_HANDS.length-1;o>=0;o--)if(c[l=r.FIVE_CARD_HANDS[o]].length>0){s=l,u=!0;break}u&&(t="fiveCardHands")}else 3===e.length?c.threeOfAKind.length>0&&(t="threeOfAKind"):2===e.length&&c.pair.length>0&&(t="pair");if(!t)return!1}return new i(t,e,s)}},,,,,,,,,,,,,,function(e,t,n){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i(a.key),a)}}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var s=n(15),o=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.suit=t,this.rank=n},(t=[{key:"getSuitSize",value:function(){return s.SUIT.indexOf(this.suit)}},{key:"getRankSize",value:function(){return s.RANK.indexOf(this.rank)}},{key:"compare",value:function(e){var t=s.RANK.indexOf(this.rank),n=s.RANK.indexOf(e.rank);if(t<n)return-1;if(t>n)return 1;var a=s.SUIT.indexOf(this.suit),r=s.SUIT.indexOf(e.suit);return a<r?-1:a>r?1:0}},{key:"equals",value:function(e){return this.suit===e.suit&&this.rank===e.rank}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();e.exports=o},function(e,t,n){"use strict";n.r(t),t.default=n.p+"2279814ea4461f579a7c7ac082654cf6.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,function(e,t,n){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i(a.key),a)}}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var s=n(15),o=(n(22),function(){return e=function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cards=n,this.combinationName=t,this.fiveCardName=a},(t=[{key:"getRankSize",value:function(){var e,t=0;for(e=0;e<this.cards.length;e++)t+=this.cards[e].getRankSize();return t}},{key:"getSuitSize",value:function(){var e,t=0;for(e=0;e<this.cards.length;e++)t+=this.cards[e].getSuitSize();return t}},{key:"compare",value:function(e){if(this.cards.length!==e.cards.length||this.combinationName!==e.combinationName)throw new Error("The two combinations' length/types are not the same. They cannot be compared.");if("fiveCardHands"===this.combinationName&&5===this.cards.length){var t=s.FIVE_CARD_HANDS.indexOf(this.fiveCardName),n=s.FIVE_CARD_HANDS.indexOf(e.fiveCardName);if(t<n)return-1;if(t>n)return 1}var a=this.getRankSize(),r=e.getRankSize();if(a<r)return-1;if(a>r)return 1;var i=this.getSuitSize(),o=e.getSuitSize();return i<o?-1:i>o?1:0}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());e.exports=o},function(e,t,n){var a=n(19),r=n(82);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){var a=n(20),r=n(83),i=n(48);t=a(!1);var s=r(i);t.push([e.i,".board {\r\n    position: fixed;\r\n    left: calc(50% - 50em);\r\n    top: calc(50% - 28.125em);\r\n    width: 100em;\r\n    height: 56.25em;\r\n}\r\n\r\n.board .playingcards {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n}\r\n\r\n.board .playingcards .playingcard {\r\n    position: absolute;\r\n    width: 6.25em;\r\n    height: 9.08em;\r\n    top: -4.54em;\r\n    left: -3.125em;\r\n    background-size: cover;\r\n    background-image: url("+s+");\r\n    transition: all 0.5s ease-in-out;\r\n    -webkit-transform-origin: 50% 50%;\r\n    -moz-transform-origin: 50% 50%;\r\n    -o-transform-origin: 50% 50%;\r\n    -ms-transform-origin: 50% 50%;\r\n\ttransform-origin: 50% 50%;\r\n}\r\n\r\n.combination-buttons {\r\n    position: absolute;\r\n    left: -24em;\r\n    top: 6em;\r\n    z-index: 53;\r\n}\r\n\r\n.combination-buttons button {\r\n    padding: .75rem 1.5rem;\r\n    font-size: 1.5rem;\r\n    line-height: 1;\r\n    border-radius: .45rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.turn-buttons {\r\n    position: absolute;\r\n    left: -12em;\r\n    top: 2em;\r\n    z-index: 53;\r\n}\r\n\r\n.turn-buttons button {\r\n    padding: .75rem 1.5rem;\r\n    font-size: 1.5rem;\r\n    line-height: 1;\r\n    border-radius: .45rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.player1 {\r\n    position: absolute;\r\n    left: -31em;\r\n    top: -5.5em;\r\n    font-size: 1.5rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.player2 {\r\n    position: absolute;\r\n    left: 3em;\r\n    top: -13em;\r\n    font-size: 1.5rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.player3 {\r\n    position: absolute;\r\n    left: 27em;\r\n    top: -5.5em;\r\n    font-size: 1.5rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.waiting-players {\r\n    position: absolute;\r\n    left: -4.5em;\r\n    top: -1em;\r\n    font-size: 2.5rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n#player-timer {\r\n    position: absolute;\r\n    left: -0.25em;\r\n    top: 0.5em;\r\n    padding: 0.25em;\r\n    font-size: 3rem;\r\n    z-index: 54;\r\n    white-space: nowrap;\r\n    background-color: rgba(255, 255, 255, 0.7);\r\n    transition: all 0.5s ease-in-out;\r\n    transform: translate(-0.5em, -2em)\r\n}\r\n\r\n.left-player-passed {\r\n    position: absolute;\r\n    left: -12em;\r\n    top: -1em;\r\n    font-size: 3rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.right-player-passed {\r\n    position: absolute;\r\n    left: 9em;\r\n    top: -1em;\r\n    font-size: 3rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.top-player-passed {\r\n    position: absolute;\r\n    left: -1.5em;\r\n    top: -3em;\r\n    font-size: 3rem;\r\n    white-space: nowrap;\r\n}\r\n\r\n.bottom-player-passed {\r\n    position: absolute;\r\n    left: -1.5em;\r\n    top: 0.5em;\r\n    font-size: 3rem;\r\n    white-space: nowrap;\r\n}",""]),e.exports=t},,function(e,t,n){var a={"./10_of_clubs.svg":85,"./10_of_diamonds.svg":86,"./10_of_hearts.svg":87,"./10_of_spades.svg":88,"./2_of_clubs.svg":89,"./2_of_diamonds.svg":90,"./2_of_hearts.svg":91,"./2_of_spades.svg":92,"./3_of_clubs.svg":93,"./3_of_diamonds.svg":94,"./3_of_hearts.svg":95,"./3_of_spades.svg":96,"./4_of_clubs.svg":97,"./4_of_diamonds.svg":98,"./4_of_hearts.svg":99,"./4_of_spades.svg":100,"./5_of_clubs.svg":101,"./5_of_diamonds.svg":102,"./5_of_hearts.svg":103,"./5_of_spades.svg":104,"./6_of_clubs.svg":105,"./6_of_diamonds.svg":106,"./6_of_hearts.svg":107,"./6_of_spades.svg":108,"./7_of_clubs.svg":109,"./7_of_diamonds.svg":110,"./7_of_hearts.svg":111,"./7_of_spades.svg":112,"./8_of_clubs.svg":113,"./8_of_diamonds.svg":114,"./8_of_hearts.svg":115,"./8_of_spades.svg":116,"./9_of_clubs.svg":117,"./9_of_diamonds.svg":118,"./9_of_hearts.svg":119,"./9_of_spades.svg":120,"./ace_of_clubs.svg":121,"./ace_of_diamonds.svg":122,"./ace_of_hearts.svg":123,"./ace_of_spades.svg":124,"./ace_of_spades2.svg":125,"./back.svg":48,"./black_joker.svg":126,"./jack_of_clubs.svg":127,"./jack_of_clubs3.svg":128,"./jack_of_diamonds.svg":129,"./jack_of_diamonds3.svg":130,"./jack_of_hearts.svg":131,"./jack_of_hearts3.svg":132,"./jack_of_spades.svg":133,"./jack_of_spades3.svg":134,"./king_of_clubs.svg":135,"./king_of_clubs3.svg":136,"./king_of_diamonds.svg":137,"./king_of_diamonds3.svg":138,"./king_of_hearts.svg":139,"./king_of_hearts3.svg":140,"./king_of_spades.svg":141,"./king_of_spades3.svg":142,"./queen_of_clubs.svg":143,"./queen_of_clubs3.svg":144,"./queen_of_diamonds.svg":145,"./queen_of_diamonds3.svg":146,"./queen_of_hearts.svg":147,"./queen_of_hearts3.svg":148,"./queen_of_spades.svg":149,"./queen_of_spades3.svg":150,"./red_joker.svg":151};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=84},function(e,t,n){"use strict";n.r(t),t.default=n.p+"f2166e849feb6646ff6c7ff0177e4f4d.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"6b6e6968b2a627b6267660ff0fce2e4e.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"fe97fe8e754abb7e21940d142263f68f.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"655e6febd3abc1917b5fc4d1efa902d8.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"63396d1e053b677f16344eda6aa647ab.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"3c35d7f21a010d69a44a91c5bbd2e0f3.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"8e3344c3a2ab68961a2ff4e2ecc4fc1e.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"f59201ff03f10f1e6766021505045eab.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"9d48ec567b8d210bb27807fe9bd510bb.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"dfc0962cdafff120aaf82441005ab5bb.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"31e5edcdcfe44190d1756a6229eef5d3.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"e8f2835f607a1a7a7f38781a14db2ea8.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"e7556d7e4e9eb51b01e58c638d7ab325.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"31df3902c87776e74ce81f7714845a99.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"cbaa32930ac06df82d57080d20fa2df7.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"e622faf6b6eb34f5a3d34caf3a506eda.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"e04cff3a02a62422dfa0e01f011aa5fa.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"693b46d92b907bd8b31f58b54377e0cc.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"8a2c470a6f7ee371c1fff7771d45f58c.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"8375a379f8cc326ce583e8d7c5723b9c.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"8dae940d5536ddbdb744221adaccf9e5.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"4fccce3b29972e645a9c4b1e20b626b8.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"1f0b8e84b07a0f5ee8d07ad839978511.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"019419732c0e4bbf0aa9e809db157876.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"f6771e26cca8fd3eaf82f8e03cdf21bf.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"94d693dbba8bff40fc13de3a237e8ad9.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"675c2d405949b7b62a85b1ad54a575cf.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"1bc561cad7381e8453c2415ecccf9b3d.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"3ee05250349b8b07c98672fec2417f89.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"bc084657c941728e9e38fe86f693e8cd.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"ccfa83aec2bf238fc167674dd7ebb3e8.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"acd317c9a8283a9d482c94f3ee4c496c.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"c0caca27528c3bb27cf8972e89f622b2.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"14b8fb7833578eb378b2c532541f8cad.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"23352c0a8873ee8d6ec71db3ca899643.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"7e54fe210c897419a6da78f03fbeede7.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"faa0548a573a38d689a383c6ae92d8a6.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"e28ed12349f8ee3b3b05cfb8369bfb70.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"e9aeeb2e00d8c1f0bbe42b01dadef503.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"8374f159bffa5ff40f10ccedc76a6860.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"222c1887d0acb4f4166eef9416bf224b.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"0e707b1133b3dc5777d949f10f38e659.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"7f36b1d8c78ffcade0c82317cd03741f.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"79daf9e92261c0b8a98a6694188bf0c5.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"848bb9ce9f1d6dc751f752035bfa059e.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"e02700d2c997c08cb48ba92eb6e917c5.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"4057d9e040e5098cd857f4e46d3c4c2c.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"3ab73ee7b2393189d80a423f91d614a2.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"f8781b76880a36e8eeb0b783f9108ce5.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"986d64fb1d0b7be2bac456bfb4383095.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"8b6615e521c17a743083e215597a39ef.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"a315bab2b4283bd7e791fd87fceac7fc.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"9c03dcb69e553c245849203cd144e5a9.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"f6d0a9ebaff2d62dd4babac9a7254513.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"7ca962820137d7b4083c3bbdd30e61d9.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"3820040dc7ba92b7cae213380189eee8.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"cab9377cc3af68a9e3628d3020d2befb.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"30896cd6e8b51ba2755da8a0664de901.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"fac460435939d4ca4aa32141721705b7.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"641d84db794fd62dd5ad88de1120016b.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"43a4a85609d7667ea723dbc111c5bc10.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"1a3675be75b3f5ba124fdf902c84f309.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"f9ac2774c9cb4cf41e6358c19f6d8e8d.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"4dda125132dc5d60ebb4d9fdb2465e93.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"2b6c5311a106fdb219a14f6c3926984f.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"5db1206930c28e27e548a645226b0d85.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"d58737009cee124a94829442cddf9437.svg"},function(e,t,n){var a=n(19),r=n(153);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(20)(!1)).push([e.i,".guessnum-home-screen {\r\n    height: 90vh;\r\n}\r\n\r\nbody.guessnum-correct {\r\n    background-color: rgb(166, 255, 168)\r\n}",""]),e.exports=t},,,,,,,,,function(e,t,n){var a=n(19),r=n(163);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(20)(!1)).push([e.i,"body {\r\n    width: 100%;\r\n    height: 100vh;\r\n    position: absolute;\r\n    background-color: rgb(229, 229, 229)\r\n}\r\n\r\n.chat-btn {\r\n    margin: 4px;\r\n    position: fixed;\r\n    bottom: 4px;\r\n    right: 4px;\r\n    opacity: 0.4;\r\n}\r\n\r\n.chat-btn:hover {\r\n    opacity: 1;\r\n}\r\n\r\n.ai-mode-btn {\r\n    margin: 4px;\r\n    position: fixed;\r\n    bottom: 4px;\r\n    left: 4px;\r\n    opacity: 0.4;\r\n}\r\n\r\n.ai-mode-btn:hover {\r\n    opacity: 1;\r\n}\r\n\r\n.party-list {\r\n    margin: 4px;\r\n    position: fixed;\r\n    top: 4px;\r\n    right: 4px;\r\n    text-align: right;\r\n    opacity: 0.4;\r\n}\r\n\r\n.party-list:hover {\r\n    opacity: 1;\r\n}\r\n\r\n#party-modal-chat {\r\n    text-align: left;\r\n}\r\n\r\n#chat-list {\r\n    margin: 4px;\r\n    position: fixed;\r\n    top: 4px;\r\n    left: 4px;\r\n    text-align: left;\r\n    white-space: nowrap;\r\n}\r\n\r\n.chat-message {\r\n    opacity: 1;\r\n    animation-name: chat-message-display;\r\n    animation-delay: 5s;\r\n    animation-duration: 5s;\r\n    animation-fill-mode: forwards;\r\n    margin-bottom: 0px;\r\n}\r\n\r\n.chat-message:hover {\r\n    animation-name: unset;\r\n}\r\n\r\n@keyframes chat-message-display {\r\n    from { opacity: 1 }\r\n    to {\r\n        opacity: 0;\r\n        visibility: hidden;\r\n        height: 0;\r\n    }\r\n}\r\n\r\n.hori-scroll {\r\n    margin: 4px;\r\n    overflow: auto;\r\n    white-space: nowrap;\r\n}\r\n\r\n.hori-scroll button {\r\n    margin: 4px;\r\n}\r\n\r\n.playground {\r\n    padding: 8px;\r\n}\r\n\r\n.loading {\r\n    margin-top: 1rem;\r\n}\r\n\r\n@media only screen and (max-width: 768px) {\r\n    .party-list {\r\n        margin-top: env(safe-area-inset-top);\r\n    }\r\n\r\n    .modal {\r\n        padding-top: env(safe-area-inset-top);\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .playground {\r\n        padding-top: env(safe-area-inset-top);\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n}\r\n\r\n/* Touch Keypad */\r\n\r\n.touch-keypad {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    z-index: 2;\r\n    background: rgba(255, 255, 255, 0.4);\r\n    padding-bottom: env(safe-area-inset-bottom);\r\n}\r\n\r\n.touch-keypad .btn-group-vertical {\r\n    width: 100%;\r\n}\r\n\r\n.touch-keypad .numeric-keypad {\r\n    width: 75%;\r\n}\r\n\r\n.touch-keypad-key {\r\n    min-height: 58px;\r\n}",""]),e.exports=t},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),s=n.n(i),o=n(21),l=n.n(o),c=n(171),u=n(166),d=n(49),f=n(173),m=n(172);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var h=function(e){var t,n=y(r.a.useState(!1),2),a=n[0],i=n[1],s=[];for(t=e.min;t<=e.max;t++)s.push(r.a.createElement("option",{key:t},t));a||(a=e.min);var o=[];for(t=1;t<=a;t++)o.push(r.a.createElement(u.a,{className:"mb-3",key:t},r.a.createElement(u.a.Prepend,null,r.a.createElement(u.a.Text,{id:"player-number-"+t},"Player ",t)),r.a.createElement(d.a,{placeholder:"Player "+t,"aria-label":"Nickname","aria-describedby":"player-number-"+t,id:"player-nick-"+t})));return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Setup Players")),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"This game requires at least ",e.min," player(s) and at maximum ",e.max," player(s). Please enter the names for the players below:"),r.a.createElement(m.a.Group,null,r.a.createElement(m.a.Label,null,"Players:"),r.a.createElement(m.a.Control,{as:"select",id:"localPlayersSelect",onChange:function(){var e=document.getElementById("localPlayersSelect").value;i(e)}},s)),o,r.a.createElement(f.a,{variant:"success",block:!0,onClick:function(){var t,n,r=[];for(t=1;t<=a;t++)""===(n=document.getElementById("player-nick-"+t).value)&&(n="Player "+t),r.push(n);e.onComplete(r)}},"Continue")),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},b=function(e){return r.a.createElement(c.a,{show:e.show,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Pass to ",e.playerName)),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"It is ",r.a.createElement("b",null,e.playerName),"'s turn! Pass the device and let ",e.playerName,' to press the "Continue" button.'),r.a.createElement(f.a,{variant:"success",block:!0,onClick:e.onContinue},"Continue")),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},v=function(e){return r.a.createElement(c.a,{show:e.show,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Keypad or keyboard?")),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"Please select either to use keypad or keyboard for input:"),r.a.createElement("div",{className:"d-flex"},r.a.createElement(f.a,{block:!0},r.a.createElement("i",{className:"fas fa-keyboard"}),r.a.createElement("br",null),"Keyboard"),r.a.createElement(f.a,{block:!0},r.a.createElement("i",{className:"fas fa-gamepad"}),r.a.createElement("br",null),"Keypad"))),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},g=n(167);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,w(a.key),a)}}function w(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=k(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==k(t)?t:t+""}function S(e,t,n){return t=C(t),function(e,t){if(t&&("object"==k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],C(e).constructor):t.apply(e,n))}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e,n){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=S(this,t,[e])).gameId=n,a.state={turnPlayer:!1,loading:!0,loadingMsg:"Loading playground",keypad:!0},a.props.client.on("party",a.partyEventListener=function(e){"startGame"===e.event?a.startGame():"nextTurn"===e.event&&(a.setState({turnPlayer:e.player}),e.player.id===a.props.client.player.id&&a.myTurn())}),a.props.client.on("game",a.gameEventListener=function(e){a.response(e)}),a.props.client.on("chat",a.chatEventListener=function(e){if(console.log("CHAT"),console.log(e),"chat"===e.event){var t=document.getElementById("chat-list"),n=document.createElement("p");n.innerHTML="<b>"+e.player.name+":</b> "+e.msg,n.classList.add("chat-message"),t.prepend(n)}}),a.selfAiMode=!1,a.onAiModeClicked=a.onAiModeClicked.bind(a),a.onChatClicked=a.onChatClicked.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(t,e),n=t,(a=[{key:"bootDone",value:function(){this.props.onBootDone()}},{key:"onAiModeClicked",value:function(){this.props.client.aiMode(!this.selfAiMode)}},{key:"onChatClicked",value:function(){var e=prompt("Your message:");e&&""!==e&&this.props.client.sendMessage(e)}},{key:"request",value:function(e){this.props.client.gameRequest(e)}},{key:"response",value:function(e){this.onResponse(e)}},{key:"onResponse",value:function(e){console.warn("No response handler handling responses from server."),console.warn(e)}},{key:"unregisterEventListener",value:function(){this.props.client.off("game",this.gameEventListener),this.props.client.off("party",this.partyEventListener),this.props.client.off("chat",this.chatEventListener)}},{key:"componentDidMount",value:function(){this.enable()}},{key:"componentWillUnmount",value:function(){this.disable(),this.unregisterEventListener()}},{key:"isSetupComplete",value:function(){return!0}},{key:"setupLocalPlayers",value:function(e,t){this.setState({loadingMsg:"Setting up local players",minPlayers:e,maxPlayers:t,setupLocalPlayers:!0})}},{key:"getTurnPlayer",value:function(){return this.state.turnPlayer}},{key:"isMyTurn",value:function(){return this.state.turnPlayer&&this.props.client.player.id===this.state.turnPlayer.id}},{key:"myTurn",value:function(){}},{key:"startGame",value:function(){}},{key:"leave",value:function(){this.disable(),this.props.onDisable(),alert("TODO: Leave"),window.location.reload()}},{key:"endGame",value:function(){this.disable(),this.props.onDisable()}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"renderPlayground",value:function(){}},{key:"render",value:function(){var e,t=this,n=this.props.client.player.id,a=this.props.party.players,i=[];for(e=0;e<a.length;e++)n===a[e].id&&(this.selfAiMode=a[e].aiMode),i.push(r.a.createElement("div",{key:a[e].id},r.a.createElement("span",{className:(n===a[e].id?"font-weight-bold":"")+(a[e].online?"":" text-secondary")},this.state.turnPlayer&&this.state.turnPlayer.id===a[e].id?"➡️ ":"",a[e].aiMode?"(AI) ":"",a[e].name),r.a.createElement("br",null)));return r.a.createElement("div",{className:"container-fluid playground"},this.state.loading&&r.a.createElement("div",{className:"loading d-flex align-items-center justify-content-center"},r.a.createElement("center",null,r.a.createElement(g.a,{animation:"border"}),r.a.createElement("br",null),r.a.createElement("span",null,this.state.loadingMsg))),this.isSetupComplete()&&this.renderPlayground(),this.state.selectKeypadKeyboard&&r.a.createElement(v,{show:!0}),this.state.setupLocalPlayers&&r.a.createElement(h,{min:this.state.minPlayers,max:this.state.maxPlayers,show:this.state.setupLocalPlayers,onComplete:function(e){console.log(e),t.players=e,t.setState({setupLocalPlayers:!1,loadingMsg:"Loading playground"}),t.enable()}}),this.state.waitPlayer&&r.a.createElement(b,{show:this.state.waitPlayer,playerName:this.state.playerName,onContinue:function(){t.setState({waitPlayer:!1}),t.nextTurn()}.bind(this)}),i&&r.a.createElement("div",{className:"party-list"},r.a.createElement("h4",null,"Party"),i),r.a.createElement("div",{id:"chat-list"}),r.a.createElement(f.a,{variant:this.selfAiMode?"success":"secondary",className:"ai-mode-btn",style:this.selfAiMode?{opacity:1}:{},onClick:this.onAiModeClicked},r.a.createElement("i",{className:"fas fa-robot"})," AI"),r.a.createElement(f.a,{variant:"secondary",className:"chat-btn",onClick:this.onChatClicked},r.a.createElement("i",{className:"far fa-comments"})))}}])&&E(n.prototype,a),i&&E(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.a.Component),I=n(22),N=n.n(I),T=(n(47),n(15)),x=n.n(T),j=n(33),O=n.n(j),A=n(169),B=n(168);function M(e,t){var n;for(n=0;n<e.length;n++)if(e[n].id===t)return e[n];return!1}var R=function(e){var t,n,a,i=e.party.players,s=e.ranking,o=[];for(t=0;t<s.length;t++)a=M(i,n=s[t].playerId),o.push(r.a.createElement("tr",{key:n},r.a.createElement("td",null,t+1),r.a.createElement("td",null,r.a.createElement("span",{className:a.online?"":"text-secondary"},a.name," ",a.aiMode?"(AI)":"")),r.a.createElement("td",null,s[t].length)));return r.a.createElement(c.a,{show:e.show,onHide:e.onHide},r.a.createElement(c.a.Header,{closeButton:!0},r.a.createElement(c.a.Title,null,"Game Over")),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"The winner is ",r.a.createElement("b",null,e.winner.name),". You will be redirected back to the party dialog very soon."),r.a.createElement(B.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Rank"),r.a.createElement("th",null,"Nickname"),r.a.createElement("th",null,"Cards left"))),r.a.createElement("tbody",null,o))),r.a.createElement(c.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:e.onHide},"Close")))};n(81);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function G(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,H(a.key),a)}}function H(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=L(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}function K(e,t,n){return t=F(t),function(e,t){if(t&&("object"==L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],F(e).constructor):t.apply(e,n))}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var U=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=K(this,t,[e,"bigtwo"])).fc=new N.a,n.onPassBtnClicked=n.onPassBtnClicked.bind(n),n.onHintBtnClicked=n.onHintBtnClicked.bind(n),n.onSubmitBtnClicked=n.onSubmitBtnClicked.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(t,e),a=t,(i=[{key:"enable",value:function(){var e=this;this.setState({loading:!1}),window.addEventListener("resize",this.resizeEventListener=function(){e.resizeBoard()}),window.addEventListener("orientationchange",this.orientationChangeEventListener=function(){e.resizeBoard()}),this.resizeBoard(),this.deck=!1,this.spreadCardsDone=!1,this.preloadAllImages()}},{key:"preloadAllImages",value:function(){var e,t=this,a=n(84),r=[],i=D(a.keys());try{for(i.s();!(e=i.n()).done;){var s=e.value;r.push(new Promise((function(e,t){var n=new Image;n.src=a(s).default,n.onload=e})))}}catch(e){i.e(e)}finally{i.f()}Promise.all(r).then((function(){console.log("done"),t.bootDone()}))}},{key:"disable",value:function(){window.removeEventListener("resize",this.resizeEventListener),window.removeEventListener("orientationchange",this.orientationChangeEventListener),clearTimeout(this.timeout),clearInterval(this.playerTimer)}},{key:"resizeBoard",value:function(){var e=window.innerWidth/1600;document.getElementById("playingcards-board").style.transform="scale("+e+", "+e+")"}},{key:"moveTimer",value:function(){var e=this.getTurnPlayer(),t=this.playerCardsMap[e.id],n=document.getElementById("player-timer");"left-cards"===t?n.style.transform="translate(-11.975em, -4.5em)":"right-cards"===t?n.style.transform="translate(10.975em, -4.5em)":"top-cards"===t?n.style.transform="translate(-0.5em, -3.5em)":"bottom-cards"===t&&(n.style.transform="translate(-0.5em, -2em)")}},{key:"startTimer",value:function(){var e=this;console.log("Timer started"),clearInterval(this.playerTimer),this.playerTimer=setInterval((function(){var t=Math.round((e.targetPlayerTimeout-Date.now())/1e3);t<=0?(e.setState({displayTurnButtons:!1}),console.log("Cleared"),t=0):console.log("remain: "+t),e.setState({remainTime:t})}),500)}},{key:"stopTimer",value:function(){console.log("Stopped"),clearInterval(this.playerTimer)}},{key:"onResponse",value:function(e){var t=this;if(console.log("Response"),console.log(e),"newDeck"===e.event)this.deck=this.fc.jsonToDeck(e.deck),console.log("New deck recevied"),this.updateAvailableCombinations(),this.spreadCardsDone||this.spreadCards();else if("updateDeck"===e.event)this.setState({displayTurnButtons:!1}),console.log("Deck update recevied"),this.myTurnCards=e.cards,this.updateDeck(),this.updateAvailableCombinations();else if("numberOfCards"===e.event)this.numberOfCards=e.numberOfCards,this.updateNumberOfCards();else if("gameReady"===e.event){this.moveTimer(),this.setState({displayTurnButtons:!1,displayWaitingPlayers:!1}),this.isMyTurn()&&(this.removePlayerLastCards(this.props.client.player),this.setState({displayBottomPlayerPassed:!1}),this.selfAiMode||this.setState({displayTurnButtons:!0}));var n=Date.now()-e.serverTime;this.targetPlayerTimeout=e.serverTime+e.timeout-n}else if("lastCards"===e.event){this.setState({passBtnDisabled:e.player.id===this.props.client.player.id}),this.lastPlayer=e.player,this.setPassed(e.player,!1);var a=this.fc.jsonToDeck(e.cards);this.lastCombination=O()(a),this.lastPlayer.id!==this.props.client.player.id&&(this.removePlayerLastCards(this.lastPlayer),this.showPlayerLastCards(this.lastPlayer,a)),this.sendGameReady()}else if("lastPassed"===e.event)this.setPassed(e.player,!0),this.removePlayerLastCards(e.player),this.sendGameReady();else if("roundHint"===e.event){var r=e.hint;"turn"===r.event?(this.unselectAllCards(),this.selectCards(r.cards)):"pass"===r.event&&confirm("The hint asks you to pass. Do you want to pass?")&&this.sendPass()}else if("gameOver"===e.event){var i,s=e.playerDecks;for(var o in s)i=this.getPlayerById(o),o!==e.winner.id&&(this.setPassed(i,!1),this.removePlayerLastCards(i),this.showPlayerLastCards(i,s[o],!0));this.setState({displayTimer:!1,winner:e.winner,ranking:e.ranking}),this.timeout=setTimeout((function(){t.setState({displayWinner:!0}),t.timeout=setTimeout((function(){t.endGame()}),7e3)}),3e3)}else e.event&&e.event.endsWith("Failed")&&alert("Code: "+e.code+"\nError: "+e.msg)}},{key:"getPlayerById",value:function(e){var t,n=D(this.props.party.players);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.id===e)return a}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"setPassed",value:function(e,t){var n=this.playerCardsMap[e.id];"left-cards"===n?this.setState({displayLeftPlayerPassed:t}):"right-cards"===n?this.setState({displayRightPlayerPassed:t}):"top-cards"===n?this.setState({displayTopPlayerPassed:t}):"bottom-cards"===n&&this.setState({displayBottomPlayerPassed:t})}},{key:"updateDeck",value:function(){document.getElementById("cards-container"),this.unselectAllCards();var e=document.getElementsByClassName("bottom-cards");console.log("old deck"),console.log(this.deck),console.log("My turn cards"),console.log(this.myTurnCards);var t,n=[];for(t=0;t<this.myTurnCards.length;t++)n.push(this.myTurnCards[t].index);var a=[];for(t=0;t<this.deck.length;t++)n.includes(t)||a.push(this.deck[t]);this.deck=a,console.log("Indexes"),console.log(n),console.log("new deck"),console.log(this.deck);var r,i,s=-.5*(6.25*this.deck.length+.52*(this.deck.length-1)),o=0,l=[];for(t=0;t<e.length;t++)i=e[t],r=parseInt(i.getAttribute("data-card-index")),console.log("=========== ELEMENT "+t+" INDEX "+r),n.includes(r)?(console.log("Removing: "+i.style.backgroundImage),l.push(i)):(console.log("Keeping "+i.style.backgroundImage),u=this.deck[o],console.log("card"),console.log(u),console.log("new index:"+o),c=s+6.77*o,i.setAttribute("data-card-index",o),i.style.transition="all 0.5s",i.style.transform="translate("+c+"em, 15.92em)",i.style.backgroundImage="url(../../img/playingcards/".concat(u.rank,"_of_").concat(u.suit,".svg)"),console.log("New image "+i.style.backgroundImage),o++);var c,u,d=3.125*(l.length+1)*.5;for(t=0;t<l.length;t++)c=3.125*t-d,u=this.myTurnCards[t].card,l[t].classList.add("shown-cards"),l[t].style.transition="all 0.5s ease-in-out",l[t].style.transform=" translate("+c+"em, 5.705em)",l[t].style.backgroundImage="url(../../img/playingcards/".concat(u.rank,"_of_").concat(u.suit,".svg)")}},{key:"sendGameReady",value:function(){this.request({event:"gameReady"})}},{key:"sendPass",value:function(){this.request({event:"pass"})}},{key:"sendTurn",value:function(e){this.request({event:"turn",cards:e})}},{key:"startGame",value:function(){this.deck&&this.spreadCards(),this.setState({passBtnDisabled:!0}),this.targetPlayerTimeout=0,this.startTimer()}},{key:"updateNumberOfCards",value:function(){var e=["left","top","right"];this.playerInfoMap={},this.playerCardsMap={};var t,n,a,r,i=this.props.party.players,s=-1;for(t=0;t<i.length;t++)if(i[t].id===this.props.client.player.id){s=t;break}for(t=1;t<4;t++)n=i[(s+t)%4],(a={})[r="playerInfo"+t]=3!==t?n.name+" ("+this.numberOfCards[n.id]+")":"("+this.numberOfCards[n.id]+") "+n.name,this.setState(a),this.playerInfoMap[n.id]=r,this.playerCardsMap[n.id]=e[t-1]+"-cards";this.playerCardsMap[this.props.client.player.id]="bottom-cards"}},{key:"removePlayerLastCards",value:function(e){var t=this.playerCardsMap[e.id];console.log("Removing for "+t+" from "+e.name);var n,a,r=document.getElementById("cards-container"),i=[],s=D(document.getElementsByClassName("shown-cards"));try{for(s.s();!(n=s.n()).done;){var o=n.value;console.log(o),o.classList.contains(t)&&(console.log("removing"),i.push(o))}}catch(e){s.e(e)}finally{s.f()}for(a=0;a<i.length;a++)r.removeChild(i[a])}},{key:"showPlayerLastCards",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.removePlayerLastCards(e),document.getElementById("cards-container");var a,r=this.playerCardsMap[e.id];if("left-cards"===r)for(a=document.getElementsByClassName("left-cards"),o=0;o<t.length;o++)l=3.125*o-35.42+(n?-8.33:0),c=t[o],a[o].classList.add("shown-cards"),a[o].style.transition="all 0.5s ease-in-out",a[o].style.transform=" translate("+l+"em, 0em)",a[o].style.backgroundImage="url(../../img/playingcards/".concat(c.rank,"_of_").concat(c.suit,".svg)");else if("top-cards"===r){a=document.getElementsByClassName("top-cards");var i=(n?-10.215:0)-5.705,s=3.125*(t.length+1)*.5;for(o=0;o<t.length;o++)l=3.125*o-s,c=t[o],a[o].classList.add("shown-cards"),a[o].style.transition="all 0.5s ease-in-out",a[o].style.transform=" translate("+l+"em, "+i+"em)",a[o].style.backgroundImage="url(../../img/playingcards/".concat(c.rank,"_of_").concat(c.suit,".svg)")}else if("right-cards"===r){var o,l,c;for(a=document.getElementsByClassName("right-cards"),o=0;o<t.length;o++)l=35.42-3.125*o+(n?8.33:0),c=t[o],a[o].classList.add("shown-cards"),a[o].style.transition="all 0.5s ease-in-out",a[o].style.transform=" translate("+l+"em, 0em)",a[o].style.backgroundImage="url(../../img/playingcards/".concat(c.rank,"_of_").concat(c.suit,".svg)")}}},{key:"spreadCards",value:function(){var e=this;this.spreadCardsDone=!0;var t,n=[];for(t=0;t<52;t++)n.push(r.a.createElement("div",{key:t,className:"playingcard",style:{zIndex:52-t}}));this.setState({cards:n}),this.timeout=setTimeout((function(){var t,n,a,r=document.getElementsByClassName("playingcard"),i=0;for(n=1;n<=r.length;n++){if(a=r[n-1],n%4==0)a.classList.add("left-cards"),t="translate(-43.75em, 0em) rotate(-180deg)";else if(n%4==1)a.classList.add("top-cards"),t="translate(0em, -15.92em) rotate(-180deg)";else if(n%4==2)a.classList.add("right-cards"),t="translate(43.75em, 0em) rotate(180deg)";else{a.classList.add("bottom-cards"),t="translate("+(6.77*i-40.62)+"em, 15.92em)",a.setAttribute("data-card-index",i),a.addEventListener("mouseover",(function(e){e.stopImmediatePropagation();var t=e.target;if(!t.classList.contains("shown-cards")&&"true"!==t.getAttribute("data-card-selected")){t.style.transition="all 0.2s ease-in-out";var n=t.style.transform.split(") ")[0];n!==t.style.transform&&(n+=")"),t.style.transform=n+" translate(0em, -0.78125em)"}})),a.addEventListener("mouseout",(function(e){e.stopImmediatePropagation();var t=e.target;if("true"!==t.getAttribute("data-card-selected")){t.style.transition="all 0.2s ease-in-out";var n=t.style.transform.split(") ")[0];n!==t.style.transform&&(n+=")"),t.style.transform=n}})),a.addEventListener("click",(function(t){t.stopImmediatePropagation();var n=t.target;n.classList.contains("shown-cards")||("true"===n.getAttribute("data-card-selected")?e.unselectCardElement(n):e.selectCardElement(n))}));var s=e.deck[i];a.style.backgroundImage="url(../../img/playingcards/".concat(s.rank,"_of_").concat(s.suit,".svg)"),i++}a.style.transition="all 0.5s "+Math.round(.025*n*100)/100+"s",a.style.transform=t}e.timeout=setTimeout((function(){e.setState({displayNumberOfCards:!0,displayCombinationButtons:!0,displayWaitingPlayers:!0,displayTimer:!0}),e.sendGameReady()}),2e3)}),1e3)}},{key:"updateAvailableCombinations",value:function(){this.setState({availableCombinations:this.fc.findAll(this.deck)})}},{key:"selectCardElement",value:function(e){e.style.transition="all 0.2s ease-in-out";var t=e.style.transform.split(") ")[0];t!==e.style.transform&&(t+=")"),e.style.transform=t+" translate(0em, -1.5625em)",e.setAttribute("data-card-selected","true")}},{key:"unselectCardElement",value:function(e){e.style.transition="all 0.2s ease-in-out";var t=e.style.transform.split(") ")[0];t!==e.style.transform&&(t+=")"),e.style.transform=t,e.setAttribute("data-card-selected","false")}},{key:"selectCombination",value:function(e){this.unselectAllCards(),this.lastSelectCombinationName===e?this.lastSelectCombinationCount++:(this.lastSelectCombinationName=e,this.lastSelectCombinationCount=0);var t=this.state.availableCombinations[e];if(this.lastSelectCombinationCount===t.length)return this.lastSelectCombinationName=!1,this.lastSelectCombinationCount=0,void this.unselectAllCards();var n=t[this.lastSelectCombinationCount];this.selectCards(n)}},{key:"selectCards",value:function(e){var t,n,a=D(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;(t=this.findCardElement(r.index))?this.selectCardElement(t):console.warn("Cannot find card index "+r.index)}}catch(e){a.e(e)}finally{a.f()}}},{key:"unselectAllCards",value:function(){var e,t=D(document.getElementsByClassName("bottom-cards"));try{for(t.s();!(e=t.n()).done;){var n=e.value;this.unselectCardElement(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"findCardElement",value:function(e){var t,n=D(document.getElementsByClassName("bottom-cards"));try{for(n.s();!(t=n.n()).done;){var a=t.value;if(parseInt(a.getAttribute("data-card-index"))===e)return a}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"onPassBtnClicked",value:function(){this.lastPlayer&&this.lastCombination&&(this.setState({displayTurnButtons:!1}),this.sendPass())}},{key:"onHintBtnClicked",value:function(){this.request({event:"hint"})}},{key:"onSubmitBtnClicked",value:function(){this.setState({displayTurnButtons:!1});var e=this.getSelectedCards(),t=this.fc.cardsToDeck(e);if(!this.lastPlayer||!this.lastCombination){var n,a=!1,r=D(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("diamonds"===i.suit&&"3"===i.rank){a=!0;break}}}catch(e){r.e(e)}finally{r.f()}if(!a)return alert("First turn cards must include a Diamond-3 card."),void this.setState({displayTurnButtons:!0})}var s=O()(t);if(!s)return alert("Invalid combination."),void this.setState({displayTurnButtons:!0});if(this.lastCombination&&this.lastPlayer.id!==this.props.client.player.id){if(this.lastCombination.combinationName!==s.combinationName)return alert("Combination type is not the same the last combination type."),void this.setState({displayTurnButtons:!0});if(s.compare(this.lastCombination)<=0)return alert("Your combination has to be larger than the last combination."),void this.setState({displayTurnButtons:!0})}this.sendTurn(e)}},{key:"getSelectedCards",value:function(){var e,t,n=[],a=D(document.getElementsByClassName("bottom-cards"));try{for(a.s();!(t=a.n()).done;){var r=t.value;"true"===r.getAttribute("data-card-selected")&&(e=parseInt(r.getAttribute("data-card-index")),n.push({index:e,card:this.deck[e]}))}}catch(e){a.e(e)}finally{a.f()}return n}},{key:"renderPlayground",value:function(){var e=this,t={};if(this.state.availableCombinations){var n,a=D(x.a.FIVE_CARD_HANDS);try{for(a.s();!(n=a.n()).done;){var i=n.value;t[i]=this.state.availableCombinations[i]&&this.state.availableCombinations[i].length>0}}catch(e){a.e(e)}finally{a.f()}}return r.a.createElement("div",{className:"board",id:"playingcards-board"},r.a.createElement("div",{className:"playingcards",id:"cards-container"},this.state.displayWinner&&r.a.createElement(R,{show:this.state.displayWinner,party:this.props.client.party,ranking:this.state.ranking,winner:this.state.winner,onHide:function(){e.setState({displayWinner:!1})}}),this.state.displayWaitingPlayers&&r.a.createElement("div",{className:"waiting-players align-items-center justify-items-center"},"Waiting other players..."),this.state.displayLeftPlayerPassed&&r.a.createElement("div",{className:"left-player-passed align-items-center justify-items-center"},"Passed"),this.state.displayTopPlayerPassed&&r.a.createElement("div",{className:"top-player-passed align-items-center justify-items-center"},"Passed"),this.state.displayRightPlayerPassed&&r.a.createElement("div",{className:"right-player-passed align-items-center justify-items-center"},"Passed"),this.state.displayBottomPlayerPassed&&r.a.createElement("div",{className:"bottom-player-passed align-items-center justify-items-center"},"Passed"),this.state.displayTimer&&r.a.createElement("div",{id:"player-timer"},this.state.remainTime),this.state.displayNumberOfCards&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"player1"},r.a.createElement("p",null,this.state.playerInfo1)),r.a.createElement("div",{className:"player2"},r.a.createElement("p",null,this.state.playerInfo2)),r.a.createElement("div",{className:"player3"},r.a.createElement("p",null,this.state.playerInfo3))),this.state.displayTurnButtons&&r.a.createElement("div",{className:"turn-buttons"},r.a.createElement(A.a,null,r.a.createElement(f.a,{variant:"primary",id:"pass-btn",onClick:this.onPassBtnClicked},r.a.createElement("i",{className:"fas fa-forward",disabled:this.state.passBtnDisabled})," Pass"),r.a.createElement(f.a,{variant:"warning",id:"hint-btn",onClick:this.onHintBtnClicked},r.a.createElement("i",{className:"far fa-lightbulb"})," Hint"),r.a.createElement(f.a,{variant:"success",id:"submit-btn",onClick:this.onSubmitBtnClicked},r.a.createElement("i",{className:"fas fa-check"})," Submit"))),this.state.displayCombinationButtons&&r.a.createElement("div",{className:"combination-buttons"},r.a.createElement(A.a,null,r.a.createElement(f.a,{variant:t.straight?"success":"secondary",id:"straight-btn",disabled:!t.straight,onClick:function(){e.selectCombination("straight")}},"Straight"),r.a.createElement(f.a,{variant:t.flush?"success":"secondary",id:"flush-btn",disabled:!t.flush,onClick:function(){e.selectCombination("flush")}},"Flush"),r.a.createElement(f.a,{variant:t.fullHouse?"success":"secondary",id:"full-house-btn",disabled:!t.fullHouse,onClick:function(){e.selectCombination("fullHouse")}},"Full House"),r.a.createElement(f.a,{variant:t.fourOfAKind?"success":"secondary",id:"four-of-a-kind-btn",disabled:!t.fourOfAKind,onClick:function(){e.selectCombination("fourOfAKind")}},"Four Of A Kind"),r.a.createElement(f.a,{variant:t.straightFlush?"success":"secondary",id:"straight-flush-btn",disabled:!t.straightFlush,onClick:function(){e.selectCombination("straightFlush")}},"Straight Flush"))),this.state.cards))}}])&&G(a.prototype,i),s&&G(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,i,s}(_),W=n(170),J=function(e){var t,n,a,i,s=[],o=[[1,2,3],[4,5,6],[7,8,9]];for(n=0;n<o.length;n++){for(t=[],a=0;a<o[n].length;a++)i=!(!e.enabled||0===e.enabled.length)&&e.enabled.includes(o[n][a]),t.push(r.a.createElement(f.a,{variant:i?"outline-secondary":"secondary",className:"py-3 touch-keypad-key touch-keypad-value",key:n+"-"+a,onClick:e.onNumberClick,disabled:!i},o[n][a]));s.push(r.a.createElement(A.a,{key:n},t))}return r.a.createElement(W.a,{fluid:!0,className:"touch-keypad row",style:{display:e.show?"":"none"}},r.a.createElement(A.a,{vertical:!0},s,r.a.createElement(A.a,null,r.a.createElement(f.a,{variant:"primary",className:"py-3 touch-keypad-key touch-keypad-function touch-keypad-function-done",disabled:!e.doneEnabled,onClick:e.onDoneClick},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement(f.a,{variant:e.enabled&&e.enabled.includes(0)?"outline-secondary":"secondary",className:"py-3 touch-keypad-key touch-keypad-value",onClick:e.onNumberClick,disabled:!(e.enabled&&e.enabled.includes(0))},"0"),r.a.createElement(f.a,{variant:"warning",className:"py-3 touch-keypad-key touch-keypad-function touch-keypad-function-backspace",disabled:!e.backspaceEnabled,onClick:e.onBackspaceClick},r.a.createElement("i",{className:"fas fa-backspace"})))))};n(152);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,n){return(t=Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Q(a.key),a)}}function Q(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Y(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}function X(e,t,n){return t=Z(t),function(e,t){if(t&&("object"==Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Z(e).constructor):t.apply(e,n))}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t){return(ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var te={bigtwo:{instance:U,icon:"fas fa-heart",name:"Big Two",minPlayers:4,maxPlayers:4},guessnum:{instance:function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=X(this,t,[e,"guessnum"])).maximum=100,n.randCount=0,n.guess=n.guess.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(t,e),n=t,(a=[{key:"enable",value:function(){this.setState(V(V({loading:!1,homeScreen:!1,gameScreen:!1,keypadDisplay:!1,funcKeyEnable:!1,keypad:!0,text:0,numberMin:1,numberMax:this.maximum,enabledKeys:[]},"numberMin",-1),"numberMax",-1)),this.bootDone()}},{key:"disable",value:function(){clearInterval(this.interval),document.getElementsByTagName("body")[0].classList.remove("guessnum-correct"),clearTimeout(this.timeout)}},{key:"onResponse",value:function(e){if(console.log("RESPONSE"),console.log(e),"numberMinMax"===e.event)this.setState({numberMin:e.min,numberMax:e.max});else if("newGuess"===e.event){"?"===this.state.text&&this.setState({text:0});var t={numberMin:e.min,numberMax:e.max,lastGuess:e.number,success:e.success};this.state.countDone?(this.setState(t),this.countUpDownTo(e.number)):this.awaitNumbers.push(t)}}},{key:"startGame",value:function(){clearTimeout(this.timeout),this.setState({homeScreen:!1,gameScreen:!0,countDone:!1}),this.awaitNumbers=[],this.disableInput(),this.fakeRandom()}},{key:"fakeRandom",value:function(){var e=Math.floor(Math.random()*this.maximum);this.setState({text:e}),this.randCount++,this.randCount<50||-1===this.state.numberMin||-1===this.state.numberMax?this.timeout=setTimeout(function(){this.fakeRandom()}.bind(this),25):(this.randCount=0,this.setState({text:"?",countDone:!0}),this.isMyTurn()&&this.enableInput())}},{key:"countUpDownTo",value:function(e){var t=this;this.setState({countDone:!1});var n=this.state.text;if(e>n)this.setState({text:n+1}),this.timeout=setTimeout(function(){this.countUpDownTo(e)}.bind(this),750/(e-n));else if(e<n)this.setState({text:n-1}),this.timeout=setTimeout(function(){this.countUpDownTo(e)}.bind(this),750/(n-e));else{if(this.state.success)return this.setState({gameScreen:!1,resultScreen:!0}),this.interval=setInterval((function(){var e=document.getElementsByTagName("body")[0].classList;e.contains("guessnum-correct")?e.remove("guessnum-correct"):e.add("guessnum-correct")}),1e3),void(this.timeout=setTimeout((function(){t.endGame()}),1e4));if(this.awaitNumbers.length>0){var a=this.awaitNumbers.shift();this.setState(a),this.countUpDownTo(a.lastGuess)}else this.setState({countDone:!0}),this.isMyTurn()&&this.enableInput()}}},{key:"enableInput",value:function(){this.state.keypad||(document.getElementById("guess-number-field").disabled=!1,document.getElementById("guess-number-field").focus()),document.getElementById("guess-btn").disabled=!1,this.setState({keypadDisplay:this.state.keypad,funcKeyEnable:!0,enabledKeys:[1,2,3,4,5,6,7,8,9,0]})}},{key:"disableInput",value:function(){document.getElementById("guess-number-field").disabled=!0,document.getElementById("guess-btn").disabled=!0,this.setState({keypadDisplay:!1,funcKeyEnable:!1,enabledKeys:[]})}},{key:"myTurn",value:function(){this.state.countDone&&this.enableInput()}},{key:"guess",value:function(){this.disableInput();var e=document.getElementById("guess-number-field").value;if(""===e)return this.enableInput(),this.setState({error:"It cannot be blank."}),void(document.getElementById("guess-btn").disabled=!1);var t=parseInt(e);return isNaN(t)?(this.enableInput(),void this.setState({error:"It must be an integer."})):t>=this.state.numberMax?(this.enableInput(),void this.setState({error:"It cannot be larger than the maximum value."})):t<=this.state.numberMin?(this.enableInput(),void this.setState({error:"It cannot be less than the minimum value."})):(this.setState({error:""}),this.request({event:"guess",number:t}),void(document.getElementById("guess-number-field").value=""))}},{key:"renderPlayground",value:function(){var e=this;return r.a.createElement("div",null,this.state.gameScreen&&r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center guessnum-home-screen"},r.a.createElement("p",{className:"display-2"},this.state.text),r.a.createElement("p",{className:"display-4"},this.state.numberMin," - ",this.state.numberMax),r.a.createElement("br",null),r.a.createElement(u.a,{className:"ml-8 mr-8"},r.a.createElement(d.a,{id:"guess-number-field",type:"number",placeholder:"Your Guess","aria-label":"Your Guess",onKeyPress:function(t){"Enter"===t.key&&e.guess()},disabled:!0}),r.a.createElement(u.a.Append,null,r.a.createElement(f.a,{variant:"success",id:"guess-btn",onClick:this.guess},"Guess"))),r.a.createElement("br",null),r.a.createElement("p",{className:"text-danger"},this.state.error)),this.state.resultScreen&&r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center guessnum-home-screen"},r.a.createElement("p",{className:"display-2"},this.state.text),r.a.createElement("p",{className:"display-4 text-success"},"Bingo!"),this.props.party.players.length>1&&r.a.createElement("p",null,"Winner: ",r.a.createElement("b",null,this.getTurnPlayer().name)),r.a.createElement("br",null),r.a.createElement("p",null,"You will be redirected back to the party dialog very soon.")),r.a.createElement(J,{show:this.state.keypadDisplay,enabled:this.state.enabledKeys,doneEnabled:this.state.funcKeyEnable,backspaceEnabled:this.state.funcKeyEnable,onNumberClick:function(e){e.preventDefault(),console.log("Click num");var t=e.target.innerHTML;document.getElementById("guess-number-field").value=document.getElementById("guess-number-field").value+t},onDoneClick:function(t){t.preventDefault(),console.log("Click done"),e.guess()},onBackspaceClick:function(e){e.preventDefault(),console.log("Click bs"),document.getElementById("guess-number-field").value=document.getElementById("guess-number-field").value.slice(0,-1)}}))}}])&&$(n.prototype,a),i&&$(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(_),icon:"fas fa-list-ol",name:"Guess Number",minPlayers:1,maxPlayers:10}};function ne(e,t,n){return r.a.createElement(f.a,{key:e,variant:"secondary",disabled:t,onClick:function(){n(e)}},r.a.createElement("i",{className:te[e].icon+" fa-2x"}),r.a.createElement("br",null),te[e].name)}var ae=function(e){return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Play³ (","1.4.5",")")),r.a.createElement(c.a.Body,null,r.a.createElement("label",null,"Nickname:"),r.a.createElement(u.a,{className:"mb-3"},r.a.createElement(d.a,{id:"nickname-field",placeholder:"Nickname","aria-label":"Nickname","aria-describedby":"party-code-field-addon"})),r.a.createElement("hr",null),r.a.createElement("label",null,"Join a party:"),r.a.createElement(u.a,{className:"mb-3"},r.a.createElement(d.a,{id:"party-code-field",placeholder:"Party Code","aria-label":"Party Code","aria-describedby":"party-code-field-addon"}),r.a.createElement(u.a.Append,null,r.a.createElement(f.a,{variant:"success",onClick:e.joinGame},"Join"))),r.a.createElement("div",{className:"d-flex"},r.a.createElement(f.a,{variant:"success",className:"btn-block"},"Quick join"),r.a.createElement(f.a,{variant:"secondary",className:"ml-2"},r.a.createElement("i",{className:"fas fa-cog"}))),r.a.createElement("hr",null),r.a.createElement("p",null,"Start a new game:"),r.a.createElement("div",{className:"hori-scroll"},function(e){var t=[];for(var n in te)t.push(ne(n,!1,e));return t}(e.startGame)),r.a.createElement(m.a.Check,{type:"switch",id:"local-mode-switch",label:"Start game locally",checked:!1,disabled:!0})),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))};function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function se(e,t){var n,a=0,r=re(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.online&&!t[i.id]&&a++}}catch(e){r.e(e)}finally{r.f()}return a}var oe=function(e){var t,n,a=e.party.admin,i=e.party.players,s=[];for(t=0;t<i.length;t++)n=i[t].id,s.push(r.a.createElement("tr",{key:n},r.a.createElement("td",null,t+1),r.a.createElement("td",null,r.a.createElement("span",{className:i[t].online?"":"text-secondary"},n===a.id?"👑 ":"",i[t].name," ",i[t].aiMode?"(AI)":""," ",e.gameInitReadyList[n]||!i[t].online?e.playerReadyList[n]?"✔️":"":r.a.createElement(g.a,{animation:"border",role:"status",size:"sm"}))),r.a.createElement("td",null,n!==a.id&&e.client.player.id===a.id&&r.a.createElement(f.a,{"data-player-id":n,variant:"danger",onClick:function(t){e.client.kickPlayer(t.target.getAttribute("data-player-id"))}},"Kick"))));var o,l,m,y,p,h=(o=e.party.gameId,te[o].minPlayers),b=function(e){return te[e].maxPlayers}(e.party.gameId);if(se(i,e.gameInitReadyList)>0)l="secondary",m=!0,y="Awaiting all players to boot game";else if(e.playerReadyList[e.player.id])if(e.player.id===a.id){var v=se(i,e.playerReadyList);v>0?(l="secondary",m=!0,y=i.length-v+"/"+i.length+" players ready"):i.length<h?(l="secondary",m=!0,y="Not enough players"):(l="success",m=!1,y="Start Game",p=function(){e.client.startGame()})}else l="warning",m=!1,y="Unready",p=function(){e.client.playerUnready()};else l="success",m=!1,y="Ready",p=function(){e.client.playerReady()};return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Party")),r.a.createElement(c.a.Body,null,r.a.createElement("div",{className:"d-flex"},ne(e.party.gameId,!e.playgroundBootDone||e.player.id!==a.id,(function(){})),r.a.createElement("div",{className:"container"},r.a.createElement("span",null,"Party Code:"),r.a.createElement("h2",null,e.party.partyId),r.a.createElement(u.a,{className:"mb-2"},r.a.createElement(d.a,{id:"share-link",value:"https://play3.anth.cloud/?"+e.party.partyId,readOnly:!0}),r.a.createElement(u.a.Append,null,r.a.createElement(f.a,{variant:"primary",onClick:function(){var e=document.getElementById("share-link").value;navigator.share?navigator.share({url:e}):prompt("Your browser does not support sharing. Please copy the URL below and share it to your friends.",e)}},r.a.createElement("i",{className:"fas fa-share-square"})," Share"))),r.a.createElement("p",{className:"mb-2"},e.playgroundBootDone?"The game requires at least "+h+" player(s) and at maximum "+b+" player(s)."+(e.player.id===a.id?" Click on the icon to change game.":""):"Loading..."," "),r.a.createElement(f.a,{variant:l,onClick:p,block:!0,disabled:m},y))),r.a.createElement("hr",null),r.a.createElement(B.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nickname"),r.a.createElement("th",null))),r.a.createElement("tbody",null,s)),e.player.id===a.id&&r.a.createElement(f.a,{variant:"success",onClick:function(){var t=prompt("AI Player Name:");e.client.addAi(t)},block:!0},r.a.createElement("i",{className:"fas fa-plus"})," Add computer (AI)"),r.a.createElement("hr",null),r.a.createElement(u.a,{className:"mb-3"},r.a.createElement(d.a,{id:"your-message-field",placeholder:"Your message","aria-label":"Your message","aria-describedby":"your-message-addon"}),r.a.createElement(u.a.Append,null,r.a.createElement(f.a,{variant:"success",onClick:e.onSendMsg},"Send"))),r.a.createElement("hr",null),r.a.createElement("div",{id:"party-modal-chat"})),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},le=function(e){return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Play³ (","1.4.5",")")),r.a.createElement(c.a.Body,null,r.a.createElement("p",null,"You are joining party ",r.a.createElement("b",null,e.partyId),"!"),r.a.createElement("hr",null),r.a.createElement("label",null,"Nickname:"),r.a.createElement(u.a,{className:"mb-3"},r.a.createElement(d.a,{id:"join-nickname-field",placeholder:"Nickname","aria-label":"Nickname","aria-describedby":"party-code-field-addon"})),r.a.createElement("hr",null),r.a.createElement(f.a,{variant:"success",className:"btn-block",onClick:e.onJoin},"Join")),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},ce=function(e){var t=e.create?"Creating":"Joining";return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,t," Party")),r.a.createElement(c.a.Body,null,r.a.createElement("div",{className:"d-flex justify-items-center align-items-center"},r.a.createElement(g.a,{animation:"grow",role:"status"}),r.a.createElement("strong",{className:"ml-3"},t," party",e.partyId?" "+e.partyId:"","..."))),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))},ue=function(e){return r.a.createElement(c.a,{show:e.show,animation:!1,backdrop:"static"},r.a.createElement(c.a.Header,null,r.a.createElement(c.a.Title,null,"Play³")),r.a.createElement(c.a.Body,null,r.a.createElement("div",{className:"d-flex justify-items-center align-items-center"},r.a.createElement(g.a,{animation:"grow",role:"status"}),r.a.createElement("strong",{className:"ml-3"},"Connecting to server..."))),r.a.createElement(c.a.Footer,null,r.a.createElement("p",null,"Application licensed under the GPLv3 Public License.")))};n(154),n(156),n(159),n(160),n(161),n(162);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return me(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function ye(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,pe(a.key),a)}}function pe(e){var t=function(e,t){if("object"!=de(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=de(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==de(t)?t:t+""}var he=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endPoint=t,this.player=!1,this.party=!1,this.token=!1,this.ready=!1,this.versionMatch=!1,this.serverVersion=!1,this.gameInitReadyList={},this.playerReadyList={},this.listeners={},this.pendingRequests=[],this.initializeSocket()},(t=[{key:"initializeSocket",value:function(){var e=this;this.socket=l()(this.endPoint),this.socket.on("server",(function(t){if("info"===t.event){if(e.serverVersion=t.version,"1.4.5"!==t.version)e.askRefreshPage();else for(e.versionMatch=!0;e.pendingRequests.length>0;){var n=e.pendingRequests.shift();e.forceSocketEmit(n.event,n.data)}e.ready=!0,e.dispatch("__ready")}})),this.socket.on("party",(function(t){if(console.log(t),"partyJoined"===t.event)e.player=t.player,e.token=t.token,e.party=t.party;else if("gameInitReady"===t.event)e.gameInitReadyList=t.gameInitReady;else if("playerReady"===t.event)e.playerReadyList=t.playerReady;else if(e.party&&"playerListChanged"===t.event)e.party.players=t.players;else if(e.party&&"gameChanged"===t.event)e.party.gameId=t.gameId;else if(e.party&&"playerChanged"===t.event){var n,a=!1;for(n=0;n<e.party.players.length;n++)if(e.party.players[n].id===t.player.id){a=e.party.players[n];break}a&&(a.online=t.player.online,a.aiMode=t.player.aiMode)}else e.party&&"adminChanged"===t.event&&(e.party.admin=t.admin);e.dispatch("party",t)})),this.socket.on("game",(function(t){e.dispatch("game",t)})),this.socket.on("chat",(function(t){e.dispatch("chat",t)})),this.forceSocketEmit("server",{event:"info"})}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e],a=n.indexOf(t);return-1!==a&&(n.splice(a,1),!0)}},{key:"dispatch",value:function(e,t){if(this.listeners[e]){var n,a=fe(this.listeners[e]);try{for(a.s();!(n=a.n()).done;)(0,n.value)(t,this)}catch(e){a.e(e)}finally{a.f()}}}},{key:"askRefreshPage",value:function(){confirm("Your client version (1.4.5) does not match with the server's version ("+this.serverVersion+"). This is probably due to a pending update for the app. Do you want to refresh the page and try again?")&&(window.location=window.location.origin+"/?"+Date.now())}},{key:"forceSocketEmit",value:function(e,t){this.socket.emit(e,t)}},{key:"socketEmit",value:function(e,t){if(this.ready){if(!this.versionMatch)return void this.askRefreshPage();this.forceSocketEmit(e,t)}else this.pendingRequests.push({event:e,data:t})}},{key:"sendMessage",value:function(e){this.socketEmit("chat",{token:this.token,playerId:this.player.id,partyId:this.party.partyId,msg:e})}},{key:"aiMode",value:function(e){this.socketEmit("party",{event:"aiMode",token:this.token,playerId:this.player.id,partyId:this.party.partyId,enable:e})}},{key:"addAi",value:function(e){this.socketEmit("party",{event:"addAi",token:this.token,playerId:this.player.id,partyId:this.party.partyId,playerName:e})}},{key:"gameRequest",value:function(e){this.socketEmit("game",{token:this.token,partyId:this.party.partyId,playerId:this.player.id,request:e})}},{key:"createParty",value:function(e,t){this.socketEmit("party",{event:"create",gameId:t,playerName:e})}},{key:"joinParty",value:function(e,t){this.socketEmit("party",{event:"join",partyId:t,playerName:e})}},{key:"kickPlayer",value:function(e){this.socketEmit("party",{event:"kickPlayer",token:this.token,partyId:this.party.partyId,playerId:this.player.id,kickPlayerId:e})}},{key:"gameInitReady",value:function(){this.socketEmit("party",{event:"gameInitReady",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}},{key:"playerReady",value:function(){this.socketEmit("party",{event:"playerReady",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}},{key:"playerUnready",value:function(){this.socketEmit("party",{event:"playerUnready",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}},{key:"startGame",value:function(){this.socketEmit("party",{event:"startGame",token:this.token,partyId:this.party.partyId,playerId:this.player.id})}}])&&ye(e.prototype,t),n&&ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ge(a.key),a)}}function ge(e){var t=function(e,t){if("object"!=be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=be(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==be(t)?t:t+""}function ke(e,t,n){return t=Ee(t),function(e,t){if(t&&("object"==be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ee(e).constructor):t.apply(e,n))}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Se=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=ke(this,t,[e]);var a="https://play3-srv.anth.cloud",r=localStorage.getItem("endpoint");return localStorage&&r&&(a=r),n.client=new he(a),n.state={connectingModalShow:!0,gameModalShow:!1,partyModalShow:!1,playground:!1,gameInitReadyList:!1,playerReadyList:!1},n.startGame=n.startGame.bind(n),n.joinGame=n.joinGame.bind(n),n.onJoinNicknameClicked=n.onJoinNicknameClicked.bind(n),n.onSendMsg=n.onSendMsg.bind(n),n.listen(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&we(e,t)}(t,e),n=t,(a=[{key:"onJoinNicknameClicked",value:function(){var e=document.getElementById("join-nickname-field").value;this.client.joinParty(e,this.state.joinPartyId),this.setState({joinNicknameModalShow:!1,joiningPartyModalShow:!0,creatingParty:!1})}},{key:"listen",value:function(){var e=this;this.client.on("__ready",(function(){if(e.setState({connectingModalShow:!1}),window.location.search&&7===window.location.search.length){var t=window.location.search.substring(1,7);e.setState({joinNicknameModalShow:!0,joinPartyId:t})}else e.setState({gameModalShow:!0,connectingModalShow:!1})})),this.client.on("party",(function(t){if(e.setState({party:e.client.party}),"gameInitReady"===t.event)e.setState({gameInitReadyList:e.client.gameInitReadyList});else if("playerReady"===t.event)e.setState({playerReadyList:e.client.playerReadyList});else if("startGame"===t.event)e.setState({gameModalShow:!1,partyModalShow:!1});else if(e.client.party&&e.client.party.gameId&&("partyJoined"===t.event||"gameChanged"===t.event))e.state.playground?e.setState({awaitChangeGame:!0}):(e.setState({joiningPartyModalShow:!1,partyModalShow:!0}),e.updatePlayground());else if(t.event&&t.event.endsWith("Failed")){if(console.error(t),-4===t.code)return;alert("Code: "+t.code+"\nError: "+t.msg)}})),this.client.on("chat",(function(t){if(e.state.partyModalShow&&(console.log("App Chat"),console.log(t),"chat"===t.event)){var n=document.getElementById("party-modal-chat"),a=document.createElement("p");a.innerHTML="<b>"+t.player.name+":</b> "+t.msg,a.classList.add("chat-message"),n.prepend(a)}}))}},{key:"updatePlayground",value:function(){var e,t=this;this.setState({playgroundBootDone:!1,playground:r.a.createElement((e=this.client.party.gameId,te[e].instance),{party:this.state.party,client:this.client,onBootDone:function(){console.log("Bootdone"),t.setState({playgroundBootDone:!0}),t.client.gameInitReady()},onDisable:function(){t.setState({gameModalShow:!1,partyModalShow:!0,playground:!1,playgroundBootDone:!1}),t.state.awaitChangeGame&&(t.setState({awaitChangeGame:!1}),t.updatePlayground())}})})}},{key:"joinGame",value:function(){var e=document.getElementById("nickname-field").value,t=document.getElementById("party-code-field").value;e&&""!==e?t&&""!==t&&6===t.length?(this.client.joinParty(e,t),this.setState({gameModalShow:!1,joiningPartyModalShow:!0,creatingParty:!1})):alert("Party Code Invalid."):alert("Please fill in your nickname.")}},{key:"startGame",value:function(e){if(function(e){return void 0!==te[e]}(e)){document.getElementById("local-mode-switch").checked;var t=document.getElementById("nickname-field").value;t&&""!==t?(this.client.createParty(t,e),this.setState({gameModalShow:!1,joiningPartyModalShow:!0,creatingParty:!0})):alert("Please fill in your nickname.")}else alert("The selected game is currently unavailable.")}},{key:"onSendMsg",value:function(){var e=document.getElementById("your-message-field").value;e&&""!==e&&(document.getElementById("your-message-field").value="",this.client.sendMessage(e))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.playground,r.a.createElement(ue,{show:this.state.connectingModalShow}),r.a.createElement(ae,{show:this.state.gameModalShow,onHide:function(){return e.setState({gameModalShow:!1})},startGame:this.startGame,joinGame:this.joinGame}),this.state.joiningPartyModalShow&&r.a.createElement(ce,{show:this.state.joiningPartyModalShow,create:this.state.creatingParty,partyId:this.state.joinPartyId}),this.state.joinNicknameModalShow&&r.a.createElement(le,{show:this.state.joinNicknameModalShow,partyId:this.state.joinPartyId,onJoin:this.onJoinNicknameClicked}),this.state.partyModalShow&&r.a.createElement(oe,{show:this.state.partyModalShow,onHide:function(){return e.setState({partyModalShow:!1})},client:this.client,playerReadyList:this.state.playerReadyList,gameInitReadyList:this.state.gameInitReadyList,party:this.state.party,player:this.client.player,playgroundBootDone:this.state.playgroundBootDone,onSendMsg:this.onSendMsg}))}}])&&ve(n.prototype,a),i&&ve(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.a.Component);s.a.render(r.a.createElement(Se,null),document.getElementById("root"))}],[[164,1,2]]]);
//# sourceMappingURL=app.1d7a470337145cdb0761.js.map